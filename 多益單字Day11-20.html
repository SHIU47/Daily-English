import React, { useState, useEffect, useMemo, useCallback } from 'react';
import { BookOpenText, CheckCircle, Calendar, List, ChevronDown, Check, X, Volume2, RotateCcw } from 'lucide-react';

// ------------------------------------------
// 1. å–®å­—è³‡æ–™ (Day 11 - 20)
// ------------------------------------------
const VOCABULARY_DAY_11 = [
    { word: 'renowned', meaning: 'æœ‰åçš„' },
    { word: 'bright', meaning: 'æ˜äº®' },
    { word: 'frustrating', meaning: 'ä»¤äººæ²®å–ªçš„' },
    { word: 'coordinated', meaning: 'ä¸€è‡´çš„' },
    { word: 'proficient', meaning: 'ç²¾é€šçš„' },
    { word: 'alternative', meaning: 'äº¤æ›¿çš„' },
    { word: 'economic', meaning: 'ç¶“æ¿Ÿä¸Šçš„' },
    { word: 'admirable', meaning: 'ä»¤äººæ¬½ä½©çš„' },
    { word: 'profitable', meaning: 'æœ‰ç²åˆ©çš„' },
    { word: 'insistent', meaning: 'å …æŒçš„' },
    { word: 'respectful', meaning: 'å°Šé‡çš„' },
    { word: 'immediate', meaning: 'ç«‹åˆ»çš„' },
    { word: 'disappointing', meaning: 'ä»¤äººæ²®å–ª' },
    { word: 'modest', meaning: 'éåº¦çš„' },
    { word: 'fair', meaning: 'å…¬æ­£çš„' },
    { word: 'parallel', meaning: 'å¹³è¡Œçš„' },
    { word: 'original', meaning: 'åŸæœ¬çš„' },
    { word: 'advisable', meaning: 'å¯å–çš„' },
    { word: 'introductory', meaning: 'å…¥é–€çš„' },
    { word: 'solid', meaning: 'å …å›ºçš„' },
    { word: 'valid', meaning: 'æœ‰æ•ˆçš„' },
    { word: 'sole', meaning: 'å”¯ä¸€çš„' },
    { word: 'critics', meaning: 'è©•è«–å®¶' },
    { word: 'lively', meaning: 'ç†±çƒˆçš„' },
    { word: 'overwhelmingly', meaning: 'å£“å€’æ€§çš„' },
    { word: 'relaxing', meaning: 'æ”¾é¬†çš„' },
    { word: 'present', meaning: 'ç¾ä»Šçš„' },
    { word: 'wasteful', meaning: 'æµªè²»çš„' },
    { word: 'flawed', meaning: 'æœ‰ç¼ºé™·çš„' },
    { word: 'domestic', meaning: 'åœ‹å…§çš„' },
    { word: 'remote', meaning: 'é™é çš„' },
    { word: 'sizable', meaning: 'ç›¸ç•¶å¤§çš„' },
    { word: 'obvious', meaning: 'æ˜é¡¯çš„' },
    { word: 'conventional', meaning: 'ç¿’æ…£ã€å‚³çµ±' },
    { word: 'distinctive', meaning: 'ç¨ç‰¹çš„' },
    { word: 'authentic', meaning: 'çœŸæ­£çš„' },
    { word: 'idle', meaning: 'é–’ç½®çš„' },
    { word: 'innovative', meaning: 'å‰µæ–°çš„' },
    { word: 'ample', meaning: 'å”¯ä¸€çš„' },
    { word: 'intense', meaning: 'å¼·çƒˆçš„' },
    { word: 'complex', meaning: 'è¤‡é›œçš„' },
    { word: 'statistical', meaning: 'çµ±è¨ˆçš„' },
    { word: 'cashier', meaning: 'æ”¶éŠ€å“¡' },
    { word: 'hesitant', meaning: 'çŒ¶è±«' },
    { word: 'display', meaning: 'å±•ç¤º' },
    { word: 'exchange', meaning: 'äº¤æ›' },
    { word: 'flyer', meaning: 'å»£å‘Šå‚³å–®' },
    { word: 'grand opening', meaning: 'ç››å¤§é–‹å¹•' },
    { word: 'hopeful', meaning: 'æœ‰å¸Œæœ›çš„' },
    { word: 'grocery', meaning: 'é£Ÿå“é›œç‰©' },
];

const VOCABULARY_DAY_12 = [
    { word: 'reliable', meaning: 'å¯é çš„' },
    { word: 'deficient', meaning: 'æœ‰ç¼ºé™·çš„' },
    { word: 'efficient', meaning: 'æœ‰æ•ˆç‡çš„' },
    { word: 'punctual', meaning: 'æº–æ™‚çš„' },
    { word: 'prominent', meaning: 'é¡¯è‘—çš„' },
    { word: 'advance', meaning: 'é«˜ç´šçš„' },
    { word: 'appropriate', meaning: 'é©ç•¶çš„' },
    { word: 'perceptive', meaning: 'æ•éŠ³çš„' },
    { word: 'equivalent', meaning: 'ç›¸ç­‰çš„' },
    { word: 'delicate', meaning: 'ç²¾ç¾çš„' },
    { word: 'deliberate', meaning: 'æ…é‡çš„' },
    { word: 'noble', meaning: 'é«˜è²´çš„' },
    { word: 'standard', meaning: 'æ¨™æº–' },
    { word: 'fragile', meaning: 'æ˜“ç¢çš„' },
    { word: 'commercial', meaning: 'å•†æ¥­çš„' },
    { word: 'sociable', meaning: 'å–„æ–¼ç¤¾äº¤çš„' },
    { word: 'cautious', meaning: 'å°å¿ƒçš„' },
    { word: 'pleasurable', meaning: 'ä»¤äººæ„‰æ‚…çš„' },
    { word: 'potential', meaning: 'æ½›åŠ›' },
    { word: 'decent', meaning: 'å¾—é«”çš„' },
    { word: 'unanticipated', meaning: 'é æ–™ä¹‹å¤–çš„' },
    { word: 'hospitable', meaning: 'å¥½å®¢çš„' },
    { word: 'knowledgeable', meaning: 'åšå­¸çš„' },
    { word: 'reluctant', meaning: 'ä¸æƒ…é¡˜çš„' },
    { word: 'combustible', meaning: 'å¯ç‡ƒçš„' },
    { word: 'reliant', meaning: 'ä¾è³´çš„' },
    { word: 'residential', meaning: 'å±…ä½çš„' },
    { word: 'relative', meaning: 'ç›¸å°çš„' },
    { word: 'frequent', meaning: 'é »ç¹çš„' },
    { word: 'insistent', meaning: 'å …æŒçš„' },
    { word: 'legitimate', meaning: 'åˆæ³•çš„' },
    { word: 'average', meaning: 'å¹³å‡' },
    { word: 'decisive', meaning: 'æœæ–·çš„' },
    { word: 'advantageous', meaning: 'æœ‰ç›Šçš„' },
    { word: 'time frame', meaning: 'æ™‚é–“ç¯„åœ' },
    { word: 'composed', meaning: 'é®å®šçš„' },
    { word: 'esteemed', meaning: 'å—å°Šæ•¬çš„' },
    { word: 'accurate', meaning: 'ç²¾ç¢ºçš„' },
    { word: 'advisory', meaning: 'é¡§å•çš„' },
    { word: 'imaginary', meaning: 'æƒ³åƒçš„' },
    { word: 'identical', meaning: 'ç›¸åŒçš„' },
    { word: 'banquet', meaning: 'å®´æœƒ' },
    { word: 'continuous', meaning: 'é€£çºŒçš„' },
    { word: 'beverage', meaning: 'é£²æ–™' },
    { word: 'adverse', meaning: 'ä¸åˆ©çš„' },
    { word: 'cater', meaning: 'å¤–ç‡´æœå‹™' },
    { word: 'container', meaning: 'å®¹å™¨' },
    { word: 'unconscious', meaning: 'ç„¡æ„è­˜çš„' },
    { word: 'dessert', meaning: 'é»å¿ƒ' },
    { word: 'valuable', meaning: 'è²´é‡çš„' },
];

const VOCABULARY_DAY_13 = [
    { word: 'previous', meaning: 'å…ˆå‰çš„' },
    { word: 'cooperative', meaning: 'åˆä½œçš„' },
    { word: 'entertaining', meaning: 'æœ‰è¶£çš„' },
    { word: 'substantial', meaning: 'çµå¯¦ã€é‡å¤§çš„' },
    { word: 'productive', meaning: 'ç”Ÿç”¢çš„' },
    { word: 'humid', meaning: 'æ½®æ¿•çš„' },
    { word: 'diligent', meaning: 'å‹¤å¥®çš„' },
    { word: 'durable', meaning: 'è€ç”¨çš„' },
    { word: 'landscape', meaning: 'é¢¨æ™¯' },
    { word: 'comfortable', meaning: 'èˆ’é©çš„' },
    { word: 'be subject to', meaning: 'å—åˆ°...çš„å½±éŸ¿' },
    { word: 'line up', meaning: 'æ’éšŠ' },
    { word: 'credible', meaning: 'å¯ä¿¡çš„' },
    { word: 'reasonable', meaning: 'åˆç†çš„' },
    { word: 'recreational', meaning: 'å¨›æ¨‚çš„' },
    { word: 'prefer', meaning: 'åå¥½' },
    { word: 'medication', meaning: 'è—¥ç‰©' },
    { word: 'reflect', meaning: 'åæ˜ ' },
    { word: 'mundane', meaning: 'å¹³å‡¡çš„' },
    { word: 'visible', meaning: 'å¯è¦‹çš„' },
    { word: 'scenery', meaning: 'æ™¯è‰²' },
    { word: 'conclusive', meaning: 'æ±ºå®šæ€§çš„' },
    { word: 'revolving', meaning: 'æ—‹è½‰çš„' },
    { word: 'shade', meaning: 'é®è”½è™•' },
    { word: 'recent', meaning: 'æœ€è¿‘çš„' },
    { word: 'promising', meaning: 'æœ‰å‰æ™¯çš„' },
    { word: 'stream', meaning: 'å°æ²³' },
    { word: 'sensitive', meaning: 'æ•æ„Ÿçš„' },
    { word: 'preliminary', meaning: 'åˆæ­¥çš„' },
    { word: 'stroll', meaning: 'æ•£æ­¥' },
    { word: 'convincing', meaning: 'æœ‰èªªæœåŠ›çš„' },
    { word: 'certain', meaning: 'ç‰¹å®šçš„' },
    { word: 'square', meaning: 'å»£å ´' },
    { word: 'commodity', meaning: 'å•†å“' },
    { word: 'tournament', meaning: 'è¯è³½' },
    { word: 'available', meaning: 'å¯å¾—åˆ°çš„' },
    { word: 'crops', meaning: 'ä½œç‰©' },
    { word: 'direct', meaning: 'ç›´æ¥' },
    { word: 'coherent', meaning: 'ä¸€è‡´çš„' },
    { word: 'lengthy', meaning: 'å†—é•·çš„' },
    { word: 'applicable', meaning: 'é€šç”¨çš„' },
    { word: 'rigorous', meaning: 'åš´æ ¼çš„' },
    { word: 'overpriced', meaning: 'å¤ªè²´çš„' },
    { word: 'mature', meaning: 'æˆç†Ÿçš„' },
    { word: 'vague', meaning: 'æ¨¡ç³Šçš„' },
    { word: 'exceed', meaning: 'è¶…è¶Š' },
    { word: 'imminent', meaning: 'é€¼è¿‘çš„' },
    { word: 'selective', meaning: 'é¸æ“‡çš„' },
    { word: 'tender', meaning: 'æº«æŸ”çš„' },
    { word: 'massive', meaning: 'å·¨å¤§çš„' },
];

const VOCABULARY_DAY_14 = [
    { word: 'accurately', meaning: 'ç²¾ç¢ºçš„' },
    { word: 'accurately', meaning: 'ç²¾ç¢ºåœ°' },
    { word: 'injury', meaning: 'å—å‚·' },
    { word: 'markedly', meaning: 'æ˜ç¢ºåœ°' },
    { word: 'vastly', meaning: 'å»£å¤§åœ°' },
    { word: 'inspection', meaning: 'æª¢æŸ¥' },
    { word: 'closely', meaning: 'ä»”ç´°åœ°' },
    { word: 'monitor', meaning: 'è¿½è¹¤' },
    { word: 'insurance', meaning: 'ä¿éšª' },
    { word: 'merely', meaning: 'åªæ˜¯' },
    { word: 'fluctuation', meaning: 'æ³¢å‹•' },
    { word: 'medical', meaning: 'é†«ç™‚çš„' },
    { word: 'aboard', meaning: 'ç™»æ©Ÿ' },
    { word: 'accidentally', meaning: 'æ„å¤–åœ°' },
    { word: 'pharmaceutical', meaning: 'è£½è—¥çš„' },
    { word: 'completely', meaning: 'å®Œå…¨åœ°' },
    { word: 'rightly', meaning: 'æ­£ç¢ºåœ°' },
    { word: 'pharmacy', meaning: 'è—¥å±€' },
    { word: 'apparently', meaning: 'æ˜é¡¯åœ°' },
    { word: 'briefly', meaning: 'ç°¡çŸ­åœ°' },
    { word: 'prescription', meaning: 'è™•æ–¹ç°½' },
    { word: 'immediately', meaning: 'ç«‹åˆ»' },
    { word: 'seemingly', meaning: 'ä¼¼ä¹' },
    { word: 'treat', meaning: 'æ²»ç™‚' },
    { word: 'briefly', meaning: 'ç°¡çŸ­åœ°' },
    { word: 'weather forecaster', meaning: 'å¤©æ°£é å ±å“¡' },
    { word: 'routinely', meaning: 'å¸¸è¦åœ°' },
    { word: 'knowingly', meaning: 'çŸ¥é“åœ°' },
    { word: 'superbly', meaning: 'å‡ºè‰²åœ°' },
    { word: 'internally', meaning: 'å…§éƒ¨åœ°' },
    { word: 'intentionally', meaning: 'æœ‰æ„åœ°' },
    { word: 'smoothly', meaning: 'é †åˆ©åœ°' },
    { word: 'acceptably', meaning: 'å¯æ¥å—åœ°' },
    { word: 'gradually', meaning: 'é€æ¼¸åœ°' },
    { word: 'gradually', meaning: 'é€æ¼¸åœ°' },
    { word: 'markedly', meaning: 'æ˜é¡¯åœ°' },
    { word: 'primarily', meaning: 'ä¸»è¦åœ°' },
    { word: 'strictly', meaning: 'åš´æ ¼åœ°' },
    { word: 'occasionally', meaning: 'å¶çˆ¾åœ°' },
    { word: 'densely', meaning: 'å¯†é›†åœ°' },
    { word: 'necessarily', meaning: 'å¿…é ˆåœ°' },
    { word: 'independently', meaning: 'ç¨ç«‹åœ°' },
    { word: 'fluently', meaning: 'æµæš¢åœ°' },
    { word: 'severely', meaning: 'åš´é‡åœ°' },
    { word: 'incorrectly', meaning: 'ä¸æ­£ç¢ºåœ°' },
    { word: 'carefully', meaning: 'å°å¿ƒåœ°' },
    { word: 'intentionally', meaning: 'æœ‰æ„åœ°' },
    { word: 'securely', meaning: 'å®‰å…¨åœ°' },
    { word: 'casually', meaning: 'å¶ç„¶åœ°' },
    { word: 'revealed', meaning: 'æ¥éœ²' },
    { word: 'recipient', meaning: 'æ¥å—è€…' },
    { word: 'activation', meaning: 'å•Ÿå‹•' },
    { word: 'virtually', meaning: 'å¯¦éš›ä¸Š' },
    { word: 'drill', meaning: 'æ¼”ç¿’' },
    { word: 'initially', meaning: 'èµ·åˆ' },
    { word: 'supremely', meaning: 'æ¥µåº¦' },
    { word: 'publicly', meaning: 'å…¬é–‹åœ°' },
    { word: 'merely', meaning: 'åªæ˜¯' },
    { word: 'vacantly', meaning: 'ç©ºèª¿' },
    { word: 'openly', meaning: 'å…¬é–‹åœ°' },
    { word: 'consequently', meaning: 'çµæœ' },
    { word: 'solidly', meaning: 'ç·Šå›ºåœ°' },
    { word: 'jealously', meaning: 'å¿Œå¦’åœ°' },
    { word: 'allergy', meaning: 'éæ•' },
    { word: 'superbly', meaning: 'å‡ºè‰²åœ°' },
    { word: 'appointment', meaning: 'é ç´„' },
    { word: 'inconclusively', meaning: 'æ²’æœ‰çµè«–åœ°' },
    { word: 'clinic', meaning: 'è¨ºæ‰€' },
    { word: 'predicted', meaning: 'é æ¸¬' },
    { word: 'examine', meaning: 'æª¢æŸ¥' },
    { word: 'commonly', meaning: 'ä¸€èˆ¬åœ°' },
    { word: 'injection', meaning: 'æ³¨å°„' },
];

const VOCABULARY_DAY_15 = [
    { word: 'exclusively', meaning: 'ç¨ä½”' },
    { word: 'reluctantly', meaning: 'ä¸æƒ…é¡˜åœ°' },
    { word: 'relatively', meaning: 'ç›¸å°åœ°' },
    { word: 'decently', meaning: 'åˆé©åœ°' },
    { word: 'elsewhere', meaning: 'åœ¨åˆ¥çš„åœ°æ–¹' },
    { word: 'purpose', meaning: 'ç›®çš„' },
    { word: 'justly', meaning: 'å…¬æ­£åœ°' },
    { word: 'studies have shown', meaning: 'ç ”ç©¶é¡¯ç¤º' },
    { word: 'largely', meaning: 'å¤§éƒ¨åˆ†' },
    { word: 'precisely', meaning: 'åš´è¬¹' },
    { word: 'virtually', meaning: 'å¯¦éš›ä¸Š' },
    { word: 'outwardly', meaning: 'è¡¨é¢åœ°' },
    { word: 'evenly', meaning: 'å¹³å‡åœ°' },
    { word: 'tentatively', meaning: 'æš«æ™‚åœ°' },
    { word: 'consistently', meaning: 'å …æŒåœ°' },
    { word: 'courteously', meaning: 'æœ‰ç¦®è²Œåœ°' },
    { word: 'initially', meaning: 'æœ€åˆ' },
    { word: 'gently', meaning: 'æº«æŸ”åœ°' },
    { word: 'generally', meaning: 'ä¸€èˆ¬åœ°' },
    { word: 'slightly', meaning: 'ç¨å¾®' },
    { word: 'totally', meaning: 'å®Œå…¨åœ°' },
    { word: 'largely', meaning: 'ä¸»è¦åœ°' },
    { word: 'promptly', meaning: 'è¿…é€Ÿåœ°' },
    { word: 'plentifully', meaning: 'å¤§é‡åœ°' },
    { word: 'periodically', meaning: 'å®šæœŸåœ°' },
    { word: 'promptly', meaning: 'æº–æ™‚åœ°' },
    { word: 'inseparably', meaning: 'ä¸å¯åˆ†é›¢çš„' },
    { word: 'primarily', meaning: 'ä¸»è¦åœ°' },
    { word: 'slightly', meaning: 'ç¨å¾®åœ°' },
    { word: 'temporary', meaning: 'è‡¨æ™‚çš„' },
    { word: 'precisely', meaning: 'æ°å¥½åœ°' },
    { word: 'priorities', meaning: 'å„ªå…ˆäº‹é …' },
    { word: 'tediously', meaning: 'å–®èª¿åœ°' },
    { word: 'relatively', meaning: 'ç›¸å°åœ°' },
    { word: 'densely', meaning: 'å¯†é›†åœ°' },
    { word: 'expertly', meaning: 'ç†Ÿç·´åœ°' },
    { word: 'loosely', meaning: 'é¬†æ•£åœ°' },
    { word: 'excessively', meaning: 'éåº¦åœ°' },
    { word: 'significantly', meaning: 'é¡¯ç„¶åœ°' },
    { word: 'elsewhere', meaning: 'åˆ¥çš„åœ°æ–¹' },
    { word: 'rigidly', meaning: 'æ­»æ¿åœ°' },
    { word: 'considerably', meaning: 'ç›¸ç•¶å¤šåœ°' },
    { word: 'truthfully', meaning: 'èª å¯¦åœ°' },
    { word: 'attendant', meaning: 'æœå‹™å“¡' },
    { word: 'accidentally', meaning: 'æ„å¤–åœ°' },
    { word: 'baggage', meaning: 'è¡Œæ' },
    { word: 'artificially', meaning: 'äººå·¥åœ°' },
    { word: 'balance', meaning: 'çµé¤˜ã€å¹³è¡¡' },
    { word: 'repeatedly', meaning: 'åè¦†åœ°' },
    { word: 'connecting flight', meaning: 'è½‰æ©Ÿ' },
    { word: 'deliberately', meaning: 'æ•…æ„åœ°' },
    { word: 'due', meaning: 'é è¨ˆåœ°ã€æ‡‰æ”¯ä»˜åœ°' },
    { word: 'generally', meaning: 'ä¸€èˆ¬åœ°' },
    { word: 'fill out', meaning: 'å¡«å¥½' },
    { word: 'conditionally', meaning: 'æœ‰æ¢ä»¶åœ°' },
    { word: 'interest', meaning: 'åˆ©æ¯' },
    { word: 'calmly', meaning: 'å¹³éœåœ°' },
    { word: 'teller', meaning: 'å‡ºç´å“¡' },
    { word: 'gratefully', meaning: 'æ„Ÿè¬åœ°' },
    { word: 'withdraw', meaning: 'æå–' },
    { word: 'barely', meaning: 'å‹‰å¼·åœ°' },
];

const VOCABULARY_DAY_16 = [
    { word: 'reasonably', meaning: 'åˆç†' },
    { word: 'mostly', meaning: 'å¤§å¤š' },
    { word: 'nearly', meaning: 'å¹¾ä¹' },
    { word: 'sharply', meaning: 'çªç„¶åœ°' },
    { word: 'exactly', meaning: 'æ­£ç¢º' },
    { word: 'utterly', meaning: 'å®Œå…¨åœ°' },
    { word: 'immeasurably', meaning: 'ç„¡æ³•è¨ˆç®—' },
    { word: 'correctly', meaning: 'æ­£ç¢º' },
    { word: 'regretfully', meaning: 'éºæ†¾' },
    { word: 'typically', meaning: 'é€šå¸¸ã€å…¸å‹' },
    { word: 'rapidly', meaning: 'è¿…é€Ÿ' },
    { word: 'potentially', meaning: 'æ½›åŠ›' },
    { word: 'typically', meaning: 'å…¸å‹' },
    { word: 'seasoned', meaning: 'ç¶“é©—è±å¯Œçš„' },
    { word: 'rightfully', meaning: 'æ­£ç•¶åœ°' },
    { word: 'bland', meaning: 'å¤ªæ·¡' },
    { word: 'entirely', meaning: 'å®Œå…¨' },
    { word: 'secretly', meaning: 'ç§˜å¯†åœ°' },
    { word: 'gently', meaning: 'æº«æŸ”' },
    { word: 'gladly', meaning: 'æ¨‚æ„' },
    { word: 'regularly', meaning: 'ä¸€èˆ¬åœ°' },
    { word: 'purposefully', meaning: 'æ•…æ„' },
    { word: 'overly', meaning: 'éåº¦åœ°' },
    { word: 'overly', meaning: 'éåˆ†ã€éæ–¼' },
    { word: 'successfully', meaning: 'æˆåŠŸåœ°' },
    { word: 'rapidly', meaning: 'è¿…é€Ÿ' },
    { word: 'formerly', meaning: 'ä»¥å‰' },
    { word: 'rarely', meaning: 'å¾ˆå°‘' },
    { word: 'considerably', meaning: 'ç›¸ç•¶å¤šåœ°' },
    { word: 'belatedly', meaning: 'é²ä¾†åœ°' },
    { word: 'chiefly', meaning: 'ä¸»è¦' },
    { word: 'curiously', meaning: 'å¥½å¥‡' },
    { word: 'recently', meaning: 'æœ€è¿‘' },
    { word: 'inclement', meaning: 'æƒ¡åŠ£' },
    { word: 'continually', meaning: 'ç¹¼çºŒ' },
    { word: 'realistically', meaning: 'å¯¦éš›' },
    { word: 'distinctly', meaning: 'æ¸…æ™°' },
    { word: 'majorly', meaning: 'ä¸»è¦' },
    { word: 'strictly', meaning: 'åš´æ ¼' },
    { word: 'nearly', meaning: 'å¹¾ä¹' },
    { word: 'strides', meaning: 'é€²æ­¥' },
    { word: 'airmail', meaning: 'èˆªç©ºéƒµä»¶' },
    { word: 'applause', meaning: 'é¼“æŒ' },
    { word: 'clothing', meaning: 'è¡£æœ' },
    { word: 'readily', meaning: 'å®¹æ˜“' },
    { word: 'expedite', meaning: 'åŠ é€Ÿ' },
    { word: 'carelessly', meaning: 'ç²—å¿ƒ' },
    { word: 'fitting room', meaning: 'è©¦è¡£é–“' },
    { word: 'considerably', meaning: 'ç›¸ç•¶å¤šåœ°' },
    { word: 'garment', meaning: 'æœè£' },
    { word: 'traditionally', meaning: 'å‚³çµ±' },
    { word: 'label', meaning: 'æ¨™ç±¤' },
    { word: 'deeply', meaning: 'æ·±æ·±åœ°' },
    { word: 'laundry', meaning: 'æ´—è¡£' },
    { word: 'honestly', meaning: 'èª å¯¦' },
    { word: 'reasonably', meaning: 'åˆç†' },
    { word: 'previously', meaning: 'ä¹‹å‰' },
    { word: 'numerously', meaning: 'è¨±å¤šåœ°' },
    { word: 'frankly', meaning: 'è€å¯¦èªª' },
];

const VOCABULARY_DAY_17 = [
    { word: 'be subject to', meaning: 'å—åˆ°â€¦çš„å½±éŸ¿' },
    { word: 'supposedly', meaning: 'æ“šç¨±' },
    { word: 'route', meaning: 'è·¯ç·š' },
    { word: 'be pertinent to', meaning: 'å’Œâ€¦æœ‰é—œ' },
    { word: 'unanimous', meaning: 'ä¸€è‡´' },
    { word: 'sidewalk', meaning: 'äººè¡Œé“' },
    { word: 'be likely to', meaning: 'å¯èƒ½â€¦' },
    { word: 'absolute', meaning: 'çµ•å°' },
    { word: 'be familiar with', meaning: 'ç†Ÿæ‚‰â€¦' },
    { word: 'negative', meaning: 'è² é¢ã€å¦å®š' },
    { word: 'be intended for', meaning: 'ä»¥...ç‚ºç›®çš„' },
    { word: 'unaware', meaning: 'ä¸çŸ¥é“' },
    { word: 'be adequate for', meaning: 'å‹ä»»â€¦' },
    { word: 'likely', meaning: 'å¯èƒ½' },
    { word: 'be suitable for', meaning: 'é©åˆâ€¦' },
    { word: 'detail', meaning: 'ç´°ç¯€' },
    { word: 'be willing to', meaning: 'é¡˜æ„â€¦' },
    { word: 'slight', meaning: 'äº›å¾®' },
    { word: 'be bound to', meaning: 'ä¸€å®šæœƒåšâ€¦' },
    { word: 'active', meaning: 'æ´»èº' },
    { word: 'be pleased to', meaning: 'å¾ˆé«˜èˆˆåšâ€¦' },
    { word: 'occasion', meaning: 'å¶çˆ¾' },
    { word: 'be similar to', meaning: 'å’Œ...é¡ä¼¼' },
    { word: 'lasting', meaning: 'æŒä¹…' },
    { word: 'be unable to', meaning: 'ç„¡æ³•åšâ€¦' },
    { word: 'ongoing', meaning: 'æ­£åœ¨é€²è¡Œ' },
    { word: 'be popular with', meaning: 'å—...æ­¡è¿' },
    { word: 'similar', meaning: 'ç›¸ä¼¼' },
    { word: 'be eligible to', meaning: 'æœ‰è³‡æ ¼åšâ€¦' },
    { word: 'worthy', meaning: 'æœ‰åƒ¹å€¼çš„' },
    { word: 'be dedicated to', meaning: 'å°ˆæ³¨æ–¼â€¦' },
    { word: 'questionable', meaning: 'å¯ç–‘' },
    { word: 'be equipped with', meaning: 'é…å‚™â€¦' },
    { word: 'impartial', meaning: 'å…¬æ­£' },
    { word: 'be skilled at', meaning: 'ç†Ÿç·´â€¦' },
    { word: 'absent', meaning: 'ç¼ºå¸­' },
    { word: 'be unaware of', meaning: 'ä¸çŸ¥é“â€¦' },
    { word: 'precious', meaning: 'çè²´' },
    { word: 'be exempt from', meaning: 'å…é™¤â€¦' },
    { word: 'exclusive', meaning: 'ç¨ä½”' },
    { word: 'be selected for', meaning: 'è¢«é¸ç‚ºâ€¦' },
    { word: 'duplicate', meaning: 'è¤‡è£½' },
    { word: 'complimentary', meaning: 'å…è²»çš„' },
    { word: 'dedicated', meaning: 'å°ˆå¿ƒæ–¼' },
    { word: 'eligible', meaning: 'æœ‰è³‡æ ¼çš„' },
    { word: 'concentrate', meaning: 'é›†ä¸­' },
    { word: 'productive', meaning: 'ç”Ÿç”¢' },
    { word: 'access', meaning: 'é€²å…¥ã€å­˜å–' },
    { word: 'elaborate', meaning: 'ç²¾å·§' },
    { word: 'alternate', meaning: 'æ›¿ä»£' },
    { word: 'skilled', meaning: 'æŠ€å·§çš„' },
    { word: 'detour', meaning: 'æ”¹é“' },
    { word: 'unable', meaning: 'ä¸èƒ½åš' },
    { word: 'driveway', meaning: 'è»Šé“' },
    { word: 'adequate', meaning: 'è¶³å¤ çš„' },
    { word: 'junction', meaning: 'äº¤ç•Œ' },
    { word: 'consent', meaning: 'åŒæ„' },
    { word: 'lane', meaning: 'å··å­ã€è»Šé“' },
    { word: 'fulfilled', meaning: 'æ»¿è¶³' },
    { word: 'path', meaning: 'å°å¾‘' },
    { word: 'unique', meaning: 'ç¨ç‰¹' },
    { word: 'trail', meaning: 'å°å¾‘' },
    { word: 'exempt', meaning: 'å…é™¤' },
    { word: 'pave', meaning: 'é‹ª(è·¯)' },
    { word: 'proper', meaning: 'é©åˆ' },
    { word: 'pedestrian', meaning: 'è¡Œäºº' },
];

const VOCABULARY_DAY_18 = [
    { word: 'acknowledge A for B', meaning: 'ç‚ºäº†Aæ„Ÿè¬B' },
    { word: 'foresee', meaning: 'é‡è¦‹' },
    { word: 'participate in', meaning: 'åƒåŠ â€¦' },
    { word: 'reach', meaning: 'æŠµé”' },
    { word: 'depend on', meaning: 'å–æ±ºæ–¼â€¦' },
    { word: 'depend on', meaning: 'å–æ±ºæ–¼' },
    { word: 'notify A of B', meaning: 'å‘Aé€šçŸ¥B' },
    { word: 'narrow down', meaning: 'ç¸®å°ç¯„åœ' },
    { word: 'recommend A for B', meaning: 'ç‚ºäº†Bè€Œæ¨è–¦A' },
    { word: 'carry out', meaning: 'å¯¦è¡Œ' },
    { word: 'provide A with B', meaning: 'æä¾›Bçµ¦A' },
    { word: 'senator', meaning: 'åƒè­°å“¡' },
    { word: 'preside over', meaning: 'ä¸»æŒ' },
    { word: 'commend', meaning: 'ç¨±è®š' },
    { word: 'specialize in', meaning: 'ä»¥...ç‚ºå°ˆé•·' },
    { word: 'assume', meaning: 'å‡å®š' },
    { word: 'lead to', meaning: 'å°è‡´' },
    { word: 'specific', meaning: 'æ˜ç¢º' },
    { word: 'search for', meaning: 'å°‹æ‰¾â€¦' },
    { word: 'stimulate', meaning: 'åˆºæ¿€' },
    { word: 'associate A with B', meaning: 'æŠŠAå’ŒBè¯æƒ³å†ä¸€èµ·' },
    { word: 'goods', meaning: 'å•†å“' },
    { word: 'designate A for B', meaning: 'ç‚ºäº†Bè€ŒæŒ‡æ´¾A' },
    { word: 'conform', meaning: 'éµå®ˆ' },
    { word: 'result in', meaning: 'é€ æˆâ€¦çš„çµæœ' },
    { word: 'deny', meaning: 'å¦èª' },
    { word: 'come in', meaning: 'æœ‰â€¦' },
    { word: 'guarantee', meaning: 'ä¿è­‰' },
    { word: 'proceed with', meaning: 'ç¹¼çºŒé€²è¡Œ' },
    { word: 'describe', meaning: 'æè¿°' },
    { word: 'prevent A from B', meaning: 'é˜²æ­¢Aåšåˆ°B' },
    { word: 'prevent', meaning: 'é é˜²' },
    { word: 'ask A for B', meaning: 'å‘Aè¦æ±‚B' },
    { word: 'interfere', meaning: 'å¹²æ“¾' },
    { word: 'substitute A for B', meaning: 'ç”¨Aä»£æ›¿B' },
    { word: 'accessible', meaning: 'ç„¡éšœç¤™' },
    { word: 'commend A for B', meaning: 'å› ç‚ºBç¨±è®šA' },
    { word: 'commute', meaning: 'é€šå‹¤' },
    { word: 'split up', meaning: 'åˆ†é–‹' },
    { word: 'crosswalk', meaning: 'äººè¡Œé“' },
    { word: 'timepieces', meaning: 'æ‰‹éŒ¶' },
    { word: 'downtown', meaning: 'å¸‚ä¸­å¿ƒ' },
    { word: 'appreciate', meaning: 'æ„Ÿè¬' },
    { word: 'fare', meaning: 'è»Šç¥¨ã€ä»˜æ¬¾' },
    { word: 'cooperate', meaning: 'åˆä½œ' },
    { word: 'intersection', meaning: 'åå­—è·¯å£' },
    { word: 'imitate', meaning: 'æ¨¡ä»¿' },
    { word: 'railroad track', meaning: 'éµè·¯è»Œé“' },
    { word: 'move on', meaning: 'å‰é€²' },
    { word: 'traffic congestion', meaning: 'å¡è»Š' },
    { word: 'add up', meaning: 'åŠ èµ·ä¾†' },
    { word: 'traffic jam', meaning: 'å¡è»Š' },
    { word: 'come in', meaning: 'æœ‰â€¦' },
    { word: 'vehicle', meaning: 'è»Šè¼›' },
    { word: 'served', meaning: 'ä¾›æ‡‰' },
    { word: 'implied', meaning: 'æš—ç¤º' },
    { word: 'adapt', meaning: 'é©æ‡‰' },
    { word: 'preside', meaning: 'ä¸»æŒ' },
    { word: 'perceive', meaning: 'æ„ŸçŸ¥' },
];

const VOCABULARY_DAY_19 = [
    { word: 'attention to', meaning: 'å°â€¦æ³¨æ„' },
    { word: 'conduct', meaning: 'é€²è¡Œ' },
    { word: 'polish', meaning: 'ç£¨å…‰' },
    { word: 'compliance with', meaning: 'å°â€¦éµå®ˆ' },
    { word: 'survey', meaning: 'èª¿æŸ¥' },
    { word: 'shelf', meaning: 'æ¶å­' },
    { word: 'concerns about', meaning: 'å°â€¦æ“”å¿ƒ' },
    { word: 'perspective', meaning: 'çœ‹æ³•' },
    { word: 'spacious', meaning: 'å¯¬æ•' },
    { word: 'effect on', meaning: 'å°â€¦å½±éŸ¿' },
    { word: 'accessibility', meaning: 'å¯æ¥è¿‘æ€§çš„' },
    { word: 'staircase', meaning: 'æ¨“æ¢¯' },
    { word: 'shift in', meaning: 'è½‰è®Š' },
    { word: 'similarity', meaning: 'é¡ä¼¼' },
    { word: 'statue', meaning: 'é›•åƒ' },
    { word: 'perspective on', meaning: 'å°â€¦çš„è§€é»' },
    { word: 'referral', meaning: 'è½‰ä»‹' },
    { word: 'sweep', meaning: 'æƒ' },
    { word: 'commitment to', meaning: 'å°â€¦çš„æ‰¿è«¾' },
    { word: 'obligatory', meaning: 'ç¾©å‹™' },
    { word: 'windowsill', meaning: 'çª—å°' },
    { word: 'transition from A to B', meaning: 'è½‰è®ŠAåˆ°B' },
    { word: 'interaction', meaning: 'äº’å‹•' },
    { word: 'a source of', meaning: 'â€¦çš„ä¾†æº' },
    { word: 'accommodation', meaning: 'ä½è™•' },
    { word: 'report for', meaning: 'çµ¦â€¦çš„å ±å‘Š' },
    { word: 'critics', meaning: 'è©•è«–å®¶' },
    { word: 'a portion of', meaning: 'ä¸€éƒ¨åˆ†çš„â€¦' },
    { word: 'express', meaning: 'è¡¨é”' },
    { word: 'identification badge', meaning: 'è­˜åˆ¥è­‰' },
    { word: 'comparison', meaning: 'æ¯”è¼ƒ' },
    { word: 'intent to', meaning: 'åš...çš„æ„åœ–' },
    { word: 'admiration', meaning: 'æ•¬ä½©' },
    { word: 'admiration for', meaning: 'å°...çš„æ•¬ä½©' },
    { word: 'influence', meaning: 'å½±éŸ¿' },
    { word: 'restriction on', meaning: 'å°...çš„é™åˆ¶' },
    { word: 'reception', meaning: 'æ¥å¾…' },
    { word: 'observation on', meaning: 'å°...çš„è§€å¯Ÿ' },
    { word: 'addressed', meaning: 'è§£æ±º' },
    { word: 'requirement for', meaning: 'å°...çš„è¦æ±‚' },
    { word: 'experiment', meaning: 'å¯¦é©—' },
    { word: 'investment in', meaning: 'å°...çš„æŠ•è³‡' },
    { word: 'concern', meaning: 'æ“”å¿ƒ' },
    { word: 'preparation for', meaning: 'ç‚ºäº†â€¦çš„æº–å‚™' },
    { word: 'property', meaning: 'æˆ¿åœ°ç”¢' },
    { word: 'a consequence of', meaning: 'â€¦çš„çµæœ' },
    { word: 'division', meaning: 'åˆ†éƒ¨' },
    { word: 'practice', meaning: 'å¯¦è¸' },
    { word: 'formation', meaning: 'å½¢æˆ' },
    { word: 'consequence', meaning: 'çµæœ' },
    { word: 'portion', meaning: 'éƒ¨åˆ†' },
    { word: 'reinforcement', meaning: 'å¼·åŒ–' },
    { word: 'trade', meaning: 'è²¿æ˜“' },
    { word: 'suggestion', meaning: 'å»ºè­°' },
    { word: 'bookcase', meaning: 'æ›¸æ«ƒ' },
    { word: 'mandatory', meaning: 'å¼·åˆ¶' },
    { word: 'cabinet', meaning: 'æ«ƒå­' },
    { word: 'invitation', meaning: 'é‚€è«‹' },
    { word: 'closet', meaning: 'è¡£æ«ƒ' },
    { word: 'restriction', meaning: 'é™åˆ¶' },
    { word: 'decorate', meaning: 'è£é£¾' },
    { word: 'organization', meaning: 'çµ„ç¹”' },
    { word: 'furnishing', meaning: 'å®¶å…·' },
    { word: 'transition', meaning: 'è½‰è®Š' },
    { word: 'hallway', meaning: 'èµ°å»Š' },
    { word: 'statement', meaning: 'æ•˜è¿°' },
    { word: 'lean against', meaning: 'é è‘—â€¦' },
    { word: 'measurement', meaning: 'æ¸¬é‡' },
    { word: 'mounted on', meaning: 'è£åœ¨â€¦ä¸Šçš„' },
    { word: 'discussion', meaning: 'è¨è«–' },
    { word: 'pile up', meaning: 'å †ç–Š' },
];

const VOCABULARY_DAY_20 = [
    { word: 'make arrangement', meaning: 'åšå®‰æ’' },
    { word: 'correspondence', meaning: 'ä¸€è‡´' },
    { word: 'work environment', meaning: 'å·¥ä½œç’°å¢ƒ' },
    { word: 'performance', meaning: 'è¡¨ç¾' },
    { word: 'follow the regulation', meaning: 'éµå®ˆè¦å®š' },
    { word: 'endorsement', meaning: 'èƒŒæ›¸ã€ä»£è¨€' },
    { word: 'warm welcome', meaning: 'ç†±çƒˆæ­¡è¿' },
    { word: 'interruption', meaning: 'ä¸­æ–·' },
    { word: 'eagerly await', meaning: 'ç†±åˆ‡åœ°ç­‰å¾…' },
    { word: 'admission', meaning: 'å…¥å ´' },
    { word: 'strong performer', meaning: 'è¡¨ç¾å¼·å‹çš„äºº' },
    { word: 'initiative', meaning: 'ä¸»å‹•' },
    { word: 'quicken the pace', meaning: 'åŠ å¿«é€Ÿåº¦' },
    { word: 'quantity', meaning: 'æ•¸é‡' },
    { word: 'display initiative', meaning: 'å±•ç¾ä¸»å‹•æ€§' },
    { word: 'album', meaning: 'å°ˆè¼¯' },
    { word: 'steady growth', meaning: 'ç©©å®šæˆé•·' },
    { word: 'eagerly', meaning: 'ç†±åˆ‡' },
    { word: 'sales performance', meaning: 'éŠ·å”®è¡¨ç¾' },
    { word: 'visually', meaning: 'è¦–è¦ºä¸Š' },
    { word: 'concentrated effort', meaning: 'å…±åŒåŠªåŠ›' },
    { word: 'loosely', meaning: 'é¬†çš„' },
    { word: 'thorough analysis', meaning: 'å¾¹åº•åˆ†æ' },
    { word: 'defiantly', meaning: 'åæŠ—' },
    { word: 'mutually beneficial', meaning: 'äº’æƒ ' },
    { word: 'quest', meaning: 'æ¢ç´¢' },
    { word: 'take measures', meaning: 'æ¡å–æ–¹æ³•' },
    { word: 'march', meaning: 'è¡Œé€²' },
    { word: 'heavy usage', meaning: 'é‡åº¦ä½¿ç”¨' },
    { word: 'lead', meaning: 'é ˜å…ˆ' },
    { word: 'conveniently located', meaning: 'ä½ç½®ä¾¿åˆ©' },
    { word: 'aisle', meaning: 'èµ°é“' },
    { word: 'cease operation', meaning: 'åœæ­¢ç‡Ÿé‹' },
    { word: 'awning', meaning: 'é›¨æ£š' },
    { word: 'conduct an inspection', meaning: 'é€²è¡Œæª¢æŸ¥' },
    { word: 'be lined up', meaning: 'æ’æˆåˆ—' },
    { word: 'demand', meaning: 'éœ€æ±‚' },
    { word: 'courtyard', meaning: 'ä¸­åº­' },
    { word: 'reach', meaning: 'æŠµé”' },
    { word: 'entrance', meaning: 'å…¥å£' },
    { word: 'extension', meaning: 'æ“´å±•' },
    { word: 'garage', meaning: 'è»Šåº«' },
    { word: 'range', meaning: 'ç¯„åœ' },
    { word: 'lamppost', meaning: 'æª¯ç‡ˆ' },
    { word: 'growth', meaning: 'æˆé•·' },
    { word: 'landscaping', meaning: 'é€ æ™¯' },
    { word: 'assemble', meaning: 'é›†åˆ' },
    { word: 'lease', meaning: 'ç§Ÿç´„' },
    { word: 'speculation', meaning: 'æ¨æ¸¬' },
    { word: 'occupy', meaning: 'ä½”é ˜' },
    { word: 'skillfully', meaning: 'ç†Ÿç·´' },
    { word: 'unoccupied', meaning: 'æ²’æœ‰ä½”ç”¨' },
    { word: 'fluently', meaning: 'æµæš¢' },
    { word: 'patio', meaning: 'éœ²è‡º' },
    { word: 'unpleasant', meaning: 'ä¸æ„‰å¿«' },
    { word: 'property', meaning: 'ä¸å‹•ç”¢' },
    { word: 'permitted', meaning: 'å…è¨±' },
    { word: 'trim', meaning: 'ä¿®å‰ª' },
    { word: 'constraint', meaning: 'é™åˆ¶' },
    { word: 'mutually', meaning: 'ç›¸äº’' },
    { word: 'endeavor', meaning: 'åŠªåŠ›' },
    { word: 'tightly', meaning: 'ç‰¢å›º' },
    { word: 'function', meaning: 'åŠŸèƒ½' },
];


const VOCAB_DATA = {
    'DAY 11': VOCABULARY_DAY_11,
    'DAY 12': VOCABULARY_DAY_12,
    'DAY 13': VOCABULARY_DAY_13,
    'DAY 14': VOCABULARY_DAY_14,
    'DAY 15': VOCABULARY_DAY_15,
    'DAY 16': VOCABULARY_DAY_16, 
    'DAY 17': VOCABULARY_DAY_17,
    'DAY 18': VOCABULARY_DAY_18,
    'DAY 19': VOCABULARY_DAY_19,
    'DAY 20': VOCABULARY_DAY_20, // æ–°å¢ Day 20
};


const ALPHABET_OPTIONS = ['A', 'B', 'C', 'D'];

// ------------------------------------------
// 2. å·¥å…·å‡½å¼
// ------------------------------------------

// Fisher-Yates shuffle algorithm
const shuffleArray = (array) => {
    let newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
};

// ç”¢ç”Ÿæ¸¬é©—é¸é …
const generateQuizOptions = (correctMeaning, allWords) => {
    // ç¢ºä¿æ‰€æœ‰é¸é …éƒ½æ˜¯å­—ä¸²ï¼Œå› ç‚ºæœ‰äº›å–®å­—çš„ä¸­æ–‡ç¿»è­¯æ˜¯å…©å€‹è©å½™
    const allMeanings = allWords.map(w => w.meaning).filter(m => typeof m === 'string' && m.trim() !== '');
    
    // æ’é™¤æ­£ç¢ºç­”æ¡ˆ
    const distractors = allMeanings
        .filter(m => m !== correctMeaning)
        .sort(() => 0.5 - Math.random()) // éš¨æ©Ÿæ’åº
        .slice(0, 3); // é¸æ“‡ 3 å€‹å¹²æ“¾é …

    // å¦‚æœå¹²æ“¾é …ä¸è¶³ 3 å€‹ï¼Œå¡«å……ä¸€äº›é€šç”¨çš„å­—
    while (distractors.length < 3) {
        distractors.push(`ä¸­æ–‡æ„æ€ ${distractors.length + 1}`);
    }

    const options = shuffleArray([correctMeaning, ...distractors]);
    return options;
};

// ------------------------------------------
// 3. ä¸»è¦æ‡‰ç”¨ç¨‹å¼çµ„ä»¶
// ------------------------------------------

const App = () => {
    // é è¨­ç‚º Day 20ï¼Œä»¥ç¬¦åˆæœ€æ–°è¼¸å…¥
    const [currentDay, setCurrentDay] = useState('DAY 20'); 
    const [mode, setMode] = useState('quiz'); // 'quiz' or 'flashcard'
    const [learnedWordsCount, setLearnedWordsCount] = useState(0);
    const [currentWordIndex, setCurrentWordIndex] = useState(0);
    const [selectedOption, setSelectedOption] = useState(null);
    const [isAnswerCorrect, setIsAnswerCorrect] = useState(null); // null, true, or false

    const currentVocabList = VOCAB_DATA[currentDay] || []; // ç¢ºä¿æœ‰é è¨­å€¼
    const TOTAL_WORDS = currentVocabList.length;

    const currentWord = currentVocabList[currentWordIndex];
    const correctMeaning = currentWord?.meaning;
    const progressPercentage = TOTAL_WORDS > 0 ? (learnedWordsCount / TOTAL_WORDS) * 100 : 0;
    
    // ç•¶å­¸ç¿’æ—¥æ”¹è®Šæ™‚ï¼Œé‡è¨­æ‰€æœ‰æ¸¬é©—ç‹€æ…‹
    useEffect(() => {
        resetQuiz();
    }, [currentDay]);

    // è¨ˆç®—æ¸¬é©—é¸é …ï¼Œåƒ…åœ¨å–®å­—æ”¹è®Šæ™‚é‡æ–°è¨ˆç®—
    const quizOptions = useMemo(() => {
        if (!currentWord) return [];
        // ç¢ºä¿ä½¿ç”¨ç•¶å‰å­¸ç¿’æ—¥çš„æ‰€æœ‰å–®å­—ä¾†ç”Ÿæˆé¸é …
        return generateQuizOptions(currentWord.meaning, currentVocabList);
    }, [currentWord, currentDay, currentVocabList]);

    // æª¢æŸ¥ç­”æ¡ˆä¸¦çµ¦äºˆåé¥‹
    const handleOptionSelect = (option) => {
        if (selectedOption) return; // å·²ç¶“é¸éï¼Œä¸é‡è¤‡è™•ç†

        setSelectedOption(option);
        const isCorrect = option === correctMeaning;
        setIsAnswerCorrect(isCorrect);

        if (isCorrect) {
            // å»¶é²æ›´æ–°ï¼Œè®“ä½¿ç”¨è€…çœ‹åˆ°æ­£ç¢ºåé¥‹
            setTimeout(() => {
                setLearnedWordsCount(prev => prev < TOTAL_WORDS ? prev + 1 : prev);
                nextQuestion();
            }, 800);
        }
    };

    // å‰å¾€ä¸‹ä¸€é¡Œ
    const nextQuestion = useCallback(() => {
        if (currentWordIndex < TOTAL_WORDS - 1) {
            setCurrentWordIndex(prev => prev + 1);
            setSelectedOption(null);
            setIsAnswerCorrect(null);
        } else {
            // æ¸¬é©—å®Œæˆï¼Œé¡¯ç¤ºçµæœ Modal
            const resultMessage = `æ­å–œï¼${currentDay} çš„æ¸¬é©—å·²å®Œæˆï¼ä½ å­¸æœƒäº† ${learnedWordsCount + 1} å€‹å–®å­—ã€‚`;
            document.getElementById('quiz-result-message').innerText = resultMessage;
            document.getElementById('quiz-result-modal').classList.remove('hidden');
        }
    }, [currentWordIndex, TOTAL_WORDS, currentDay, learnedWordsCount]);

    // é‡è¨­æ¸¬é©—
    const resetQuiz = () => {
        // ä½¿ç”¨ shuffleArray é‡æ–°æ’åˆ—ç•¶å‰å–®å­—åˆ—è¡¨ï¼Œä»¥ç¢ºä¿æ¯æ¬¡æ¸¬é©—é †åºä¸åŒ
        const shuffledList = shuffleArray(currentVocabList);
        // å°‡æ–°çš„å–®å­—åˆ—è¡¨å­˜å› VOCAB_DATA ä¸­ (Reactçµ„ä»¶å…§ç„¡æ³•ç›´æ¥ä¿®æ”¹å¤–éƒ¨å¸¸é‡ï¼Œä½†åœ¨é€™è£¡æˆ‘å€‘ä¸»è¦æ§åˆ¶çš„æ˜¯ç•¶å‰ç‹€æ…‹)
        // ç”±æ–¼ VOCAB_DATA æ˜¯éœæ…‹çš„ï¼Œæˆ‘å€‘åªèƒ½åœ¨ç‹€æ…‹ä¸­æ¨¡æ“¬ä¸€å€‹å·²æ´—ç‰Œçš„åˆ—è¡¨ï¼Œä½†ç‚ºäº†ç°¡åŒ–ï¼Œæˆ‘å€‘åªé‡è¨­ç´¢å¼•ã€‚
        // æ¯æ¬¡é€²å…¥ useEffect(resetQuiz) æ™‚ï¼ŒæœƒåŸºæ–¼ç•¶å‰ VOCAB_DATA[currentDay] ç²å–åˆ—è¡¨ä¸¦é‡è¨­ç´¢å¼•ã€‚
        
        setCurrentWordIndex(0);
        setLearnedWordsCount(0);
        setSelectedOption(null);
        setIsAnswerCorrect(null);
        document.getElementById('quiz-result-modal').classList.add('hidden');
    };

    // å–å¾—é¸é …çš„æ¨£å¼
    const getOptionStyle = (option) => {
        const isSelected = selectedOption === option;
        const isCorrectOption = option === correctMeaning;
        
        let baseStyle = "p-4 w-full text-lg font-medium text-gray-800 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition duration-200 cursor-pointer flex items-center";

        if (!selectedOption) {
            return `${baseStyle} hover:bg-gray-50`;
        }
        
        // ç­”æ¡ˆå·²æ­æ›‰
        if (isCorrectOption) {
            return `${baseStyle} bg-green-100 border-green-500 ring-2 ring-green-500 text-green-800 shadow-lg`;
        }

        if (isSelected && !isCorrectOption) {
            return `${baseStyle} bg-red-100 border-red-500 ring-2 ring-red-500 text-red-800 shadow-lg`;
        }

        return `${baseStyle} opacity-60 pointer-events-none`;
    };
    
    // å´é‚Šæ¬„çµ„ä»¶
    const Sidebar = () => (
        <div className="w-full lg:w-72 bg-white border-r border-gray-200 p-6 flex flex-col space-y-8 h-full">
            <h1 className="text-2xl font-bold text-indigo-700 flex items-center">
                <BookOpenText className="w-6 h-6 mr-3 text-indigo-500" />
                å–®å­—å­¸ç¿’ä¸­å¿ƒ
            </h1>

            {/* å­¸ç¿’é€²åº¦ */}
            <div className="space-y-3 p-4 bg-gray-50 rounded-lg border border-gray-100">
                <h2 className="text-sm font-semibold text-gray-500">å­¸ç¿’é€²åº¦ï¼š <span className="text-gray-800">{learnedWordsCount}/{TOTAL_WORDS}</span></h2>
                <div className="w-full bg-gray-200 rounded-full h-2.5">
                    <div className="h-2.5 rounded-full bg-green-500 transition-all duration-500" style={{ width: `${progressPercentage}%` }}></div>
                </div>
                <p className="text-xs text-gray-500 pt-1">
                    ç•¶å‰ {currentDay} å…±æœ‰ {TOTAL_WORDS} å€‹å–®å­—ã€‚
                </p>
            </div>

            {/* é¸æ“‡ç·´ç¿’æ¨¡å¼ */}
            <div className="space-y-3">
                <h2 className="text-lg font-semibold text-gray-700 flex items-center">
                    <CheckCircle className="w-5 h-5 mr-2 text-indigo-500" />
                    é¸æ“‡ç·´ç¿’æ¨¡å¼
                </h2>
                <button
                    className={`w-full p-3 rounded-lg flex items-center justify-start text-left font-medium transition duration-150 ${mode === 'quiz' ? 'bg-green-500 text-white shadow-lg' : 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50'}`}
                    onClick={() => setMode('quiz')}
                >
                    <Check className="w-5 h-5 mr-2" />
                    æƒ…å¢ƒé¸æ“‡é¡Œ (Quiz)
                </button>
                <button
                    className={`w-full p-3 rounded-lg flex items-center justify-start text-left font-medium transition duration-150 ${mode === 'flashcard' ? 'bg-green-500 text-white shadow-lg' : 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50'}`}
                    onClick={() => setMode('flashcard')}
                    disabled // æš«æ™‚ç¦ç”¨ Flashcard
                >
                    <Volume2 className="w-5 h-5 mr-2" />
                    å–®å­—å¡è¨˜æ†¶ (Flashcard)
                </button>
            </div>

            {/* é¸æ“‡å­¸ç¿’æ—¥ */}
            <div className="space-y-3">
                <h2 className="text-lg font-semibold text-gray-700 flex items-center">
                    <Calendar className="w-5 h-5 mr-2 text-indigo-500" />
                    é¸æ“‡å­¸ç¿’æ—¥
                </h2>
                <div className="relative">
                    <select
                        className="appearance-none w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        value={currentDay}
                        onChange={(e) => setCurrentDay(e.target.value)}
                    >
                        {/* å°‡ VOCAB_DATA çš„ keys è½‰ç‚ºé¸é … */}
                        {Object.keys(VOCAB_DATA).map(day => (
                             <option key={day} value={day}>{day} ({VOCAB_DATA[day].length} è©)</option>
                        ))}
                    </select>
                    <div className="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                        <ChevronDown className="w-4 h-4" />
                    </div>
                </div>
            </div>

            {/* å–®å­—åˆ—è¡¨ */}
            <div className="space-y-3 flex-grow overflow-hidden">
                <h2 className="text-lg font-semibold text-gray-700 flex items-center">
                    <List className="w-5 h-5 mr-2 text-indigo-500" />
                    {currentDay} å–®å­—åˆ—è¡¨ ({TOTAL_WORDS} è©)
                </h2>
                <div className="border border-gray-200 rounded-lg overflow-y-auto max-h-56 lg:max-h-full">
                    {currentVocabList.map((item, index) => (
                        <div 
                            key={item.word + index} // ä½¿ç”¨ word + index ä½œç‚º key é¿å…é‡è¤‡å–®å­—å•é¡Œ
                            className={`flex items-center justify-between p-3 text-sm border-b last:border-b-0 ${index === currentWordIndex ? 'bg-indigo-50 text-indigo-700 font-semibold' : 'text-gray-600'}`}
                        >
                            <span className="truncate">{item.word}</span>
                            {/* æ¨¡æ“¬è©æ€§æ¨™è¨»ï¼šæ ¹æ“š index ç°¡å–®å¾ªç’°é¡¯ç¤º v., n., adj. */}
                            <span className="text-xs text-right opacity-70">({index % 3 === 0 ? 'v.' : index % 3 === 1 ? 'n.' : 'adj.'})</span> 
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );

    // æ¸¬é©—çµæœ Modal
    const QuizResultModal = () => (
        <div id="quiz-result-modal" className="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
            <div className="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
                <div className="mt-3 text-center">
                    <CheckCircle className="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 text-green-600" />
                    <h3 className="text-lg leading-6 font-medium text-gray-900 mt-2">æ¸¬é©—å®Œæˆï¼</h3>
                    <div className="mt-2 px-7 py-3">
                        <p id="quiz-result-message" className="text-sm text-gray-500 font-medium">
                            {/* è¨Šæ¯å°‡ç”± JS å¡«å…… */}
                        </p>
                    </div>
                    <div className="items-center px-4 py-3">
                        <button
                            id="reset-button"
                            onClick={resetQuiz}
                            className="px-4 py-2 bg-indigo-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                            é‡æ–°é–‹å§‹ {currentDay} æ¸¬é©—
                        </button>
                    </div>
                </div>
            </div>
        </div>
    );

    // æ¸¬é©—ä¸»å…§å®¹çµ„ä»¶
    const QuizContent = () => {
        // åœ¨æ¸¬é©—å®Œæˆå¾Œï¼ŒcurrentWord å¯èƒ½æœƒæ˜¯ undefined
        if (!currentWord && learnedWordsCount === TOTAL_WORDS) return <div className="text-center p-10 text-gray-500">æ­å–œï¼{currentDay} æ¸¬é©—å·²å®Œæˆã€‚è«‹é‡æ–°é–‹å§‹æˆ–åˆ‡æ›å­¸ç¿’æ—¥ã€‚</div>;
        if (!currentWord) return <div className="text-center p-10 text-gray-500">æ­£åœ¨åŠ è¼‰å–®å­—...</div>; // è™•ç†åˆå§‹åŠ è¼‰æˆ–åˆ—è¡¨ç‚ºç©ºçš„æƒ…æ³

        const { word } = currentWord;
        
        return (
            <div className="p-6 md:p-12 lg:p-16 space-y-10">
                <div className="text-sm font-semibold text-gray-500 border-b pb-2">
                    {currentDay}
                </div>

                {/* å•é¡Œå€å¡Š */}
                <div className="bg-white p-8 md:p-12 rounded-2xl shadow-xl space-y-8">
                    <div className="flex items-center space-x-4">
                        <span className="text-3xl">ğŸ’¡</span>
                        <h3 className="text-2xl md:text-3xl font-light text-gray-700 leading-relaxed">
                            è«‹é¸æ“‡ä¸‹æ–¹å“ªå€‹é¸é …æ˜¯ <span className="font-bold text-indigo-600">{word}</span> çš„æ­£ç¢ºä¸­æ–‡è§£é‡‹ï¼š
                        </h3>
                    </div>

                    {/* é¸é …åˆ—è¡¨ */}
                    <div className="grid gap-4">
                        {quizOptions.map((option, index) => (
                            <button
                                key={index}
                                className={getOptionStyle(option)}
                                onClick={() => handleOptionSelect(option)}
                                // åªæœ‰ç•¶å‰é¸é …è¢«é¸ä¸­ä¸”ç­”éŒ¯æ™‚æ‰ç¦ç”¨ï¼Œè®“ä½¿ç”¨è€…çœ‹åˆ°æ­£ç¢ºç­”æ¡ˆ
                                disabled={!!selectedOption && (selectedOption !== option && option !== correctMeaning)}
                            >
                                <div className="w-8 h-8 flex items-center justify-center bg-gray-100 text-indigo-600 font-bold rounded-full mr-4">
                                    {ALPHABET_OPTIONS[index]}
                                </div>
                                <span>{option}</span>
                                {selectedOption === option && (
                                    isAnswerCorrect ? <Check className="w-6 h-6 ml-auto text-green-600" /> : <X className="w-6 h-6 ml-auto text-red-600" />
                                )}
                                {/* é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆæ¨™è¨˜ï¼Œå³ä½¿é¸éŒ¯ */}
                                {(selectedOption && option === correctMeaning && selectedOption !== correctMeaning) && (
                                    <Check className="w-6 h-6 ml-auto text-green-600" />
                                )}
                            </button>
                        ))}
                    </div>

                    {/* åé¥‹èˆ‡ä¸‹ä¸€é¡ŒæŒ‰éˆ• */}
                    {selectedOption && (
                        <div className={`p-4 rounded-xl border-l-4 ${isAnswerCorrect ? 'bg-green-50 border-green-500' : 'bg-red-50 border-red-500'}`}>
                            <p className={`font-semibold ${isAnswerCorrect ? 'text-green-700' : 'text-red-700'}`}>
                                {isAnswerCorrect ? 'ç­”å°äº†ï¼' : 'ç­”éŒ¯äº†ã€‚'}
                                {isAnswerCorrect === false && ` æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correctMeaning}`}
                            </p>
                            <button 
                                onClick={nextQuestion}
                                className="mt-3 px-6 py-2 bg-indigo-500 text-white font-semibold rounded-full shadow-md hover:bg-indigo-600 transition duration-200"
                            >
                                {currentWordIndex < TOTAL_WORDS - 1 ? 'ä¸‹ä¸€é¡Œ' : 'æŸ¥çœ‹çµæœ'}
                            </button>
                        </div>
                    )}
                </div>
                
                {/* é‡æ–°é–‹å§‹æŒ‰éˆ• */}
                <button
                    onClick={resetQuiz}
                    className="flex items-center text-sm font-medium text-gray-500 hover:text-indigo-600 transition duration-150 mt-4"
                >
                    <RotateCcw className="w-4 h-4 mr-2" />
                    é‡æ–°é–‹å§‹ {currentDay} æ¸¬é©—
                </button>
            </div>
        );
    };

    // ------------------------------------------
    // 4. æ¸²æŸ“
    // ------------------------------------------

    return (
        <div className="min-h-screen bg-gray-100 font-sans antialiased flex flex-col lg:flex-row">
            {/* å´é‚Šæ¬„ */}
            <Sidebar />

            {/* ä¸»è¦å…§å®¹å€ */}
            <main className="flex-1 overflow-y-auto">
                <QuizContent />
            </main>
            
            {/* æ¸¬é©—çµæœ Modal (å–ä»£ alert) */}
            <QuizResultModal />
        </div>
    );
};

export default App;