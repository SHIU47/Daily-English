<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 1 æœˆ 9 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 1 æœˆ 9 æ—¥ï¼šå°ç£æœ¬åœ°æ”¿ç­–èˆ‡å…¨çƒèƒ½æºçˆ­è­°</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs for News Topics -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for an immersive English news learning experience. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] Cabinet Proposes Stricter Penalties for Animal Abuse and Abandonment\nIn response to growing public concern over animal welfare, the Cabinet unveiled draft revisions to the Animal Protection Act. The proposed changes seek to significantly increase fines for pet abandonment and animal cruelty, with maximum penalties potentially reaching NT$1 million. The new regulations also aim to tighten the criteria for pet owners to place animals in shelters.\n\n[2] Former Engineer Detained Over Alleged Theft of TSMC Trade Secrets\nA local court has ordered the detention of a former engineer suspected of stealing highly sensitive trade secrets from TSMC. Prosecutors alleged that the individual attempted to transfer confidential semiconductor manufacturing processes to a foreign entity before being apprehended. The court ruled that the suspect be held incommunicado to prevent evidence destruction.\n\n[3] Major Cities Expand Free School Lunch Programs\nFollowing Taipeiâ€™s lead, the city governments of Taichung and Kaohsiung announced that they will provide free lunches for all public school students starting next semester. This policy shift aims to reduce the financial burden on middle-class families and ensure that every child has access to nutritious meals regardless of economic background.`,
                chinese: `ã€1ã€‘è¡Œæ”¿é™¢æ“¬åŠ é‡è™å¾…å‹•ç‰©ç½°å‰‡\né‡å°å…¬çœ¾å°å‹•ç‰©ç¦åˆ©æ—¥ç›Šå¢é•·çš„é—œæ³¨ï¼Œè¡Œæ”¿é™¢å…¬å¸ƒäº†ã€Šå‹•ç‰©ä¿è­·æ³•ã€‹ä¿®æ­£è‰æ¡ˆã€‚æ“¬è­°çš„ä¿®æ³•å°‹æ±‚å¤§å¹…æé«˜æ£„é¤Šå¯µç‰©å’Œè™å¾…å‹•ç‰©çš„ç½°é‡‘ï¼Œæœ€é«˜å¯é” 100 è¬æ–°å°å¹£ã€‚æ–°è¦å®šé‚„æ—¨åœ¨æ”¶ç·Šå¯µç‰©ä¸»äººå°‡å‹•ç‰©é€å¾€æ”¶å®¹æ‰€çš„æ¨™æº–ï¼Œé¼“å‹µæ›´è² è²¬ä»»çš„é£¼ä¸»è¡Œç‚ºã€‚\n\nã€2ã€‘æ¶‰å«Œç«Šå– TSMC å•†æ¥­æ©Ÿå¯† å·¥ç¨‹å¸«é­ç¾ˆæŠ¼\næ³•é™¢å·²è£å®šç¾ˆæŠ¼ä¸€åæ¶‰å«Œç«Šå–å°ç©é›»ï¼ˆTSMCï¼‰é«˜åº¦æ•æ„Ÿå•†æ¥­æ©Ÿå¯†çš„å‰å·¥ç¨‹å¸«ã€‚æª¢å¯Ÿå®˜æŒ‡æ§è©²åäººå£«åœ¨è¢«æ•å‰ï¼Œä¼åœ–å°‡æ©Ÿå¯†çš„åŠå°é«”è£½é€ è£½ç¨‹è½‰ç§»çµ¦å¤–åœ‹å¯¦é«”ã€‚æ³•é™¢è£å®šå°‡å«ŒçŠ¯ç¾ˆæŠ¼ç¦è¦‹ï¼Œä»¥é˜²æ­¢è­‰æ“šè¢«æ¯€ææˆ–èˆ‡å…±çŠ¯ä¸²ä¾›ã€‚\n\nã€3ã€‘ä¸‰å¤§åŸå¸‚æ“´å¤§å…è²»ç‡Ÿé¤Šåˆé¤\nç¹¼å°åŒ—å¸‚ä¹‹å¾Œï¼Œå°ä¸­å¸‚å’Œé«˜é›„å¸‚æ”¿åºœä¹Ÿå®£å¸ƒå°‡å¾ä¸‹å­¸æœŸé–‹å§‹ï¼Œç‚ºæ‰€æœ‰å…¬ç«‹å­¸æ ¡å­¸ç”Ÿæä¾›å…è²»åˆé¤ã€‚é€™é …æ”¿ç­–è½‰è®Šæ—¨åœ¨æ¸›è¼•ä¸­ç”¢éšç´šå®¶åº­çš„ç¶“æ¿Ÿè² æ“”ï¼Œä¸¦ç¢ºä¿æ¯å€‹å­©å­ç„¡è«–ç¶“æ¿ŸèƒŒæ™¯å¦‚ä½•ï¼Œéƒ½èƒ½ç²å¾—ç‡Ÿé¤Šé¤é»ã€‚æ•™è‚²å®˜å“¡èªç‚ºé€™æ˜¯å°å…¬å…±è¡›ç”Ÿå’Œç¤¾æœƒå…¬å¹³çš„é‡è¦æŠ•è³‡ã€‚`,
                vocabulary: [
                    'Cabinet (n.): è¡Œæ”¿é™¢/å…§é–£', 'Stricter penalties (n.phr.): æ›´åš´æ ¼çš„è™•ç½°', 'Animal abuse (n.phr.): è™å¾…å‹•ç‰©', 'Abandonment (n.): æ£„é¤Š/éºæ£„',
                    'Welfare (n.): ç¦åˆ©', 'Unveiled (v.): å…¬å¸ƒ/æ­å¹•', 'Draft revisions (n.phr.): ä¿®æ­£è‰æ¡ˆ', 'Animal Protection Act (n. proper): å‹•ç‰©ä¿è­·æ³•',
                    'Cruelty (n.): è™å¾…/æ®˜å¿è¡Œç‚º', 'Criteria (n.): æ¨™æº–', 'Shelters (n.): æ”¶å®¹æ‰€', 'Responsible ownership (n.phr.): è² è²¬ä»»çš„é£¼ä¸»è¡Œç‚º',
                    'Detained (v.pp.): ç¾ˆæŠ¼/æ‹˜ç•™', 'Alleged theft (n.phr.): æ¶‰å«Œç«Šå–', 'Trade secrets (n.phr.): å•†æ¥­æ©Ÿå¯†', 'Sensitive (adj.): æ•æ„Ÿçš„',
                    'Confidential (adj.): æ©Ÿå¯†çš„', 'Manufacturing processes (n.phr.): è£½é€ è£½ç¨‹', 'Foreign entity (n.phr.): å¤–åœ‹å¯¦é«”', 'Apprehended (v.pp.): è¢«æ•',
                    'Incommunicado (adj./adv.): ç¾ˆæŠ¼ç¦è¦‹ (ç„¡æ³•èˆ‡å¤–ç•Œé€šè¨Š)', 'Collusion (n.): ä¸²ä¾›', 'Accomplices (n.): å…±çŠ¯', 'Intellectual property (n.phr.): æ™ºæ…§è²¡ç”¢æ¬Š',
                    'Competitive edge (n.phr.): ç«¶çˆ­å„ªå‹¢', 'School lunch program (n.phr.): ç‡Ÿé¤Šåˆé¤è¨ˆç•«', 'Next semester (n.phr.): ä¸‹å­¸æœŸ', 'Financial burden (n.phr.): ç¶“æ¿Ÿè² æ“”',
                    'Middle-class (adj.): ä¸­ç”¢éšç´šçš„', 'Nutritious (adj.): ç‡Ÿé¤Šçš„', 'Budget allocation (n.phr.): é ç®—åˆ†é…', 'Social equality (n.phr.): ç¤¾æœƒå…¬å¹³'
                ],
                quiz: [
                    { q: 'What is the maximum fine proposed for animal abandonment in the new draft?', options: ['NT$100,000', 'NT$500,000', 'NT$1 million', 'NT$2 million'], answer: 'NT$1 million' },
                    { q: 'What is one additional goal of the revised Animal Protection Act?', options: ['To build more parks', 'To tighten criteria for placing animals in shelters', 'To tax pet food', 'To ban all pets'], answer: 'To tighten criteria for placing animals in shelters' },
                    { q: 'The former engineer is suspected of stealing trade secrets from which company?', options: ['Intel', 'TSMC', 'Samsung', 'Nvidia'], answer: 'TSMC' },
                    { q: 'Why did the court rule to hold the suspect incommunicado?', options: ['He has no lawyer.', 'To prevent evidence destruction or collusion.', 'He requested it.', 'The prison is full.'], answer: 'To prevent evidence destruction or collusion.' },
                    { q: 'Which cities besides Taipei announced free school lunches?', options: ['Tainan and Hsinchu', 'Taichung and Kaohsiung', 'Keelung and Yilan', 'Taoyuan and Miaoli'], answer: 'Taichung and Kaohsiung' },
                    { q: 'When will the free school lunch policy start in Taichung and Kaohsiung?', options: ['Immediately', 'Next semester', 'Next year', 'In 2027'], answer: 'Next semester' },
                    { q: 'What is the main purpose of the free lunch policy shift?', options: ['To support local farmers', 'To reduce financial burden on middle-class families', 'To win an election', 'To test new food types'], answer: 'To reduce financial burden on middle-class families' },
                    { q: 'The term "apprehended" is a synonym for which word?', options: ['Released', 'Caught or arrested', 'Escaped', 'Hidden'], answer: 'Caught or arrested' },
                    { q: 'What kind of information was the engineer attempting to transfer?', options: ['Public salary data', 'Confidential semiconductor manufacturing processes', 'Office floor plans', 'Employee lunch menus'], answer: 'Confidential semiconductor manufacturing processes' },
                    { q: 'What does "incommunicado" mean in a legal context?', options: ['Allowed to use a phone', 'Without being able to communicate with others', 'Free to go home', 'Speaking many languages'], answer: 'Without being able to communicate with others' },
                    { q: 'The Cabinet unveiled draft ______ to the Animal Protection Act.', options: ['Revisions', 'Deletions', 'Endings', 'Books'], answer: 'Revisions' },
                    { q: 'TSMC stated they will cooperate with law enforcement to maintain their ______.', options: ['Price edge', 'Building edge', 'Competitive edge', 'Social edge'], answer: 'Competitive edge' },
                    { q: 'Education officials view the lunch program as an investment in public ______.', options: ['Wealth', 'Health', 'Transport', 'Safety'], answer: 'Health' },
                    { q: 'How many years has it been since the last substantial update to pet laws?', options: ['5 years', 'Over a decade', '2 years', 'One month'], answer: 'Over a decade' },
                    { q: 'What is the "Animal Protection Act" primarily about?', options: ['Protecting wild tigers', 'Governing pet ownership and animal treatment', 'Hunting laws', 'Animal fashion'], answer: 'Governing pet ownership and animal treatment' }
                ]
            },
            'us-russia-tanker': {
                title: 'ç¾è»æ‰£æŠ¼ä¿„æ²¹è¼ªä¸¦æ¥ç®¡å§”åœ‹çŸ³æ²¹',
                english: `Tensions between Washington and Moscow escalated after U.S. forces seized the Russian-flagged oil tanker â€œMarineraâ€ in the North Atlantic, citing violations of American sanctions. Simultaneously, the Trump administration announced plans to take direct control over the distribution and sale of Venezuelaâ€™s petroleum products globally. White House officials stated that proceeds would be deposited into U.S.-controlled accounts to prevent funds from supporting the previous regimeâ€™s loyalists. The Kremlin condemned the seizure as â€œinternational piracyâ€ and a blatant violation of maritime law, warning of retaliatory measures. Analysts say this strategy aims to reorganize the global energy market, potentially easing U.S. fuel prices while weakening Russiaâ€™s energy influence.`,
                chinese: `ç¾è»æ‰£æŠ¼ä¿„ç¾…æ–¯æ²¹è¼ªä¸¦æ¥ç®¡å§”å…§ç‘æ‹‰çŸ³æ²¹éŠ·å”®ã€‚åœ¨ç¾è»æ–¼åŒ—å¤§è¥¿æ´‹æ‰£æŠ¼æ‡¸æ›ä¿„ç¾…æ–¯åœ‹æ——çš„ã€ŒMarineraã€è™Ÿæ²¹è¼ªå¾Œï¼Œè¯ç››é “èˆ‡è«æ–¯ç§‘ä¹‹é–“çš„ç·Šå¼µå±€å‹¢å‡æº«ï¼Œç†ç”±æ˜¯è©²èˆ¹é•åäº†ç¾åœ‹çš„åˆ¶è£ã€‚èˆ‡æ­¤åŒæ™‚ï¼Œå·æ™®æ”¿åºœå®£å¸ƒè¨ˆç•«ç›´æ¥æ§åˆ¶å§”å…§ç‘æ‹‰çŸ³æ²¹ç”¢å“åœ¨å…¨çƒçš„é…é€èˆ‡éŠ·å”®ã€‚ç™½å®®å®˜å“¡è¡¨ç¤ºï¼Œæ‰€å¾—æ”¶ç›Šå°‡å­˜å…¥ç¾åœ‹æ§åˆ¶çš„å¸³æˆ¶ï¼Œä»¥é˜²æ­¢è³‡é‡‘æ”¯æŒå‰æ”¿æ¬Šçš„æ“è­·è€…ã€‚å…‹é‡Œå§†æ—å®®è­´è²¬é€™æ¬¡æ‰£æŠ¼æ˜¯ã€Œåœ‹éš›æµ·ç›œè¡Œç‚ºã€ï¼Œä¸”å…¬ç„¶é•åæµ·æ´‹æ³•ï¼Œä¸¦è­¦å‘Šå°‡æ¡å–å ±å¾©æªæ–½ã€‚åˆ†æäººå£«è¡¨ç¤ºï¼Œé€™é …ç­–ç•¥æ—¨åœ¨é‡çµ„å…¨çƒèƒ½æºå¸‚å ´ï¼Œåœ¨å‰Šå¼±ä¿„ç¾…æ–¯èƒ½æºå½±éŸ¿åŠ›çš„åŒæ™‚ï¼Œå¯èƒ½ç·©è§£ç¾åœ‹çš„ç‡ƒæ²¹åƒ¹æ ¼ã€‚`,
                vocabulary: [
                    'Tensions (n.): ç·Šå¼µå±€å‹¢', 'Escalated (v.): å‡ç´š', 'Seized (v.): æ‰£æŠ¼/æ²’æ”¶', 'Russian-flagged (adj.): æ‡¸æ›ä¿„ç¾…æ–¯æ——å¹Ÿçš„',
                    'North Atlantic (n. proper): åŒ—å¤§è¥¿æ´‹', 'Sanctions (n.): åˆ¶è£', 'Simultaneously (adv.): åŒæ™‚åœ°', 'Direct control (n.phr.): ç›´æ¥æ§åˆ¶',
                    'Distribution (n.): åˆ†éŠ·/é…é€', 'Petroleum products (n.phr.): çŸ³æ²¹ç”¢å“', 'Proceeds (n.): æ”¶ç›Š/æ‰€å¾—', 'Deposited (v.pp.): å­˜å…¥',
                    'Regimeâ€™s loyalists (n.phr.): æ”¿æ¬Šæ“è­·è€…', 'The Kremlin (n. proper): å…‹é‡Œå§†æ—å®® (ä¿„åœ‹æ”¿åºœ)', 'Condemned (v.): è­´è²¬', 'International piracy (n.phr.): åœ‹éš›æµ·ç›œè¡Œç‚º',
                    'Blatant violation (n.phr.): å…¬ç„¶é•å', 'Maritime law (n.phr.): æµ·æ´‹æ³•', 'Retaliatory measures (n.phr.): å ±å¾©æªæ–½', 'Reorganize (v.): é‡çµ„',
                    'Energy market (n.phr.): èƒ½æºå¸‚å ´', 'Fuel prices (n.phr.): ç‡ƒæ²¹åƒ¹æ ¼', 'Influence (n.): å½±éŸ¿åŠ›', 'Citing (v.ger.): å¼•ç”¨/æŒ‡å‡º',
                    'Escalation (n.): æ“´å¼µ/å‡ç´š', 'Simultaneous (adj.): åŒæ­¥çš„', 'Petroleum (n.): çŸ³æ²¹', 'Depositor (n.): å­˜æ¬¾äºº',
                    'Condemnation (n.): è­´è²¬', 'Piracy (n.): æµ·ç›œè¡Œç‚º', 'Blatant (adj.): éœ²éª¨çš„/å†’å¤±çš„', 'Retaliatory (adj.): å ±å¾©çš„'
                ],
                quiz: [
                    { q: 'What is the name of the seized Russian oil tanker?', options: ['Centuries', 'Marinera', 'Moskva', 'Siberia'], answer: 'Marinera' },
                    { q: 'Where was the tanker seized?', options: ['Pacific Ocean', 'North Atlantic', 'Gulf of Mexico', 'Black Sea'], answer: 'North Atlantic' },
                    { q: 'What was the reason given for the seizure?', options: ['Theft', 'Violations of American sanctions', 'Engine failure', 'Illegal fishing'], answer: 'Violations of American sanctions' },
                    { q: 'The US plans to take direct control over whose petroleum products?', options: ['Russia\'s', 'Iran\'s', 'Venezuela\'s', 'Saudi Arabia\'s'], answer: 'Venezuela\'s' },
                    { q: 'Where will the proceeds from the oil sales be deposited?', options: ['The World Bank', 'The Venezuelan Central Bank', 'U.S.-controlled accounts', 'Private accounts in Switzerland'], answer: 'U.S.-controlled accounts' },
                    { q: 'How did the Kremlin describe the US action?', options: ['A lawful arrest', 'International piracy', 'A commercial deal', 'A minor dispute'], answer: 'International piracy' },
                    { q: 'What does the Kremlin warn of in response?', options: ['Thank you letters', 'Retaliatory measures', 'New oil sales', 'Leaving the UN'], answer: 'Retaliatory measures' },
                    { q: 'What is the primary strategic goal of this move according to analysts?', options: ['To start a war', 'To reorganize the global energy market', 'To help Russia', 'To sell more cars'], answer: 'To reorganize the global energy market' },
                    { q: 'The term "blatant violation" implies the violation is ______.', options: ['Secret', 'Very obvious and unashamed', 'Accidental', 'Small'], answer: 'Very obvious and unashamed' },
                    { q: 'The word "proceeds" means what?', options: ['Rules', 'Money obtained from a sale', 'The speed of a boat', 'Future events'], answer: 'Money obtained from a sale' },
                    { q: 'What part of the energy market might see a price ease in the US?', options: ['Electricity', 'Fuel prices', 'Coal', 'Nuclear power'], answer: 'Fuel prices' },
                    { q: 'Who is currently making these energy strategy decisions in the US?', options: ['The Fed', 'The Trump administration', 'TSMC', 'The UN'], answer: 'The Trump administration' },
                    { q: 'Which government is represented by the term "The Kremlin"?', options: ['USA', 'Venezuela', 'Russia', 'Ukraine'], answer: 'Russia' },
                    { q: 'The term "maritime law" refers to laws governing what?', options: ['Outer space', 'Land property', 'Activities on the sea', 'Air travel'], answer: 'Activities on the sea' },
                    { q: 'What does "simultaneously" mean?', options: ['One after another', 'Happening at the same time', 'Never happening', 'Happening early'], answer: 'Happening at the same time' }
                ]
            },
            'fed-division': {
                title: 'è¯æº–æœƒ 2026 åˆ©ç‡è·¯å¾‘åˆ†æ­§',
                english: `Recent Federal Reserve minutes reveal deep divisions among policymakers over the interest rate outlook for 2026. Some officials argue that cooling inflation justifies an earlier-than-expected rate cut to support growth, while others remain wary of persistent price pressures in the labor market. This lack of consensus has left investors and global markets in suspense. Analysts suggest future decisions will be highly data-dependent, focusing on employment figures and consumer price data.`,
                chinese: `è¯æº–æœƒå…§éƒ¨æ„è¦‹åˆ†æ­§ã€‚è¯æº–æœƒï¼ˆFedï¼‰æœ€è¿‘çš„æœƒè­°ç´€éŒ„é¡¯ç¤ºï¼Œæ±ºç­–è€…å°æ–¼ 2026 å¹´çš„åˆ©ç‡å±•æœ›å­˜åœ¨åš´é‡åˆ†æ­§ã€‚éƒ¨åˆ†å®˜å“¡èªç‚ºï¼Œé€šè†¨é™æº«ç‚ºæ—©æ–¼é æœŸçš„é™æ¯æä¾›äº†æ­£ç•¶ç†ç”±ï¼Œä»¥æ”¯æŒç¶“æ¿Ÿæˆé•·ï¼›è€Œå…¶ä»–å®˜å“¡å‰‡å°å‹å‹•å¸‚å ´æŒçºŒå­˜åœ¨çš„ç‰©åƒ¹å£“åŠ›ä¿æŒè­¦æˆ’ã€‚é€™ç¨®å…±è­˜çš„ç¼ºä¹è®“æŠ•è³‡è€…å’Œå…¨çƒå¸‚å ´è™•æ–¼æ‡¸è€Œæœªæ±ºçš„ç„¦æ…®ç‹€æ…‹ã€‚åˆ†æäººå£«æŒ‡å‡ºï¼Œæœªä¾†çš„æ±ºç­–å°‡é«˜åº¦ä¾è³´æ•¸æ“šï¼Œé‡é»é—œæ³¨å°±æ¥­æ•¸æ“šå’Œæ¶ˆè²»è€…ç‰©åƒ¹æ•¸æ“šã€‚`,
                vocabulary: [
                    'Federal Reserve (n. proper): è¯æº–æœƒ (ç¾åœ‹ä¸­å¤®éŠ€è¡Œ)', 'Minutes (n.): æœƒè­°ç´€éŒ„', 'Policymakers (n.): æ±ºç­–è€…', 'Interest rate (n.phr.): åˆ©ç‡',
                    'Outlook (n.): å±•æœ›', 'Cooling inflation (n.phr.): é€šè†¨é™æº«', 'Justifies (v.): è­‰æ˜...æœ‰ç†/ä½¿æ­£ç•¶åŒ–', 'Earlier-than-expected (adj.): æ—©æ–¼é æœŸçš„',
                    'Rate cut (n.phr.): é™æ¯', 'Support growth (phr.): æ”¯æŒæˆé•·', 'Wary (adj.): è­¦æˆ’çš„/è¬¹æ…çš„', 'Persistent (adj.): æŒçºŒçš„',
                    'Price pressures (n.phr.): ç‰©åƒ¹å£“åŠ›', 'Labor market (n.phr.): å‹å‹•å¸‚å ´', 'Consensus (n.): å…±è­˜', 'Investors (n.): æŠ•è³‡è€…',
                    'In suspense (phr.): æ‡¸è€Œæœªæ±º/ç„¦æ…®ä¸å®‰', 'Data-dependent (adj.): ä¾è³´æ•¸æ“šçš„', 'Employment figures (n.phr.): å°±æ¥­æ•¸æ“š', 'Consumer price data (n.phr.): æ¶ˆè²»è€…ç‰©åƒ¹æ•¸æ“š',
                    'Inflation (n.): é€šè²¨è†¨è„¹', 'Justify (v.): è¾¯è­·', 'Division (n.): åˆ†æ­§', 'Focusing (v.ger.): å°ˆæ³¨æ–¼',
                    'Consensus (n.): ä¸€è‡´çš„æ„è¦‹', 'Outlook (n.): æ™¯è‰²/å‰æ™¯', 'Suspense (n.): æ‡¸å¿µ', 'Dependent (adj.): ä¾è³´çš„',
                    'Pressure (n.): å£“åŠ›', 'Policymaker (n.): æ”¿ç­–åˆ¶å®šè€…', 'Division (n.): åŠƒåˆ†/åˆ†æ­§', 'Wary (adj.): å°å¿ƒçš„'
                ],
                quiz: [
                    { q: 'Which organization released the "minutes" mentioned in the text?', options: ['The World Bank', 'The Federal Reserve', 'The Kremlin', 'The UN'], answer: 'The Federal Reserve' },
                    { q: 'What are policymakers divided over for 2026?', options: ['The tax outlook', 'The interest rate outlook', 'Climate change laws', 'Trade sanctions'], answer: 'The interest rate outlook' },
                    { q: 'Why do some officials support an earlier rate cut?', options: ['High taxes', 'Cooling inflation', 'Stock market crash', 'War in Europe'], answer: 'Cooling inflation' },
                    { q: 'What are other officials "wary" of in the labor market?', options: ['Lack of workers', 'Persistent price pressures', 'Low wages', 'New technology'], answer: 'Persistent price pressures' },
                    { q: 'The word "consensus" means what?', options: ['A legal rule', 'General agreement or unity of opinion', 'A loud argument', 'A financial loss'], answer: 'General agreement or unity of opinion' },
                    { q: 'How do global markets feel about the lack of consensus?', options: ['They are happy.', 'They are in suspense.', 'They are closed.', 'They are not affected.'], answer: 'They are in suspense.' },
                    { q: 'Future decisions will be "highly ______" according to analysts.', options: ['Political', 'Secret', 'Data-dependent', 'Fast'], answer: 'Data-dependent' },
                    { q: 'Which two types of data will policymakers focus on?', options: ['Weather and traffic', 'Fashion and sports', 'Employment figures and consumer price data', 'Population and space data'], answer: 'Employment figures and consumer price data' },
                    { q: 'The term "minutes" refers to what in this context?', options: ['60 seconds', 'The official record of a meeting', 'The distance to travel', 'The number of workers'], answer: 'The official record of a meeting' },
                    { q: 'What does "wary" mean?', options: ['Angry', 'Feeling or showing caution', 'Extremely tired', 'Very fast'], answer: 'Feeling or showing caution' },
                    { q: 'What is the goal of a "rate cut" for some officials?', options: ['To increase inflation', 'To support growth', 'To stop trading', 'To lower taxes'], answer: 'To support growth' },
                    { q: 'The Federal Reserve is often referred to as what?', options: ['The Kremlin', 'The Fed', 'The Cabinet', 'The NSB'], answer: 'The Fed' },
                    { q: 'What is "cooling inflation"?', options: ['Prices rising faster', 'Prices slowing down in their rate of increase', 'Prices dropping to zero', 'Prices staying exactly the same'], answer: 'Prices slowing down in their rate of increase' },
                    { q: 'The term "outlook" means which of the following?', options: ['A window', 'A prospect or future expectation', 'An old law', 'A type of money'], answer: 'A prospect or future expectation' },
                    { q: 'Is there a clear agreement on the interest rate direction for 2026?', options: ['Yes', 'No', 'Only in the US', 'The text doesn\'t say'], answer: 'No' }
                ]
            },
            'australia-heatwave': {
                title: 'æ¾³æ´²æ¥µç«¯ç†±æµªå¼•ç™¼é‡ç«å¨è„…',
                english: `Australiaâ€™s record-breaking heatwave continues to intensify, with parts of South Australia reaching 47Â°C. Authorities issued high-level fire warnings as dry and windy conditions sharply increase the risk of catastrophic bushfires. Emergency services remain on high alert, while residents are urged to stay indoors and conserve energy to prevent strain on the power grid. Health officials warned of heightened risks of heat-related illnesses, particularly among the elderly and children. The event underscores challenges posed by increasingly severe weather patterns.`,
                chinese: `æ¾³æ´²æ¥µç«¯ç†±æµªæŒçºŒã€‚æ¾³æ´²æ‰“ç ´ç´€éŒ„çš„ç†±æµªæŒçºŒåŠ åŠ‡ï¼Œå—æ¾³å·éƒ¨åˆ†åœ°å€æ°£æº«æ”€å‡è‡³ 47 åº¦ã€‚ç”±æ–¼ä¹¾ç‡¥ä¸”å¤šé¢¨çš„å¤©æ°£å¤§å¹…å¢åŠ äº†ç™¼ç”Ÿç½é›£æ€§æ£®æ—å¤§ç«ï¼ˆé‡ç«ï¼‰çš„é¢¨éšªï¼Œç•¶å±€ç™¼å¸ƒäº†é«˜ç´šåˆ¥çš„ç«ç½è­¦å ±ã€‚ç·Šæ€¥æ•‘æ´æœå‹™éƒ¨é–€ä¿æŒé«˜åº¦è­¦æˆ’ï¼ŒåŒæ™‚æ•¦ä¿ƒå±…æ°‘ç•™åœ¨å®¤å…§ä¸¦ç¯€ç´„èƒ½æºï¼Œä»¥é˜²æ­¢é›»ç¶²è² è·éé‡ã€‚è¡›ç”Ÿå®˜å“¡è­¦å‘Šä¸­æš‘ç­‰ç†±å‚·å®³ç–¾ç—…é¢¨éšªå‡é«˜ï¼Œç‰¹åˆ¥æ˜¯é‡å°è€å¹´äººå’Œå…’ç«¥ã€‚é€™æ¬¡äº‹ä»¶å‡¸é¡¯äº†æ—¥ç›Šåš´å³»çš„å¤©æ°£å‹æ…‹æ‰€å¸¶ä¾†çš„æŒ‘æˆ°ã€‚`,
                vocabulary: [
                    'Heatwave (n.): ç†±æµª', 'Intensify (v.): åŠ åŠ‡/å¼·åŒ–', 'South Australia (n. proper): å—æ¾³å·', '47Â°C (n.): æ”æ°47åº¦',
                    'Fire warnings (n.phr.): ç«ç½è­¦å ±', 'Dry and windy (adj.phr.): ä¹¾ç‡¥ä¸”å¤šé¢¨çš„', 'Sharply increase (phr.): æ€¥é½å¢åŠ ', 'Catastrophic (adj.): ç½é›£æ€§çš„',
                    'Bushfires (n.): é‡ç«/æ£®æ—å¤§ç«', 'Emergency services (n.phr.): ç·Šæ€¥æ•‘æ´æœå‹™', 'High alert (n.phr.): é«˜åº¦è­¦æˆ’', 'Residents (n.): å±…æ°‘',
                    'Conserve energy (phr.): ç¯€ç´„èƒ½æº', 'Strain (n.): å£“åŠ›/è² æ“”', 'Power grid (n.phr.): é›»ç¶²', 'Health officials (n.phr.): è¡›ç”Ÿå®˜å“¡',
                    'Heightened risks (n.phr.): å‡é«˜çš„é¢¨éšª', 'Heat-related illnesses (n.phr.): ç†±å‚·å®³ç–¾ç—…/ä¸­æš‘ç›¸é—œç–¾ç—…', 'Underscores (v.): å‡¸é¡¯/å¼·èª¿', 'Severe weather (n.phr.): åš´å³»å¤©æ°£',
                    'Weather patterns (n.phr.): å¤©æ°£å‹æ…‹', 'Risk (n.): é¢¨éšª', 'Alert (n.): è­¦æˆ’/è­¦å ±', 'Intensify (v.): å¼·åŒ–',
                    'Catastrophe (n.): å¤§ç½é›£', 'Bushfire (n.): çŒæœ¨å¢ç«ç½', 'Strain (v.): æ‹‰ç·Š/æå‚·', 'Vulnerable (adj.): è„†å¼±çš„',
                    'Increasingly (adv.): æ—¥ç›Šå¢é•·åœ°', 'Severe (adj.): åš´é‡çš„', 'Challenge (n.): æŒ‘æˆ°', 'Elderly (n.): è€å¹´äºº'
                ],
                quiz: [
                    { q: 'What temperature was reached in parts of South Australia?', options: ['37Â°C', '40Â°C', '45Â°C', '47Â°C'], answer: '47Â°C' },
                    { q: 'What two weather conditions increased the fire risk?', options: ['Cold and rainy', 'Dry and windy', 'Humid and cloudy', 'Snowy and calm'], answer: 'Dry and windy' },
                    { q: 'What specific type of fire is a threat in Australia?', options: ['House fires', 'Kitchen fires', 'Bushfires (forest fires)', 'Volcanic fires'], answer: 'Bushfires (forest fires)' },
                    { q: 'What were residents urged to do to help the power grid?', options: ['Turn on all lights', 'Stay indoors and conserve energy', 'Drive more', 'Go to the beach'], answer: 'Stay indoors and conserve energy' },
                    { q: 'Who is most at risk for heat-related illnesses?', options: ['Young adults', 'The elderly and children', 'Athletes', 'Drivers'], answer: 'The elderly and children' },
                    { q: 'What kind of warnings did the authorities issue?', options: ['Tsunami warnings', 'Tornado warnings', 'High-level fire warnings', 'Economic warnings'], answer: 'High-level fire warnings' },
                    { q: 'The term "intensify" means what?', options: ['To stop', 'To become stronger or more extreme', 'To cool down', 'To change color'], answer: 'To become stronger or more extreme' },
                    { q: 'The word "catastrophic" means which of the following?', options: ['Minor', 'Funny', 'Involving great damage or suffering', 'Normal'], answer: 'Involving great damage or suffering' },
                    { q: 'Emergency services are on "high ______."', options: ['Holidays', 'Alert', 'Prices', 'Buildings'], answer: 'Alert' },
                    { q: 'The extreme heat is putting a "strain" on what system?', options: ['The water system', 'The power grid', 'The internet', 'The subway'], answer: 'The power grid' },
                    { q: 'The word "underscores" means what in the text?', options: ['Draws a line under text', 'Emphasizes or highlights', 'Ignores', 'Deletes'], answer: 'Emphasizes or highlights' },
                    { q: 'Is the heatwave in Australia breaking any records?', options: ['No', 'Yes, it is record-breaking', 'Only at night', 'The text does not say'], answer: 'Yes, it is record-breaking' },
                    { q: 'Where are residents urged to stay?', options: ['In parks', 'Indoors', 'At work', 'By the river'], answer: 'Indoors' },
                    { q: 'Health ______ warned about heat-related illnesses.', options: ['Lawyers', 'Scientists', 'Officials', 'Drivers'], answer: 'Officials' },
                    { q: 'The term "heatwave" refers to a period of ______ weather.', options: ['Rainy', 'Extremely hot', 'Extremely cold', 'Breezy'], answer: 'Extremely hot' }
                ]
            },
            'un-trade-forecast': {
                title: 'è¯åˆåœ‹é æ¸¬ 2026 å…¨çƒè²¿æ˜“æ”¾ç·©',
                english: `A new United Nations report predicts that global trade growth will slow markedly in 2026, driven by geopolitical conflicts and rising protectionist policies. The World Economic Situation and Prospects report warns that fragmented supply chains and expanded use of tariffs are constraining international commerce. UN Secretary-General Antonio Guterres called for strengthened multilateral cooperation to restore stability. Economists caution that without coordinated efforts to reduce trade barriers, the world risks a period of prolonged economic stagnation, disproportionately affecting developing nations.`,
                chinese: `è¯åˆåœ‹é æ¸¬ 2026 å¹´å…¨çƒè²¿æ˜“æ”¾ç·©ã€‚è¯åˆåœ‹çš„ä¸€ä»½æ–°å ±å‘Šé æ¸¬ï¼Œå—åœ°ç·£æ”¿æ²»è¡çªå’Œä¿è­·ä¸»ç¾©æ”¿ç­–æŠ¬é ­çš„æ¨å‹•ï¼Œ2026 å¹´å…¨çƒè²¿æ˜“å¢é•·å°‡é¡¯è‘—æ”¾ç·©ã€‚ã€Šä¸–ç•Œç¶“æ¿Ÿå½¢å‹¢èˆ‡å±•æœ›ã€‹å ±å‘Šè­¦å‘Šèªªï¼Œç¢ç‰‡åŒ–çš„ä¾›æ‡‰éˆå’Œå»£æ³›ä½¿ç”¨çš„é—œç¨…æ­£åœ¨é™åˆ¶åœ‹éš›å•†æ¥­ã€‚è¯åˆåœ‹ç§˜æ›¸é•·å¤ç‰¹ç‘æ–¯å‘¼ç±²åŠ å¼·å¤šé‚Šåˆä½œä»¥æ¢å¾©ç©©å®šã€‚ç¶“æ¿Ÿå­¸å®¶è­¦å‘Šèªªï¼Œå¦‚æœæ²’æœ‰å”èª¿ä¸€è‡´çš„åŠªåŠ›ä¾†æ¸›å°‘è²¿æ˜“å£å£˜ï¼Œä¸–ç•Œé¢è‡¨é•·æœŸç¶“æ¿Ÿåœæ»¯çš„é¢¨éšªï¼Œä¸”é€™å°ç™¼å±•ä¸­åœ‹å®¶çš„å½±éŸ¿å°‡ä¸æˆæ¯”ä¾‹åœ°åš´é‡ã€‚`,
                vocabulary: [
                    'United Nations (UN) (n. proper): è¯åˆåœ‹', 'Forecasts (v.): é æ¸¬', 'Markedly (adv.): é¡¯è‘—åœ°', 'Geopolitical conflicts (n.phr.): åœ°ç·£æ”¿æ²»è¡çª',
                    'Protectionist policies (n.phr.): ä¿è­·ä¸»ç¾©æ”¿ç­–', 'World Economic Situation and Prospects (n. proper): ä¸–ç•Œç¶“æ¿Ÿå½¢å‹¢èˆ‡å±•æœ› (å ±å‘Šå)', 'Fragmented (adj.): ç¢ç‰‡åŒ–çš„/åˆ†è£‚çš„', 'Supply chains (n.phr.): ä¾›æ‡‰éˆ',
                    'Tariffs (n.): é—œç¨…', 'Constraining (v.ger.): é™åˆ¶/ç´„æŸ', 'International commerce (n.phr.): åœ‹éš›å•†æ¥­/è²¿æ˜“', 'Multilateral cooperation (n.phr.): å¤šé‚Šåˆä½œ',
                    'Restore stability (phr.): æ¢å¾©ç©©å®š', 'Coordinated efforts (n.phr.): å”èª¿ä¸€è‡´çš„åŠªåŠ›', 'Trade barriers (n.phr.): è²¿æ˜“å£å£˜', 'Prolonged (adj.): é•·æœŸçš„/æŒçºŒå¾ˆä¹…çš„',
                    'Economic stagnation (n.phr.): ç¶“æ¿Ÿåœæ»¯', 'Disproportionately (adv.): ä¸æˆæ¯”ä¾‹åœ°', 'Developing nations (n.phr.): ç™¼å±•ä¸­åœ‹å®¶', 'markedly (adv.): é¡¯è‘—åœ°',
                    'Predict (v.): é è¨€/é æ¸¬', 'Markedly (adv.): æ˜é¡¯åœ°', 'Geopolitical (adj.): åœ°ç·£æ”¿æ²»çš„', 'Protectionist (adj.): ä¿è­·ä¸»ç¾©çš„',
                    'Fragmented (adj.): ç¢è£‚çš„', 'Constraint (n.): é™åˆ¶', 'Multilateral (adj.): å¤šé‚Šçš„', 'Stagnation (n.): åœæ»¯',
                    'Prospect (n.): å‰æ™¯/å±•æœ›', 'Barrier (n.): éšœç¤™', 'Marked (adj.): é¡¯è‘—çš„', 'Cooperation (n.): åˆä½œ'
                ],
                quiz: [
                    { q: 'Which organization released the report on global trade growth?', options: ['The IMF', 'The United Nations (UN)', 'The World Bank', 'The WTO'], answer: 'The United Nations (UN)' },
                    { q: 'What is predicted for global trade growth in 2026?', options: ['Rapid acceleration', 'It will slow markedly', 'It will stay the same', 'It will stop entirely'], answer: 'It will slow markedly' },
                    { q: 'What are the two main drivers of the trade slowdown?', options: ['Better technology and peace', 'Geopolitical conflicts and rising protectionist policies', 'Lack of ships and planes', 'Tourism and education'], answer: 'Geopolitical conflicts and rising protectionist policies' },
                    { q: 'What is the name of the UN report?', options: ['Global Trade Daily', 'World Economic Situation and Prospects', 'United Nations Review', 'Economic News Update'], answer: 'World Economic Situation and Prospects' },
                    { q: 'What is "constraining" international commerce besides supply chains?', options: ['Free trade', 'Lower taxes', 'Expanded use of tariffs', 'More cooperation'], answer: 'Expanded use of tariffs' },
                    { q: 'Who called for strengthened multilateral cooperation?', options: ['Donald Trump', 'Antonio Guterres', 'Kim Jong Un', 'Jensen Huang'], answer: 'Antonio Guterres' },
                    { q: 'What do economists fear without coordinated efforts?', options: ['A period of prolonged economic stagnation', 'Too much economic growth', 'Lower prices for everyone', 'A return to 1990s economy'], answer: 'A period of prolonged economic stagnation' },
                    { q: 'Who will be "disproportionately affected" by the economic stagnation?', options: ['Wealthy nations', 'Developing nations', 'Only Russia', 'Only small islands'], answer: 'Developing nations' },
                    { q: 'The term "markedly" means what?', options: ['Slightly', 'Significantly or noticeably', 'Slowly', 'Secretly'], answer: 'Significantly or noticeably' },
                    { q: 'What are "protectionist policies"?', options: ['Policies to protect the ocean', 'Policies shielding domestic industries from foreign competition', 'Policies to stop animal abuse', 'Policies to help travelers'], answer: 'Policies shielding domestic industries from foreign competition' },
                    { q: 'The word "fragmented" describes something that is what?', options: ['Strong and united', 'Broken into small pieces or parts', 'New and shiny', 'Transparent'], answer: 'Broken into small pieces or parts' },
                    { q: 'What does "stagnation" mean in an economy?', options: ['Rapid growth', 'A lack of activity, growth, or development', 'A sudden increase in wealth', 'A type of investment'], answer: 'A lack of activity, growth, or development' },
                    { q: 'UN Secretary-General wants to restore ______.', options: ['Anger', 'Stability', 'War', 'Taxes'], answer: 'Stability' },
                    { q: 'The term "multilateral" refers to cooperation between how many parties?', options: ['Only one', 'Only two', 'More than two/Multiple nations', 'None'], answer: 'More than two/Multiple nations' },
                    { q: 'What does "constraining" mean?', options: ['Helping', 'Expanding', 'Restricting or limiting', 'Ignoring'], answer: 'Restricting or limiting' }
                ]
            }
        };

        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº«</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢º)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>