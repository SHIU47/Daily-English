<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 1 æœˆ 22 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 1 æœˆ 22 æ—¥ï¼šå¤–éŠ·ç´€éŒ„ã€é¿éšªæ½®èˆ‡ç§‘æŠ€ç›£ç®¡</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs for News Topics -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for professional English learners. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] Taiwanâ€™s 2025 Export Orders Hit Record US$743 Billion, Driven by AI Boom\nThe Ministry of Economic Affairs (MOEA) announced on Wednesday that Taiwanâ€™s total export orders for 2025 reached a historic peak of US$743.7 billion. Orders from the United States surged by 38.6%, fueled by insatiable demand for high-performance computing (HPC) and AI infrastructure. Notably, Southeast Asia has officially surpassed China as Taiwan's second-largest export market.\n\n[2] Strong Cold Air Mass Grips Taiwan; Temperatures Plummet to 8.9Â°C\nThe Central Weather Administration (CWA) issued low-temperature warnings for 10 cities and counties on Wednesday. A low of 8.9Â°C was recorded in Yunlin County. Orange and yellow alerts remain in effect for northern and central Taiwan, with damp and freezing conditions expected to persist through Friday. Snowfall remains possible in mountainous areas above 2,000 meters.\n\n[3] U.S. House Committee Approves US$1.15 Billion in Security Assistance for Taiwan\nA key committee in the U.S. House of Representatives approved a US$1.15 billion security cooperation package for Taiwan on Wednesday. The funds are designated to enhance Taiwanâ€™s asymmetric defense capabilities and improve joint training. This move reaffirms bipartisan support and coincides with the first U.S. warship transit of the Taiwan Strait in 2026.`,
                chinese: `ã€1ã€‘2025 å¹´å¤–éŠ·è¨‚å–®é” 7,437 å„„ç¾å…ƒå‰µæ­·å²æ–°é«˜ï¼ŒAI ä¾›æ‡‰éˆæˆç¾æ–¹æ¥å–®ä¸»åŠ›\nç¶“æ¿Ÿéƒ¨ï¼ˆMOEAï¼‰é€±ä¸‰å®£å¸ƒï¼Œå°ç£ 2025 å¹´çš„ç¸½å¤–éŠ·è¨‚å–®é”åˆ°äº† 7,437.2 å„„ç¾å…ƒçš„æ­·å²å·”å³°ã€‚ä¾†è‡ªç¾åœ‹çš„è¨‚å–®æˆé•·äº† 38.6%ï¼Œä¸»è¦å—åˆ°å°é«˜æ•ˆèƒ½é‹ç®—ï¼ˆHPCï¼‰å’Œ AI åŸºç¤è¨­æ–½æ°¸ç„¡æ­¢å¢ƒçš„éœ€æ±‚æ‰€æ¨å‹•ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ±å—äºå·²æ­£å¼è¶…è¶Šä¸­åœ‹ï¼Œæˆç‚ºå°ç£ç¬¬äºŒå¤§å‡ºå£å¸‚å ´ï¼Œå‡¸é¡¯äº†å…¨çƒç§‘æŠ€å·¨é ­å°‡è£½é€ é¢¨éšªå¾ä¸­åœ‹å¤§é™¸ç§»å‡ºçš„ä¾›æ‡‰éˆå¤šå…ƒåŒ–ç­–ç•¥æˆåŠŸã€‚\n\nã€2ã€‘å¯’æµç± ç½©å…¨å°ä½æº«æ¢ 8.9 åº¦ï¼Œæ°£è±¡ç½²ç™¼å¸ƒ 10 ç¸£å¸‚ä½æº«ç‰¹å ±\néš¨è‘—å¼·å¤§çš„å¤§é™¸å¯’æµç± ç½©å…¨å°ï¼Œä¸­å¤®æ°£è±¡ç½²ï¼ˆCWAï¼‰é€±ä¸‰å° 10 å€‹ç¸£å¸‚ç™¼å¸ƒäº†ä½æº«ç‰¹å ±ã€‚é›²æ—ç¸£é€±ä¸‰æ¸…æ™¨æ¸¬å¾— 8.9 åº¦çš„ä½æº«ã€‚åŒ—å°ç£å’Œä¸­å°ç£ç›®å‰ä»ç¶­æŒæ©™è‰²å’Œé»ƒè‰²ç‡ˆè™Ÿï¼Œå®˜å“¡è­¦å‘Šæ½®æ¿•åš´å¯’çš„å¤©æ°£å°‡æŒçºŒåˆ°é€±äº”ã€‚2,000 å…¬å°ºä»¥ä¸Šçš„å±±å€ä»æœ‰å¯èƒ½é™é›ªï¼Œç•¶å±€å»ºè­°é«˜æµ·æ‹”åœ°å€çš„å±…æ°‘èˆ‡éŠå®¢æé«˜è­¦è¦ºã€‚\n\nã€3ã€‘ç¾çœ¾é™¢å§”å“¡æœƒé€šé 11.5 å„„ç¾å…ƒå°å°è»æ´ï¼Œå”åŠ©å¼·åŒ–ä¸å°ç¨±ä½œæˆ°èƒ½åŠ›\nç¾åœ‹çœ¾è­°é™¢ä¸€å€‹é—œéµå§”å“¡æœƒé€±ä¸‰æ‰¹å‡†äº†å°å° 11.5 å„„ç¾å…ƒçš„å®‰å…¨åˆä½œæ–¹æ¡ˆã€‚é€™äº›åŒ…å«åœ¨æœ¬å¹´åº¦ã€Šç¶œåˆæ’¥æ¬¾æ³•æ¡ˆã€‹ä¸­çš„è³‡é‡‘ï¼Œæ—¨åœ¨å¢å¼·å°ç£çš„ä¸å°ç¨±é˜²ç¦¦èƒ½åŠ›ä¸¦æ”¹å–„è¯åˆè¨“ç·´è¡Œå‹•ã€‚æ­¤èˆ‰é‡ç”³äº†è¯ç››é “å°å°ç£å®‰å…¨çš„è·¨é»¨æ´¾æ”¯æŒï¼Œä¸”æ°é€¢ 2026 å¹´ç¾åœ‹è»è‰¦é¦–æ¬¡é€šéå°ç£æµ·å³½ï¼ˆæœ¬é€±æ—©äº›æ™‚å€™ç™¼ç”Ÿï¼‰ã€‚`,
                vocabulary: [
                    'Export orders (n.phr.): å¤–éŠ·è¨‚å–®', 'Historic peak (n.phr.): æ­·å²å·”å³°', 'Surged (v.): é£†å‡/æ¿€å¢', 'Insatiable (adj.): æ°¸ä¸æ»¿è¶³çš„/è²ªå¾—ç„¡å­çš„',
                    'High-performance computing (HPC) (n.phr.): é«˜æ•ˆèƒ½é‹ç®—', 'Infrastructure (n.): åŸºç¤è¨­æ–½', 'Surpassed (v.): è¶…é', 'Diversification (n.): å¤šå…ƒåŒ–',
                    'De-risk (v.): å»é¢¨éšªåŒ–', 'Cold air mass (n.phr.): å¯’æµ/å†·æ°£åœ˜', 'Plummet (v.): æš´è·Œ/é©Ÿé™', 'Blanketed (v.pt.): ç± ç½©/è¦†è“‹',
                    'Advisory (n.): ç‰¹å ±/å…¬å‘Š', 'Alerts in effect (phr.): è­¦å ±ç”Ÿæ•ˆä¸­', 'Persist (v.): æŒçºŒ', 'Snowfall (n.): é™é›ª',
                    'Heightened caution (n.phr.): æé«˜è­¦è¦º', 'High-altitude (adj.): é«˜æµ·æ‹”çš„', 'House of Representatives (n. proper): çœ¾è­°é™¢', 'Security assistance (n.phr.): å®‰å…¨æ´åŠ©',
                    'Asymmetric defense (n.phr.): ä¸å°ç¨±é˜²ç¦¦', 'Bipartisan support (n.phr.): è·¨é»¨æ´¾æ”¯æŒ', 'Coincides with (phr.v.): æ°é€¢/åŒæ™‚ç™¼ç”Ÿ', 'Transit (n.): é€šé/éå¢ƒ',
                    'Consolidated Appropriations Act (n. proper): ç¶œåˆæ’¥æ¬¾æ³•æ¡ˆ', 'Notably (adv.): é¡¯è‘—åœ°/å€¼å¾—æ³¨æ„çš„æ˜¯', 'Mainland (n.): å¤§é™¸', 'Damp (adj.): æ½®æ¿•çš„',
                    'Freezing (adj.): åš´å¯’çš„', 'Joint training (n.phr.): è¯åˆè¨“ç·´', 'Sector (n.): éƒ¨é–€', 'Vulnerable (adj.): è„†å¼±çš„'
                ],
                quiz: [
                    { q: 'What was the total value of Taiwan\'s 2025 export orders?', options: ['US$100 billion', 'US$743.7 billion', 'US$1.15 billion', 'US$520 billion'], answer: 'US$743.7 billion' },
                    { q: 'Orders from which country surged by 38.6%?', options: ['China', 'Japan', 'The United States', 'Germany'], answer: 'The United States' },
                    { q: 'Which region has officially become Taiwan\'s second-largest export market?', options: ['Europe', 'Southeast Asia', 'North America', 'South America'], answer: 'Southeast Asia' },
                    { q: 'What was the lowest temperature recorded in Yunlin on Wednesday?', options: ['5.0Â°C', '8.9Â°C', '10.5Â°C', '12Â°C'], answer: '8.9Â°C' },
                    { q: 'How many cities and counties were issued low-temperature warnings?', options: ['5', '10', '15', '20'], answer: '10' },
                    { q: 'Until when are the damp and freezing conditions expected to persist?', options: ['Wednesday', 'Thursday', 'Friday', 'Sunday'], answer: 'Friday' },
                    { q: 'How much security assistance did the U.S. House Committee approve?', options: ['US$743 million', 'US$1.15 billion', 'US$400 billion', 'US$10 billion'], answer: 'US$1.15 billion' },
                    { q: 'What kind of defense capabilities is the U.S. aid intended to enhance?', options: ['Space defense', 'Nuclear defense', 'Asymmetric defense', 'Traditional naval defense'], answer: 'Asymmetric defense' },
                    { q: 'The U.S. aid coincides with which maritime event in the Taiwan Strait?', options: ['A major flood', 'A fishing festival', 'The first U.S. warship transit of 2026', 'A local race'], answer: 'The first U.S. warship transit of 2026' },
                    { q: 'Which agency provided the export order data?', options: ['MOEA', 'CWA', 'MND', 'NASA'], answer: 'MOEA' },
                    { q: 'The word "insatiable" in the text describes what?', options: ['Low demand', 'Stable demand', 'Demand that cannot be satisfied', 'Hidden demand'], answer: 'Demand that cannot be satisfied' },
                    { q: 'What color alerts are in effect for northern and central Taiwan?', options: ['Red and Green', 'Orange and Yellow', 'Blue and Purple', 'Black and White'], answer: 'Orange and Yellow' },
                    { q: 'At what altitude is snowfall possible according to the CWA?', options: ['500 meters', '1,000 meters', 'Above 2,000 meters', 'Only at sea level'], answer: 'Above 2,000 meters' },
                    { q: 'The term "bipartisan" means support from ______.', options: ['Only one party', 'Two political parties', 'Foreign countries only', 'Individual citizens'], answer: 'Two political parties' },
                    { q: 'What is the full name of the CWA?', options: ['Central Water Agency', 'Central Weather Administration', 'China Weather Association', 'Coalition of Weather Affairs'], answer: 'Central Weather Administration' }
                ]
            },
            'gold-record-high': {
                title: 'åœ‹éš›é‡‘åƒ¹é£†ç ´ 4,760 ç¾å…ƒ',
                english: `Global gold prices hit an unprecedented peak on Wednesday, with February futures briefly touching $4,760 per ounce. Analysts attribute the surge to escalating geopolitical tensions, including rhetoric over Greenland, the ongoing Iran crisis, and fears of a full-blown trade war between the U.S. and the EU. Silver also posted strong gains, reflecting a broad flight to precious metals as investors hedge against currency volatility and political instability. Market sentiment remains heavily tilted toward defensive assets.`,
                chinese: `é‡‘åƒ¹ä¸€åº¦ç ´ 4,760 ç¾å…ƒå‰µæ­·å²æ–°é«˜ï¼Œåœ°ç·£æ”¿æ²»èˆ‡ç¶“æ¿Ÿä¸ç¢ºå®šæ€§æ¨å‹•é¿éšªæ½®ã€‚å…¨çƒé‡‘åƒ¹é€±ä¸‰é”åˆ°å‰æ‰€æœªæœ‰çš„å·”å³°ï¼Œ2 æœˆæœŸè²¨åƒ¹æ ¼ä¸€åº¦è§¸åŠæ¯ç›å¸ 4,760 ç¾å…ƒã€‚åˆ†æå¸«å°‡æ­¤æ¬¡é£†å‡æ­¸å› æ–¼æ—¥ç›ŠåŠ åŠ‡çš„åœ°ç·£æ”¿æ²»ç·Šå¼µå±€å‹¢ï¼ŒåŒ…æ‹¬é‡å°æ ¼é™µè˜­å³¶æ”¶è³¼æ¡ˆçš„è¨€è«–ã€æŒçºŒçš„ä¼Šæœ—å±æ©Ÿï¼Œä»¥åŠå°ç¾æ­çˆ†ç™¼å…¨é¢è²¿æ˜“æˆ°çš„æ“”æ†‚ã€‚ç™½éŠ€ä¹ŸéŒ„å¾—å¼·å‹æ¼²å¹…ï¼Œåæ˜ å‡ºæŠ•è³‡è€…åœ¨å°æ²–è²¨å¹£æ³¢å‹•å’Œæ”¿æ²»ä¸ç©©å®šæ™‚ï¼Œå»£æ³›è½‰å‘è²´é‡‘å±¬çš„è¶¨å‹¢ã€‚å¸‚å ´æƒ…ç·’ç›®å‰åš´é‡å‚¾å‘æ–¼é˜²ç¦¦æ€§è³‡ç”¢ã€‚`,
                vocabulary: [
                    'Unprecedented peak (n.phr.): å‰æ‰€æœªæœ‰çš„å·”å³°', 'Futures (n.): æœŸè²¨', 'Per ounce (phr.): æ¯ç›å¸', 'Attribute to (v.phr.): æ­¸å› æ–¼',
                    'Escalating (adj.): æ—¥ç›ŠåŠ åŠ‡çš„', 'Geopolitical tensions (n.phr.): åœ°ç·£æ”¿æ²»ç·Šå¼µå±€å‹¢', 'Rhetoric (n.): è¨€è«–/ä¿®è¾­', 'Ongoing crisis (n.phr.): æŒçºŒä¸­çš„å±æ©Ÿ',
                    'Full-blown (adj.): å…¨é¢çš„/å®Œå…¨çš„', 'Trade war (n.phr.): è²¿æ˜“æˆ°', 'Silver (n.): ç™½éŠ€', 'Posted gains (phr.): éŒ„å¾—æ¼²å¹…',
                    'Flight to (n.phr.): è½‰å‘/é€ƒå‘ (å®‰å…¨è³‡ç”¢)', 'Precious metals (n.phr.): è²´é‡‘å±¬', 'Hedge against (v.phr.): å°æ²–/é¿éšª', 'Currency volatility (n.phr.): è²¨å¹£æ³¢å‹•',
                    'Political instability (n.phr.): æ”¿æ²»ä¸ç©©å®š', 'Market sentiment (n.phr.): å¸‚å ´æƒ…ç·’', 'Tilted toward (v.pp.): å‚¾å‘æ–¼', 'Defensive assets (n.phr.): é˜²ç¦¦æ€§è³‡ç”¢',
                    'Safe-haven (n./adj.): é¿éšª/é¿é¢¨æ¸¯', 'Bullion (n.): é‡‘éŠ€æ¢å¡Š', 'Speculative (adj.): æŠ•æ©Ÿçš„', 'Demand (n.): éœ€æ±‚',
                    'Economic uncertainty (n.phr.): ç¶“æ¿Ÿä¸ç¢ºå®šæ€§', 'Commodity (n.): å•†å“', 'Stabilize (v.): ç©©å®š', 'Investment (n.): æŠ•è³‡'
                ],
                quiz: [
                    { q: 'What was the peak price reached by gold futures on Wednesday?', options: ['$2,000', '$3,500', '$4,760', '$5,000'], answer: '$4,760' },
                    { q: 'Which month\'s futures were mentioned in the report?', options: ['January', 'February', 'March', 'June'], answer: 'February' },
                    { q: 'What is one geopolitical reason mentioned for the gold surge?', options: ['A peace treaty', 'Rhetoric over Greenland', 'Lower taxes', 'New space exploration'], answer: 'Rhetoric over Greenland' },
                    { q: 'Besides gold, which other metal posted strong gains?', options: ['Copper', 'Silver', 'Iron', 'Aluminum'], answer: 'Silver' },
                    { q: 'Investors are "hedging against" what according to the text?', options: ['Low interest rates', 'Currency volatility and political instability', 'Technological advancement', 'New laws'], answer: 'Currency volatility and political instability' },
                    { q: 'Market sentiment is tilted toward which type of assets?', options: ['Speculative assets', 'Defensive assets', 'Agricultural assets', 'Cryptocurrencies'], answer: 'Defensive assets' },
                    { q: 'The term "safe-haven" refers to an investment that ______.', options: ['Is very risky', 'Retains value during market turbulence', 'Is illegal', 'Is used only for jewelry'], answer: 'Retains value during market turbulence' },
                    { q: 'Fears of a trade war between which two entities were mentioned?', options: ['USA and China', 'USA and EU', 'EU and Russia', 'Japan and China'], answer: 'USA and EU' },
                    { q: 'What does "unprecedented" mean?', options: ['Never happened before', 'Happens every day', 'Very cheap', 'Forgotten'], answer: 'Never happened before' },
                    { q: 'The word "escalating" means ______.', options: ['Decreasing', 'Staying same', 'Increasing in intensity', 'Ending'], answer: 'Increasing in intensity' },
                    { q: 'What is "volatility" in a market context?', options: ['Complete stability', 'Fast and unpredictable change', 'Zero trading', 'Legal control'], answer: 'Fast and unpredictable change' },
                    { q: 'Gold is often used to "hedge" against risk. What does "hedge" mean?', options: ['To cut a bush', 'To protect oneself against financial loss', 'To lose money purposely', 'To hide money'], answer: 'To protect oneself against financial loss' },
                    { q: 'The ongoing crisis mentioned is located where?', options: ['Ukraine', 'Iran', 'Venezuela', 'Chile'], answer: 'Iran' },
                    { q: 'Which term refers to the feeling of the market?', options: ['Market cost', 'Market sentiment', 'Market place', 'Market share'], answer: 'Market sentiment' },
                    { q: 'Gold reached this peak on which day of the week?', options: ['Monday', 'Tuesday', 'Wednesday', 'Thursday'], answer: 'Wednesday' }
                ]
            },
            'openai-age-prediction': {
                title: 'OpenAI æ“¬æ¨å¹´é½¡é æ¸¬åŠŸèƒ½',
                english: `OpenAI announced on Wednesday that it will introduce an age-prediction feature for individual paid users of ChatGPT later this year. The tool aims to enable more granular content moderation and prevent minors from accessing age-inappropriate material. The company emphasized that the system relies on advanced behavioral analysis, not biometric data, to protect user privacy. This announcement comes amid growing global regulatory pressure on AI firms to implement stronger safeguards for children.`,
                chinese: `OpenAI æ“¬åœ¨ ChatGPT æ¨å‡ºã€Œå¹´é½¡é æ¸¬ã€åŠŸèƒ½ä»¥åŠ å¼·å…’ç«¥ä¿è­·ã€‚OpenAI é€±ä¸‰å®£å¸ƒï¼Œå°‡æ–¼ä»Šå¹´ç¨æ™šç‚º ChatGPT çš„å€‹äººä»˜è²»ç”¨æˆ¶æ¨å‡ºå¹´é½¡é æ¸¬åŠŸèƒ½ã€‚è©²å·¥å…·æ—¨åœ¨å¯¦ç¾æ›´ç´°ç·»çš„å…§å®¹å¯©æ ¸ï¼Œä¸¦é˜²æ­¢æœªæˆå¹´äººæ¥è§¸ä¸é©é½¡çš„è³‡æ–™ã€‚è©²å…¬å¸å¼·èª¿ï¼Œè©²ç³»çµ±ä¾è³´å…ˆé€²çš„è¡Œç‚ºåˆ†æè€Œéç”Ÿç‰©è­˜åˆ¥æ•¸æ“šï¼Œä»¥ä¿è­·ç”¨æˆ¶éš±ç§ã€‚é€™ä¸€å…¬å‘Šç™¼å¸ƒä¹‹éš›ï¼Œå…¨çƒç›£ç®¡æ©Ÿæ§‹æ­£å° AI ä¼æ¥­æ–½åŠ æ—¥ç›Šå¢é•·çš„å£“åŠ›ï¼Œè¦æ±‚ç‚ºå…’ç«¥å¯¦æ–½æ›´å¼·å¤§çš„ä¿è­·æªæ–½ã€‚`,
                vocabulary: [
                    'Age-prediction (n.): å¹´é½¡é æ¸¬', 'Individual paid users (n.phr.): å€‹äººä»˜è²»ç”¨æˆ¶', 'Introduce (v.): æ¨å‡º/ä»‹ç´¹', 'Granular (adj.): ç´°ç·»çš„/ç²’åº¦ç´°çš„',
                    'Content moderation (n.phr.): å…§å®¹å¯©æ ¸', 'Minors (n.): æœªæˆå¹´äºº', 'Age-inappropriate (adj.): ä¸é©é½¡çš„/å¹´é½¡ä¸ç•¶çš„', 'Rely on (phr.v.): ä¾è³´',
                    'Behavioral analysis (n.phr.): è¡Œç‚ºåˆ†æ', 'Biometric data (n.phr.): ç”Ÿç‰©è­˜åˆ¥æ•¸æ“š', 'User privacy (n.phr.): ç”¨æˆ¶éš±ç§', 'Regulatory pressure (n.phr.): ç›£ç®¡å£“åŠ›',
                    'Safeguards (n.): ä¿è­·æªæ–½/å®‰å…¨ä¿éšœ', 'Generative AI (n.phr.): ç”Ÿæˆå¼ AI', 'Social platforms (n.phr.): ç¤¾äº¤å¹³å°', 'Implement (v.): å¯¦æ–½/åŸ·è¡Œ',
                    'Protect (v.): ä¿è­·', 'Minors (n.): æœªæˆå¹´è€…', 'Granular (adj.): é¡†ç²’ç‹€çš„/ç´°åˆ†çš„', 'Analysis (n.): åˆ†æ',
                    'Biometric (adj.): ç”Ÿç‰©è­˜åˆ¥çš„', 'Privacy (n.): éš±ç§', 'Regulation (n.): è¦ç« /ç›£ç®¡', 'Integrated (adj.): æ•´åˆçš„',
                    'Safeguard (v.): ä¿è¡›', 'Access (v.): å­˜å–/é€²å…¥', 'Tool (n.): å·¥å…·', 'Individual (n./adj.): å€‹äºº(çš„)'
                ],
                quiz: [
                    { q: 'Who announced the "age-prediction" feature?', options: ['Google', 'OpenAI', 'Microsoft', 'Meta'], answer: 'OpenAI' },
                    { q: 'Which group of users will the feature be available to first?', options: ['All free users', 'Individual paid users', 'Only corporate users', 'Only students'], answer: 'Individual paid users' },
                    { q: 'What is the primary goal of the "age-prediction" tool?', options: ['To charge more money', 'To enable granular content moderation and protect minors', 'To speed up ChatGPT', 'To design new emojis'], answer: 'To enable granular content moderation and protect minors' },
                    { q: 'The system relies on what kind of analysis?', options: ['Biometric analysis', 'Behavioral analysis', 'Physical analysis', 'Financial analysis'], answer: 'Behavioral analysis' },
                    { q: 'OpenAI emphasized that it will NOT use which kind of data?', options: ['Email addresses', 'Biometric data', 'Payment data', 'Chat history'], answer: 'Biometric data' },
                    { q: 'What is the reason for protecting user privacy mentioned in the text?', options: ['To hide the AI', 'To avoid using biometric data', 'To follow the news', 'To sell data'], answer: 'To avoid using biometric data' },
                    { q: 'There is growing ______ pressure on AI firms to protect children.', options: ['Educational', 'Regulatory', 'Physical', 'Weather'], answer: 'Regulatory' },
                    { q: 'When will the feature be introduced?', options: ['Immediately', 'Later this year', 'Next year', 'In 2030'], answer: 'Later this year' },
                    { q: 'The term "granular" in the context of moderation means what?', options: ['Very large', 'Highly detailed and specific', 'Coarse', 'Impossible'], answer: 'Highly detailed and specific' },
                    { q: 'What are "minors"?', options: ['People working in mines', 'People under the legal age of adulthood', 'Professional experts', 'Paid subscribers'], answer: 'People under the legal age of adulthood' },
                    { q: 'OpenAI wants to prevent access to "age-______" material.', options: ['Appropriate', 'Inappropriate', 'Specific', 'Related'], answer: 'Inappropriate' },
                    { q: 'The word "safeguards" means ______.', options: ['Dangerous areas', 'Protective measures or rules', 'New games', 'Fast trains'], answer: 'Protective measures or rules' },
                    { q: 'AI is becoming deeply ______ into education.', options: ['Integrated', 'Banned', 'Hidden', 'Deleted'], answer: 'Integrated' },
                    { q: 'The company emphasized user ______ protection.', options: ['Privacy', 'Salary', 'Height', 'Speed'], answer: 'Privacy' },
                    { q: 'The feature is for which product?', options: ['DALL-E', 'ChatGPT', 'Sora', 'Whisper'], answer: 'ChatGPT' }
                ]
            },
            'south-america-wildfires': {
                title: 'å—ç¾æ´²æ£®æ—å¤§ç«ç½æƒ…',
                english: `Emergency services in Chile and Colombia remained on high alert on Wednesday as multiple large-scale wildfires continued to devastate forests and farmland. The disastersâ€”intensified by record-breaking temperatures and prolonged droughtâ€”have displaced thousands of residents and destroyed hundreds of homes. President Gabriel Boric declared a state of emergency in affected Chilean regions, while international aid agencies warned that the rising frequency of such events reflects the accelerating climate crisis in the Southern Hemisphere.`,
                chinese: `æ™ºåˆ©èˆ‡å“¥å€«æ¯”äºç™¼ç”Ÿå¤šèµ·æ£®æ—å¤§ç«ï¼Œé«˜æº«ä¹¾ç‡¥å¤©æ°£åŠ åŠ‡ç½æƒ…ã€‚æ™ºåˆ©èˆ‡å“¥å€«æ¯”äºçš„ç·Šæ€¥æ•‘æ´éƒ¨é–€é€±ä¸‰ç¶­æŒé«˜åº¦è­¦æˆ’ï¼Œå¤šèµ·å¤§è¦æ¨¡æ£®æ—å¤§ç«æŒçºŒè¹‚èºªæ£®æ—èˆ‡è¾²ç”°ã€‚åœ¨ç ´ç´€éŒ„çš„é«˜æº«èˆ‡é•·æœŸä¹¾æ—±çš„åŠ åŠ‡ä¸‹ï¼Œé€™äº›ç½å®³å·²å°è‡´æ•¸åƒåå±…æ°‘æµé›¢å¤±æ‰€ï¼Œæ•¸ç™¾æ£Ÿæˆ¿å±‹è¢«æ¯€ã€‚æ™ºåˆ©ç¸½çµ±è“‹å¸ƒç‘çˆ¾Â·åšé‡Œå¥‡ï¼ˆGabriel Boricï¼‰åœ¨å—ç½åœ°å€å®£å¸ƒé€²å…¥ç·Šæ€¥ç‹€æ…‹ï¼Œè€Œåœ‹éš›æ´åŠ©æ©Ÿæ§‹è­¦å‘Šèªªï¼Œæ­¤é¡äº‹ä»¶ç™¼ç”Ÿé »ç‡çš„ä¸Šå‡ï¼Œåæ˜ äº†å—åŠçƒæ°£å€™å±æ©Ÿæ­£åŠ é€Ÿæƒ¡åŒ–ã€‚`,
                vocabulary: [
                    'Emergency services (n.phr.): ç·Šæ€¥æ•‘æ´éƒ¨é–€', 'High alert (n.phr.): é«˜åº¦è­¦æˆ’', 'Large-scale (adj.): å¤§è¦æ¨¡çš„', 'Wildfires (n.): æ£®æ—å¤§ç«/é‡ç«',
                    'Devastate (v.): è¹‚èºª/ç ´å£', 'Farmland (n.): è¾²ç”°', 'Intensified (v.pp.): åŠ åŠ‡çš„', 'Record-breaking (adj.): ç ´ç´€éŒ„çš„',
                    'Prolonged drought (n.phr.): é•·æœŸä¹¾æ—±', 'Displaced (v.pp.): æµé›¢å¤±æ‰€çš„', 'Residents (n.): å±…æ°‘', 'Destroyed (v.pp.): æ¯€å£çš„',
                    'Gabriel Boric (n. proper): è“‹å¸ƒç‘çˆ¾Â·åšé‡Œå¥‡', 'State of emergency (n.phr.): ç·Šæ€¥ç‹€æ…‹', 'Affected regions (n.phr.): å—ç½åœ°å€', 'Aid agencies (n.phr.): æ´åŠ©æ©Ÿæ§‹',
                    'Frequency (n.): é »ç‡', 'Climate crisis (n.phr.): æ°£å€™å±æ©Ÿ', 'Southern Hemisphere (n. proper): å—åŠçƒ', 'Accelerating (v.ger.): åŠ é€Ÿä¸­çš„',
                    'Devastating (adj.): æ¯€æ»…æ€§çš„', 'Drought (n.): ä¹¾æ—±', 'Displace (v.): ä½¿é›¢å®¶', 'Habitat (n.): æ£²æ¯åœ°',
                    'Humanitarian (adj.): äººé“çš„', 'Catastrophe (n.): ç½é›£', 'Evacuation (n.): ç–æ•£', 'Resilience (n.): éŸŒæ€§'
                ],
                quiz: [
                    { q: 'Which two South American countries are battling severe wildfires?', options: ['Brazil and Argentina', 'Chile and Colombia', 'Peru and Ecuador', 'Venezuela and Guyana'], answer: 'Chile and Colombia' },
                    { q: 'What weather conditions intensified the fires?', options: ['Heavy rain and cold', 'Snow and wind', 'Record-breaking temperatures and prolonged drought', 'High humidity'], answer: 'Record-breaking temperatures and prolonged drought' },
                    { q: 'What has happened to thousands of residents?', options: ['They won a prize', 'They have been displaced', 'They are on holiday', 'They moved to North America'], answer: 'They have been displaced' },
                    { q: 'How many homes have been destroyed according to the text?', options: ['Dozens', 'Hundreds', 'Thousands', 'Zero'], answer: 'Hundreds' },
                    { q: 'Who is the President of Chile mentioned?', options: ['Donald Trump', 'Gabriel Boric', 'Antonio Guterres', 'Nicolas Maduro'], answer: 'Gabriel Boric' },
                    { q: 'What was declared in the affected regions of Chile?', options: ['A state of joy', 'A state of emergency', 'A state of war', 'A state of holiday'], answer: 'A state of emergency' },
                    { q: 'What do aid agencies say the fires reflect?', options: ['Better farming', 'The accelerating climate crisis', 'Economic growth', 'New technology'], answer: 'The accelerating climate crisis' },
                    { q: 'In which hemisphere are these events reflecting a crisis?', options: ['Northern Hemisphere', 'Southern Hemisphere', 'Eastern Hemisphere', 'Western Hemisphere'], answer: 'Southern Hemisphere' },
                    { q: 'The term "displaced" means people were ______.', options: ['Promoted at work', 'Forced to leave their homes', 'Given new cars', 'Told to stay inside'], answer: 'Forced to leave their homes' },
                    { q: 'What does "devastate" mean?', options: ['To build', 'To cause severe damage to', 'To clean', 'To plant'], answer: 'To cause severe damage to' },
                    { q: 'The word "prolonged" means ______.', options: ['Short', 'Continuing for a long time', 'Fast', 'Boring'], answer: 'Continuing for a long time' },
                    { q: 'Wildfires are damaging forests and ______.', options: ['Shopping malls', 'Farmland', 'Offices', 'Space stations'], answer: 'Farmland' },
                    { q: 'Emergency services are on "high ______."', options: ['Alert', 'Prices', 'Speed', 'Buildings'], answer: 'Alert' },
                    { q: 'The word "frequency" refers to how ______ something happens.', options: ['Long', 'Often', 'Fast', 'Expensive'], answer: 'Often' },
                    { q: 'Chile and Colombia are in which continent?', options: ['Africa', 'Asia', 'South America', 'Europe'], answer: 'South America' }
                ]
            },
            'barcelona-train-derailment': {
                title: 'å·´å¡éš†ç´åˆ—è»Šè„«è»Œäº‹æ•…',
                english: `A passenger train derailed on the outskirts of Barcelona on Wednesday, leaving at least four people seriously injured. Preliminary investigations indicate that a nearby retaining wall collapsed onto the tracks following heavy rainfall, causing the train to jump the rails. Emergency services swiftly evacuated passengers and treated the injured. The Spanish rail operator has suspended services on the affected line as engineers assess structural integrity to prevent further incidents.`,
                chinese: `è¥¿ç­ç‰™å·´å¡éš†ç´ç™¼ç”Ÿåˆ—è»Šè„«è»Œäº‹æ•…ï¼Œé€ æˆè‡³å°‘ 4 äººé‡å‚·ã€‚é€±ä¸‰ï¼Œä¸€åˆ—å®¢é‹åˆ—è»Šåœ¨å·´å¡éš†ç´éƒŠå€è„«è»Œï¼Œé€ æˆè‡³å°‘ 4 äººé‡å‚·ã€‚åˆæ­¥èª¿æŸ¥é¡¯ç¤ºï¼Œå¤§é›¨å¾Œé™„è¿‘çš„ä¸€é¢æ“‹åœŸç‰†å€’å¡Œåœ¨éµè»Œä¸Šï¼Œå°è‡´åˆ—è»Šè„«è»Œã€‚ç·Šæ€¥æ•‘æ´éƒ¨é–€è¿…é€Ÿç–æ•£ä¹˜å®¢ä¸¦æ•‘æ²»å‚·è€…ã€‚è¥¿ç­ç‰™éµè·¯ç‡Ÿé‹å•†å·²æš«åœå—å½±éŸ¿ç·šè·¯çš„æœå‹™ï¼Œå·¥ç¨‹å¸«æ­£è©•ä¼°çµæ§‹å®Œæ•´æ€§ï¼Œä»¥é˜²æ­¢é€²ä¸€æ­¥äº‹æ•…ç™¼ç”Ÿã€‚`,
                vocabulary: [
                    'Passenger train (n.phr.): å®¢é‹åˆ—è»Š', 'Derailed (v.pt.): è„«è»Œ', 'Outskirts (n.): éƒŠå€', 'Seriously injured (adj.phr.): é‡å‚·',
                    'Preliminary investigations (n.phr.): åˆæ­¥èª¿æŸ¥', 'Indicate (v.): é¡¯ç¤º/è¡¨æ˜', 'Retaining wall (n.phr.): æ“‹åœŸç‰†', 'Collapsed (v.pt.): å€’å¡Œ',
                    'Tracks (n.): éµè»Œ', 'Heavy rainfall (n.phr.): å¤§é›¨/è±ªé›¨', 'Jump the rails (phr.): è¡å‡ºéµè»Œ/è„«è»Œ', 'Emergency services (n.phr.): ç·Šæ€¥æ•‘æ´éƒ¨é–€',
                    'Swiftly (adv.): è¿…é€Ÿåœ°', 'Evacuated (v.pt.): ç–æ•£', 'Rail operator (n.phr.): éµè·¯ç‡Ÿé‹å•†', 'Suspended (v.pp.): æš«åœçš„',
                    'Affected line (n.phr.): å—å½±éŸ¿çš„ç·šè·¯', 'Assess (v.): è©•ä¼°', 'Structural integrity (n.phr.): çµæ§‹å®Œæ•´æ€§', 'Prevent (v.): é é˜²',
                    'Incidents (n.): äº‹æ•…/äº‹ä»¶', 'Outskirts (n.): å¸‚éƒŠ', 'Derailment (n.): è„«è»Œ', 'Evacuation (n.): ç–æ•£',
                    'Casualties (n.): å‚·äº¡', 'Infrastructure (n.): åŸºç¤å»ºè¨­', 'Operator (n.): ç‡Ÿé‹å•†', 'Integrity (n.): å®Œæ•´æ€§'
                ],
                quiz: [
                    { q: 'In which city did the train derailment occur?', options: ['Madrid', 'Paris', 'Barcelona', 'Lisbon'], answer: 'Barcelona' },
                    { q: 'How many people were reported seriously injured?', options: ['None', 'At least four', 'Ten', 'Twenty'], answer: 'At least four' },
                    { q: 'Where exactly did the derailment happen?', options: ['In the city center', 'On the outskirts (suburbs)', 'In a tunnel', 'On a bridge'], answer: 'On the outskirts (suburbs)' },
                    { q: 'What caused the train to jump the rails?', options: ['A bomb', 'A retaining wall collapsed onto the tracks', 'A technical engine failure', 'A mistake by the driver'], answer: 'A retaining wall collapsed onto the tracks' },
                    { q: 'What weather event preceded the wall collapse?', options: ['A heatwave', 'Heavy rainfall', 'A snowstorm', 'A tornado'], answer: 'Heavy rainfall' },
                    { q: 'What did emergency services do after the incident?', options: ['Closed the hospital', 'Swiftly evacuated passengers and treated the injured', 'Told everyone to stay inside the train', 'Canceled all news reports'], answer: 'Swiftly evacuated passengers and treated the injured' },
                    { q: 'What did the rail operator do following the crash?', options: ['Lowered prices', 'Suspended services on the affected line', 'Bought new trains', 'Ignored the situation'], answer: 'Suspended services on the affected line' },
                    { q: 'What are engineers currently assessing?', options: ['The price of tickets', 'The structural integrity of the area', 'The speed of the rain', 'The history of Barcelona'], answer: 'The structural integrity of the area' },
                    { q: 'The term "outskirts" refers to which part of a city?', options: ['The very center', 'The outer parts or edges', 'The underground part', 'The highest point'], answer: 'The outer parts or edges' },
                    { q: 'What does "derailed" mean?', options: ['To move very fast', 'To leave the tracks (for a train)', 'To arrive early', 'To be painted red'], answer: 'To leave the tracks (for a train)' },
                    { q: 'The word "preliminary" means ______.', options: ['Final', 'Coming before the main part/Initial', 'Secret', 'Very old'], answer: 'Coming before the main part/Initial' },
                    { q: 'What is a "retaining wall"?', options: ['A wall meant to hold back soil or water', 'A wall inside a house', 'A very thin fence', 'A wall made of glass'], answer: 'A wall meant to hold back soil or water' },
                    { q: 'The term "integrity" in "structural integrity" means the state of being ______.', options: ['Broken', 'Whole, sound, or unimpaired', 'Expensive', 'New'], answer: 'Whole, sound, or unimpaired' },
                    { q: 'Barcelona is a city in which country?', options: ['France', 'Italy', 'Spain', 'Portugal'], answer: 'Spain' },
                    { q: 'What type of train was involved?', options: ['Freight train', 'Passenger train', 'Mail train', 'Oil train'], answer: 'Passenger train' }
                ]
            }
        };

        // --- STATE & RENDERING ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº« (${data.vocabulary.length})</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢ºç­”æ¡ˆ)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢ºç­”æ¡ˆ)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>