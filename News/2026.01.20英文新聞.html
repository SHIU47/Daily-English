<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 1 æœˆ 19 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 1 æœˆ 19 æ—¥ï¼šå°ç¾è²¿æ˜“é‡Œç¨‹ç¢‘èˆ‡å…¨çƒç†±é»è§€å¯Ÿ</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for professional English learners. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] Taiwan Stocks Hit Record High as TSMC Reaches Historic NT$1,780 Peak\nThe TAIEX surged on Monday to close at a record 31,639 points, driven primarily by a massive rally in technology shares. Taiwan Semiconductor Manufacturing Co. (TSMC) reached an unprecedented intraday high of NT$1,780, closing at NT$1,760. Investors were bolstered by the company's confirmation of a $520â€“$560 billion capital expenditure plan for 2026, aimed at expanding advanced 2nm process and CoWoS packaging capacities.\n\n[2] Premier Cho Greets Returning Negotiators, Praises 15% Tariff Deal\nPremier Cho Jung-tai personally welcomed Taiwanâ€™s trade negotiation team at Taoyuan Airport on Monday. The delegation secured a preliminary agreement to lower tariffs on Taiwanese goods to 15%â€”a move experts describe as a â€œquasi-FTA.â€ In return, Taiwan's tech sector has committed to investing $250 billion in the U.S. market, supported by government-backed credit guarantees.\n\n[3] Severe Cold Surge Hits Taiwan; Temperatures to Plunge to 8Â°C\nThe Central Weather Administration (CWA) issued a nationwide cold surge advisory on Monday as a powerful polar air mass moved southward. Temperatures are expected to drop significantly, with northern mountainous areas potentially seeing lows of 8Â°C. Local governments have activated emergency shelters for the homeless.`,
                chinese: `ã€1ã€‘å°è‚¡å†å‰µæ­·å²æ–°é«˜ï¼šå°ç©é›»ç›¤ä¸­è§¸åŠ 1,780 å…ƒæ–°å¤©åƒ¹\nå°è‚¡åŠ æ¬ŠæŒ‡æ•¸é€±ä¸€é£†å‡ï¼Œæ”¶æ–¼å‰µç´€éŒ„çš„ 31,639 é»ï¼Œä¸»è¦å—åˆ°ç§‘æŠ€è‚¡å¤§è¦æ¨¡æ¼²å‹¢çš„å¸¶å‹•ã€‚å°ç©é›»ï¼ˆTSMCï¼‰ç›¤ä¸­å‰µä¸‹ 1,780 å…ƒçš„æ–°é«˜ï¼Œæœ€çµ‚æ”¶æ–¼ 1,760 å…ƒã€‚æŠ•è³‡è€…ä¿¡å¿ƒå¤§å¢ï¼Œä¸»å› æ˜¯è©²å…¬å¸ç¢ºèªäº† 2026 å¹´ 5,200 å„„è‡³ 5,600 å„„ç¾å…ƒçš„è³‡æœ¬æ”¯å‡ºè¨ˆç•«ï¼Œæ—¨åœ¨æ“´å¤§å…ˆé€² 2 å¥ˆç±³è£½ç¨‹åŠ CoWoS å°è£ç”¢èƒ½ã€‚\n\nã€2ã€‘è²¿æ˜“è«‡åˆ¤åœ˜éšŠå‡±æ—‹æ­¸åœ‹ï¼šå“é™¢é•·è‚¯å®š 15% é—œç¨…å”è­°æˆæœ\nè¡Œæ”¿é™¢é•·å“æ¦®æ³°é€±ä¸€è¦ªè‡ªèµ´æ¡ƒåœ’æ©Ÿå ´è¿æ¥å°ç£è²¿æ˜“è«‡åˆ¤åœ˜éšŠã€‚è©²ä»£è¡¨åœ˜å–å¾—äº†ä¸€é …åˆæ­¥å”è­°ï¼Œå°‡å°ç£å•†å“çš„é—œç¨…é™è‡³ 15%ï¼Œå°ˆå®¶å°‡æ­¤èˆ‰æè¿°ç‚ºã€Œæº–è‡ªç”±è²¿æ˜“å”å®šï¼ˆquasi-FTAï¼‰ã€ã€‚ä½œç‚ºå›å ±ï¼Œå°ç£ç§‘æŠ€ç”¢æ¥­æ‰¿è«¾åœ¨æ”¿åºœä¿¡ç”¨ä¿è­‰çš„æ”¯æŒä¸‹ï¼Œå‘ç¾åœ‹å¸‚å ´æŠ•è³‡ 2,500 å„„ç¾å…ƒã€‚åŸ·æ”¿é»¨ç¨±ä¹‹ç‚ºå¤–äº¤é‡Œç¨‹ç¢‘ï¼Œä½†åœ¨é‡é»¨å°æ­¤å°åœ‹å…§ç”¢æ¥­åŸºç¤çš„å½±éŸ¿è¡¨ç¤ºæ“”æ†‚ã€‚\n\nã€3ã€‘å¯’æµå¼·è¥²å…¨å°ï¼šæ°£è±¡ç½²ç™¼å¸ƒä½æº«ç‰¹å ±ï¼Œæœ€ä½ä¸‹æ¢ 8 åº¦\néš¨è‘—å¼·å¤§çš„æ¥µåœ°æ°£åœ˜å—ä¸‹ï¼Œä¸­å¤®æ°£è±¡ç½²ï¼ˆCWAï¼‰é€±ä¸€ç™¼å¸ƒäº†å…¨åœ‹ä½æº«ç‰¹å ±ã€‚æ°£æº«é è¨ˆå°‡å¤§å¹…ä¸‹é™ï¼ŒåŒ—éƒ¨å±±å€æœ€ä½æº«æä¸‹æ¢ 8 åº¦ã€‚åœ°æ–¹æ”¿åºœå·²ç‚ºç„¡å®¶å¯æ­¸è€…å•Ÿå‹•ç·Šæ€¥é¿é›£æ‰€ï¼Œæ°£è±¡ç½²ä¸¦è­¦å‘Šæ²¿æµ·åœ°å€å°‡æœ‰å¼·é¢¨ã€‚`,
                vocabulary: [
                    'TAIEX (n. proper): å°è‚¡åŠ æ¬ŠæŒ‡æ•¸', 'Surged (v.): é£†å‡', 'Massive rally (n.phr.): å¤§è¦æ¨¡æ¼²å‹¢', 'Unprecedented (adj.): å‰æ‰€æœªæœ‰çš„',
                    'Intraday high (n.phr.): ç›¤ä¸­é«˜é»', 'Capital expenditure (n.phr.): è³‡æœ¬æ”¯å‡º', 'Packaging capacity (n.phr.): å°è£ç”¢èƒ½', 'Silicon Shield (n. proper): çŸ½ç›¾',
                    'Negotiators (n.): è«‡åˆ¤ä»£è¡¨', 'Delegation (n.): ä»£è¡¨åœ˜', 'Secured (v.): ç²å¾—/å–å¾—', 'Preliminary agreement (n.phr.): åˆæ­¥å”è­°',
                    'Lower tariffs (phr.): é™ä½é—œç¨…', 'Quasi-FTA (n.phr.): æº–è‡ªç”±è²¿æ˜“å”å®š', 'In return (phr.): ä½œç‚ºå›å ±', 'Credit guarantees (n.phr.): ä¿¡ç”¨ä¿è­‰',
                    'Diplomatic milestone (n.phr.): å¤–äº¤é‡Œç¨‹ç¢‘', 'Domestic industrial base (n.phr.): åœ‹å…§ç”¢æ¥­åŸºç¤', 'Cold surge (n.phr.): å¯’æµ', 'Advisory (n.): ç‰¹å ±/å…¬å‘Š',
                    'Polar air mass (n.phr.): æ¥µåœ°æ°£åœ˜', 'Plunge (v.): é©Ÿé™/æš´è·Œ', 'Lows of (phr.): ...çš„ä½æº«', 'Activated (v.): å•Ÿå‹•',
                    'Emergency shelters (n.phr.): ç·Šæ€¥é¿é›£æ‰€', 'Homeless (n./adj.): ç„¡å®¶å¯æ­¸è€…', 'Fluctuations (n.): æ³¢å‹•', 'Mindful (adj.): æ³¨æ„çš„/ç•™å¿ƒçš„',
                    'Coastal areas (n.phr.): æ²¿æµ·åœ°å€', 'Expenditure (n.): æ”¯å‡º', 'Packaging (n.): å°è£/åŒ…è£', 'Sector (n.): éƒ¨é–€/ç”¢æ¥­'
                ],
                quiz: [
                    { q: 'At what record point level did the TAIEX close on Monday?', options: ['30,000', '31,120', '31,639', '35,000'], answer: '31,639' },
                    { q: 'What was the historic intraday high reached by TSMC?', options: ['NT$1,000', 'NT$1,540', 'NT$1,760', 'NT$1,780'], answer: 'NT$1,780' },
                    { q: 'What is the planned capital expenditure for TSMC in 2026?', options: ['$10 billion', '$250 billion', '$400 billion', '$520â€“$560 billion'], answer: '$520â€“$560 billion' },
                    { q: 'Where did Premier Cho personally welcome the trade negotiation team?', options: ['The White House', 'The Legislative Yuan', 'Taoyuan Airport', 'TSMC Headquarters'], answer: 'Taoyuan Airport' },
                    { q: 'The preliminary trade agreement aims to lower tariffs to what level?', options: ['5%', '10%', '15%', '20%'], answer: '15%' },
                    { q: 'What term do experts use to describe the 15% tariff deal?', options: ['A full FTA', 'A quasi-FTA', 'A trade war', 'An embargo'], answer: 'A quasi-FTA' },
                    { q: 'How much has the Taiwan tech sector committed to investing in the U.S.?', options: ['$45 billion', '$93 billion', '$100 billion', '$250 billion'], answer: '$250 billion' },
                    { q: 'What is the projected low temperature for northern mountainous areas?', options: ['0Â°C', '8Â°C', '12Â°C', '15Â°C'], answer: '8Â°C' },
                    { q: 'Which agency issued the cold surge advisory?', options: ['MOTC', 'NSB', 'CWA', 'MND'], answer: 'CWA' },
                    { q: 'What kind of air mass is causing the temperature drop?', options: ['Tropical', 'Marine', 'Polar air mass', 'Equatorial'], answer: 'Polar air mass' },
                    { q: 'The term "quasi-FTA" refers to something that is ______.', options: ['Completely illegal', 'Almost or resembling an FTA', 'The opposite of an FTA', 'A military pact'], answer: 'Almost or resembling an FTA' },
                    { q: 'What are local governments activating for the homeless?', options: ['New jobs', 'Free flights', 'Emergency shelters', 'Medical schools'], answer: 'Emergency shelters' },
                    { q: 'The 2026 TSMC plan focuses on which process?', options: ['7nm', '5nm', '3nm', '2nm'], answer: '2nm' },
                    { q: 'What does the opposition worry about regarding the trade deal?', options: ['Higher taxes', 'Impact on domestic industrial base', 'Travel bans', 'Too many satellites'], answer: 'Impact on domestic industrial base' },
                    { q: 'The word "plunge" in the context of temperature means ______.', options: ['To rise slowly', 'To stay the same', 'To drop suddenly and significantly', 'To evaporate'], answer: 'To drop suddenly and significantly' }
                ]
            },
            'eu-retaliation': {
                title: 'æ­ç›Ÿ 930 å„„æ­å…ƒé—œç¨…ååˆ¶',
                english: `The European Union (EU) held an emergency meeting on Sunday and Monday to finalize a â‚¬93 billion ($101 billion) tariff retaliation package against the United States. This move comes after President Donald Trump threatened to impose 10% universal tariffs on NATO allies who oppose his bid to purchase Greenland. EU officials characterized the U.S. stance as â€œeconomic blackmail,â€ stating that the retaliatory measures will automatically take effect on February 6 if no diplomatic solution is reached. Leaders from Germany, France, and Denmark issued a joint statement affirming that â€œsovereignty is not for sale,â€ setting the stage for a major transatlantic trade confrontation.`,
                chinese: `æ­ç›Ÿå•Ÿå‹• 930 å„„æ­å…ƒé—œç¨…ååˆ¶ï¼šæ‡‰å°å·æ™®å°æ ¼é™µè˜­ä¸»æ¬Šçš„é—œç¨…å¨è„…ã€‚æ­ç›Ÿæ–¼é€±æ—¥å’Œé€±ä¸€å¬é–‹ç·Šæ€¥æœƒè­°ï¼Œæ•²å®šäº†ä¸€é …é‡å°ç¾åœ‹çš„ 930 å„„æ­å…ƒï¼ˆç´„ 1,010 å„„ç¾å…ƒï¼‰é—œç¨…å ±å¾©æ–¹æ¡ˆã€‚æ­¤èˆ‰èµ·å› æ–¼å·æ™®ç¸½çµ±å¨è„…è¦å°åå°å…¶æ”¶è³¼æ ¼é™µè˜­å³¶çš„åŒ—ç´„ç›Ÿå‹å¾µæ”¶ 10% çš„é€šç”¨é—œç¨…ã€‚æ­ç›Ÿå®˜å“¡å°‡ç¾åœ‹çš„ç«‹å ´å®šæ€§ç‚ºã€Œç¶“æ¿Ÿå‹’ç´¢ã€ï¼Œä¸¦è¡¨ç¤ºè‹¥æœªé”æˆå¤–äº¤è§£æ±ºæ–¹æ¡ˆï¼Œé€™äº›å ±å¾©æ€§æªæ–½å°‡æ–¼ 2 æœˆ 6 æ—¥è‡ªå‹•ç”Ÿæ•ˆã€‚å¾·åœ‹ã€æ³•åœ‹å’Œä¸¹éº¥çš„é ˜å°äººç™¼è¡¨è¯åˆè²æ˜ï¼Œé‡ç”³ã€Œä¸»æ¬Šä¸å®¹è²·è³£ã€ï¼Œç‚ºä¸€å ´é‡å¤§çš„è·¨å¤§è¥¿æ´‹è²¿æ˜“å°æŠ—æ‹‰é–‹äº†åºå¹•ã€‚`,
                vocabulary: [
                    'EU (European Union) (n. proper): æ­ç›Ÿ', 'Emergency meeting (n.phr.): ç·Šæ€¥æœƒè­°', 'Finalize (v.): æ•²å®š/å®Œæˆ', 'Retaliation package (n.phr.): å ±å¾©æ€§æ–¹æ¡ˆ',
                    'Threatened (v.pt.): å¨è„…', 'Impose (v.): å¾µæ”¶/å¼·åŠ ', 'Universal tariffs (n.phr.): é€šç”¨é—œç¨…', 'NATO allies (n.phr.): åŒ—ç´„ç›Ÿå‹',
                    'Purchase (v./n.): è³¼è²·/æ”¶è³¼', 'Characterized (v.pt.): å®šæ€§ç‚º/æè¿°ç‚º', 'Economic blackmail (n.phr.): ç¶“æ¿Ÿå‹’ç´¢', 'Retaliatory measures (n.phr.): å ±å¾©æ€§æªæ–½',
                    'Diplomatic solution (n.phr.): å¤–äº¤è§£æ±ºæ–¹æ¡ˆ', 'Sovereignty (n.): ä¸»æ¬Š', 'Not for sale (phr.): ä¸å‡†è²·è³£', 'Setting the stage (phr.): æ‹‰é–‹åºå¹•/åšæº–å‚™',
                    'Transatlantic (adj.): è·¨å¤§è¥¿æ´‹çš„', 'Confrontation (n.): å°æŠ—/å°å³™', 'Retaliation (n.): å ±å¾©', 'Blackmail (n.): å‹’ç´¢',
                    'Automatically (adv.): è‡ªå‹•åœ°', 'Affirming (v.ger.): é‡ç”³/æ–·è¨€', 'Package (n.): ä¸€æ”¬å­è¨ˆç•«/æ–¹æ¡ˆ', 'Bid (n.): å‡ºåƒ¹/åŠªåŠ›',
                    'Denmark (n. proper): ä¸¹éº¥', 'Solution (n.): è§£æ±ºæ–¹æ¡ˆ', 'Stance (n.): ç«‹å ´', 'Retaliatory (adj.): å ±å¾©æ€§çš„'
                ],
                quiz: [
                    { q: 'How much is the EUâ€™s proposed tariff retaliation package?', options: ['â‚¬10 billion', 'â‚¬93 billion', '$250 billion', 'â‚¬560 billion'], answer: 'â‚¬93 billion' },
                    { q: 'Why is the EU planning this retaliation?', options: ['Because of US oil prices', 'In response to Trumpâ€™s Greenland tariffs', 'To help the environment', 'To end the war in Ukraine'], answer: 'In response to Trumpâ€™s Greenland tariffs' },
                    { q: 'On which date will the EU retaliatory measures automatically take effect?', options: ['January 1', 'January 22', 'February 6', 'June 1'], answer: 'February 6' },
                    { q: 'How did EU officials describe the U.S. stance?', options: ['"A great deal"', '"Economic blackmail"', '"A minor dispute"', '"Friendly competition"'], answer: '"Economic blackmail"' },
                    { q: 'Which country\'s leaders joined Germany and France in the statement?', options: ['China', 'Russia', 'Denmark', 'Japan'], answer: 'Denmark' },
                    { q: 'What core principle did the joint statement emphasize?', options: ['Lower taxes', '"Sovereignty is not for sale"', 'Cheaper energy', 'More tourism'], answer: '"Sovereignty is not for sale"' },
                    { q: 'The term "transatlantic" refers to the region between which two areas?', options: ['Asia and America', 'Europe and America', 'Africa and Europe', 'China and Russia'], answer: 'Europe and America' },
                    { q: 'Trump threatened to impose tariffs on which group?', options: ['The UN', 'ASEAN', 'NATO allies', 'OPEC members'], answer: 'NATO allies' },
                    { q: 'What is the value of the package in US dollars?', options: ['$10 billion', '$93 billion', '$101 billion', '$250 billion'], answer: '$101 billion' },
                    { q: 'The word "retaliation" means the act of ______.', options: ['Saying thank you', 'Giving a gift', 'Hitting back in response to an injury', 'Staying silent'], answer: 'Hitting back in response to an injury' },
                    { q: 'Who is the President of the United States mentioned?', options: ['Joe Biden', 'Donald Trump', 'Barack Obama', 'George Bush'], answer: 'Donald Trump' },
                    { q: 'What is "blackmail"?', options: ['A black envelope', 'Forcing payment by threat', 'A type of tax', 'A friendly letter'], answer: 'Forcing payment by threat' },
                    { q: 'The emergency meeting was held on which two days?', options: ['Friday and Saturday', 'Sunday and Monday', 'Wednesday and Thursday', 'Tuesday and Friday'], answer: 'Sunday and Monday' },
                    { q: 'What is "NATO"?', options: ['A trade group', 'An environmental agency', 'A military alliance', 'A space organization'], answer: 'A military alliance' },
                    { q: 'The word "affirm" means to ______.', options: ['Deny', 'State strongly or confirm', 'Forget', 'Change'], answer: 'State strongly or confirm' }
                ]
            },
            'spain-collision': {
                title: 'è¥¿ç­ç‰™ç«è»Šå°æ’äº‹æ•…',
                english: `Spanish Prime Minister Pedro SÃ¡nchez announced three days of official mourning on Monday following a catastrophic collision between two high-speed trains in southern Spain. The confirmed death toll has risen to 40, with dozens more critically injured. Investigations are currently underway to determine the cause of the disaster, which authorities described as â€œviolent and unprecedented.â€ The Spanish Ministry of Transport stated that both human error and technical failure are being considered. The mourning period will conclude on January 22, as the nation grapples with one of its worst railway accidents in decades.`,
                chinese: `è¥¿ç­ç‰™ç«è»Šå°æ’äº‹æ•…æ­»äº¡äººæ•¸å‡è‡³ 40 äººï¼Œç¸½ç†æ¡‘åˆ‡æ–¯å®£å¸ƒå…¨åœ‹å“€æ‚¼ã€‚è¥¿ç­ç‰™ç¸½ç†æ¡‘åˆ‡æ–¯é€±ä¸€å®£å¸ƒç‚ºæœŸä¸‰å¤©çš„å®˜æ–¹å“€æ‚¼ï¼Œæ­¤å‰è¥¿ç­ç‰™å—éƒ¨ç™¼ç”Ÿäº†å…©åˆ—é«˜éµå°æ’çš„æ…˜åŠ‡ã€‚ç›®å‰å·²è­‰å¯¦æ­»äº¡äººæ•¸å‡è‡³ 40 äººï¼Œå¦æœ‰æ•¸åäººå‚·å‹¢å±æ€¥ã€‚ç›®å‰èª¿æŸ¥æ­£åœ¨é€²è¡Œä¸­ï¼Œä»¥ç¢ºå®šé€™èµ·è¢«ç•¶å±€ç¨±ç‚ºã€Œæ…˜çƒˆä¸”å‰æ‰€æœªæœ‰ã€çš„ç½é›£åŸå› ã€‚è¥¿ç­ç‰™äº¤é€šéƒ¨è¡¨ç¤ºï¼Œç›®å‰æ­£åŒæ™‚è€ƒæ…®äººç‚ºç–å¤±å’ŒæŠ€è¡“æ•…éšœã€‚å“€æ‚¼æœŸå°‡æ–¼ 1 æœˆ 22 æ—¥çµæŸï¼Œå…¨åœ‹ä¸Šä¸‹æ­£åœ¨é¢å°æ•¸åå¹´ä¾†æœ€åš´é‡çš„éµè·¯äº‹æ•…ä¹‹ä¸€ã€‚`,
                vocabulary: [
                    'Pedro SÃ¡nchez (n. proper): æ¡‘åˆ‡æ–¯ (è¥¿ç­ç‰™ç¸½ç†)', 'Official mourning (n.phr.): å®˜æ–¹å“€æ‚¼', 'Catastrophic collision (n.phr.): ç½é›£æ€§ç¢°æ’',
                    'High-speed trains (n.phr.): é«˜éµ/é«˜é€Ÿåˆ—è»Š', 'Southern Spain (n. proper): è¥¿ç­ç‰™å—éƒ¨', 'Death toll (n.phr.): æ­»äº¡äººæ•¸',
                    'Critically injured (adj.phr.): å‚·å‹¢å±æ€¥', 'Underway (adj.): é€²è¡Œä¸­', 'Determine (v.): ç¢ºå®š',
                    'Disaster (n.): ç½é›£', 'Unprecedented (adj.): å‰æ‰€æœªæœ‰çš„', 'Ministry of Transport (n. proper): äº¤é€šéƒ¨',
                    'Human error (n.phr.): äººç‚ºç–å¤±', 'Technical failure (n.phr.): æŠ€è¡“æ•…éšœ', 'Grapples with (phr.v.): é¢å°/åŠªåŠ›è™•ç†',
                    'Railway accidents (n.phr.): éµè·¯äº‹æ•…', 'In decades (phr.): æ•¸åå¹´ä¾†', 'Confirmed (v.pp.): è­‰å¯¦çš„', 'Dozens (n.): æ•¸åå€‹',
                    'Violent (adj.): æ…˜çƒˆçš„/æš´åŠ›çš„', 'Conclude (v.): çµæŸ/çµè«–', 'Official (adj.): å®˜æ–¹çš„', 'Casualties (n.): å‚·äº¡',
                    'Collision (n.): ç¢°æ’', 'High-speed (adj.): é«˜é€Ÿçš„', 'Investigation (n.): èª¿æŸ¥', 'Grapple (v.): æ‰­æ‰“/æ ¼é¬¥',
                    'Railway (n.): éµè·¯', 'Mourning (n.): å“€æ‚¼', 'Sorrow (n.): æ‚²å‚·'
                ],
                quiz: [
                    { q: 'Who is the Prime Minister of Spain?', options: ['Pedro SÃ¡nchez', 'Keir Starmer', 'Gabriel Boric', 'Emmanuel Macron'], answer: 'Pedro SÃ¡nchez' },
                    { q: 'How many days of official mourning were announced?', options: ['One day', 'Three days', 'One week', 'Ten days'], answer: 'Three days' },
                    { q: 'What was the confirmed death toll as of Monday?', options: ['15', '20', '31', '40'], answer: '40' },
                    { q: 'Where in Spain did the collision occur?', options: ['Northern', 'Central', 'Southern', 'Eastern'], answer: 'Southern' },
                    { q: 'What two types of trains were involved?', options: ['Freight trains', 'High-speed trains', 'Steam engines', 'Subway trains'], answer: 'High-speed trains' },
                    { q: 'When will the mourning period conclude?', options: ['January 19', 'January 20', 'January 22', 'February 1'], answer: 'January 22' },
                    { q: 'What are the two factors being considered as the cause?', options: ['Weather and animals', 'Human error and technical failure', 'Terrorism and theft', 'Lack of fuel'], answer: 'Human error and technical failure' },
                    { q: 'The authorities described the disaster as "violent and" what?', options: ['Boring', 'Unprecedented', 'Expected', 'Small'], answer: 'Unprecedented' },
                    { q: 'The term "death toll" refers to what?', options: ['A tax on dead people', 'The number of people killed in an event', 'The price of a funeral', 'A bell ringing'], answer: 'The number of people killed in an event' },
                    { q: 'What does "critically injured" mean?', options: ['Slightly hurt', 'Extremely serious injuries/danger of death', 'Already recovered', 'No injuries'], answer: 'Extremely serious injuries/danger of death' },
                    { q: 'The word "grapple" in "grapples with" means ______.', options: ['To ignore', 'To struggle to deal with', 'To finish', 'To enjoy'], answer: 'To struggle to deal with' },
                    { q: 'The disaster is one of the worst in how long?', options: ['Months', 'A year', 'Decades', 'A century'], answer: 'Decades' },
                    { q: 'Which ministry is investigating the cause?', options: ['Ministry of Health', 'Ministry of Finance', 'Ministry of Transport', 'Ministry of Education'], answer: 'Ministry of Transport' },
                    { q: 'What does "catastrophic" mean?', options: ['Minor', 'Funny', 'Extremely unfortunate or disastrous', 'Beneficial'], answer: 'Extremely unfortunate or disastrous' },
                    { q: 'The incident occurred on which day of the week?', options: ['Friday', 'Saturday', 'Sunday', 'Monday'], answer: 'Monday' }
                ]
            },
            'cambodia-scam': {
                title: 'æŸ¬åŸ”å¯¨é›»è©èˆ‡äººå£è²©é‹æ¡ˆ',
                english: `A high-level investigation revealed on Monday that hundreds of foreign nationals have been duped by fake employment offers in Cambodia, leading to their trafficking and exploitation in so-called â€œscam factories.â€ Authorities uncovered a sophisticated criminal network with alleged links to Pakistani groups. Victims were reportedly forced to conduct online fraud under threat of violence. International law enforcement agencies are coordinating efforts to dismantle the syndicate and rescue those still held captive, highlighting the growing regional challenge of digital-era human trafficking.`,
                chinese: `æŸ¬åŸ”å¯¨é›»è©æ¡ˆçˆ†ç™¼ï¼šæ•¸ç™¾åå¤–ç±äººå“¡é­è²©è³£èˆ‡å‰å‰Šï¼Œç‰½æ¶‰å·´åŸºæ–¯å¦é›†åœ˜ã€‚é€±ä¸€çš„ä¸€é …é«˜å±¤èª¿æŸ¥é¡¯ç¤ºï¼Œæ•¸ç™¾åå¤–åœ‹äººè¢«æŸ¬åŸ”å¯¨çš„è™›å‡å·¥ä½œé‚€ç´„æ‰€æ¬ºé¨™ï¼Œå°è‡´ä»–å€‘è¢«è²©è³£ä¸¦åœ¨æ‰€è¬‚çš„ã€Œè©é¨™å·¥å» ã€ä¸­é­å—å‰å‰Šã€‚ç•¶å±€æ­éœ²äº†ä¸€å€‹è¤‡é›œçš„çŠ¯ç½ªç¶²çµ¡ï¼Œæ“šç¨±èˆ‡å·´åŸºæ–¯å¦é›†åœ˜æœ‰é—œã€‚æ“šå ±å°ï¼Œå—å®³è€…åœ¨æš´åŠ›å¨è„…ä¸‹è¢«è¿«é€²è¡Œç¶²è·¯è©é¨™ã€‚åœ‹éš›åŸ·æ³•æ©Ÿæ§‹æ­£å”èª¿åŠªåŠ›ï¼Œä»¥ç“¦è§£è©²é›†åœ˜ä¸¦ç‡Ÿæ•‘ä»è¢«å›šç¦çš„äººå“¡ï¼Œçªé¡¯äº†æ•¸ä½æ™‚ä»£äººå£è²©é‹æ—¥ç›Šåš´å³»çš„å€åŸŸæŒ‘æˆ°ã€‚`,
                vocabulary: [
                    'High-level investigation (n.phr.): é«˜å±¤èª¿æŸ¥', 'Foreign nationals (n.phr.): å¤–ç±äººå£«', 'Duped (v.pp.): æ¬ºé¨™/æ„šå¼„',
                    'Fake employment offers (n.phr.): è™›å‡å·¥ä½œé‚€ç´„', 'Trafficking (n.): è²©é‹', 'Exploitation (n.): å‰å‰Š',
                    'Scam factories (n.phr.): è©é¨™å·¥å» ', 'Sophisticated (adj.): è¤‡é›œçš„/ç²¾å¯†çš„', 'Criminal network (n.phr.): çŠ¯ç½ªç¶²çµ¡',
                    'Alleged links (n.phr.): æ“šç¨±çš„è¯ç¹«', 'Pakistani groups (n. proper): å·´åŸºæ–¯å¦é›†åœ˜', 'Online fraud (n.phr.): ç¶²è·¯è©é¨™',
                    'Threat of violence (phr.): æš´åŠ›å¨è„…', 'International law enforcement (n.phr.): åœ‹éš›åŸ·æ³•', 'Dismantle (v.): ç“¦è§£/æ‹†é™¤',
                    'Syndicate (n.): é›†åœ˜/è¾›è¿ªåŠ ', 'Held captive (phr.): è¢«å›šç¦/ä¿˜è™œ', 'Digital-era (n.): æ•¸ä½æ™‚ä»£',
                    'Human trafficking (n.phr.): äººå£è²©é‹', 'Dismantle (v.): å»¢é™¤/ç“¦è§£', 'Captive (adj./n.): è¢«å›šç¦çš„/ä¿˜è™œ', 'Regional challenge (n.phr.): å€åŸŸæŒ‘æˆ°',
                    'Duped (v.): è©é¨™/æ¬ºé¨™', 'Exploitation (n.): å‰å‰Š/åˆ©ç”¨', 'Nationals (n.): åœ‹æ°‘/äººå£«', 'Investigation (n.): èª¿æŸ¥',
                    'Offer (n.): æè­°/é‚€ç´„', 'Coordinate (v.): å”èª¿', 'Rescue (v.): ç‡Ÿæ•‘'
                ],
                quiz: [
                    { q: 'In which country were the "scam factories" located?', options: ['Thailand', 'Cambodia', 'Pakistan', 'Vietnam'], answer: 'Cambodia' },
                    { q: 'How were the foreign nationals brought to Cambodia?', options: ['As tourists', 'By fake employment offers', 'As military volunteers', 'Through official exchange'], answer: 'By fake employment offers' },
                    { q: 'The criminal network allegedly has links to groups from which country?', options: ['China', 'Russia', 'Pakistan', 'USA'], answer: 'Pakistan' },
                    { q: 'What were the victims forced to do?', options: ['Build houses', 'Farm bananas', 'Conduct online fraud', 'Clean the ocean'], answer: 'Conduct online fraud' },
                    { q: 'How did the criminals force the victims to work?', options: ['By paying high salaries', 'Under threat of violence', 'With free gifts', 'By offering free food'], answer: 'Under threat of violence' },
                    { q: 'What are international agencies trying to "dismantle"?', options: ['The government', 'A local school', 'The criminal syndicate', 'A new bridge'], answer: 'The criminal syndicate' },
                    { q: 'The investigation revealed hundreds of ______ had been duped.', options: ['Local citizens', 'Foreign nationals', 'Police officers', 'Bank managers'], answer: 'Foreign nationals' },
                    { q: 'The term "duped" means what?', options: ['Rewarded', 'Tricked or deceived', 'Invited', 'Protected'], answer: 'Tricked or deceived' },
                    { q: 'What does "exploitation" refer to in this context?', options: ['Making new friends', 'The unfair treatment or use of someone for profit', 'Exploring a new cave', 'Selling a car'], answer: 'The unfair treatment or use of someone for profit' },
                    { q: 'What kind of challenge does this highlight for the digital era?', options: ['Lack of internet', 'Human trafficking', 'Weather forecasting', 'Tourism growth'], answer: 'Human trafficking' },
                    { q: 'The word "sophisticated" describes the criminal network as being ______.', options: ['Simple', 'Small', 'Highly complex and developed', 'Old and broken'], answer: 'Highly complex and developed' },
                    { q: 'The word "dismantle" means to ______.', options: ['Build up', 'Take apart or destroy an organization', 'Decorate', 'Ignore'], answer: 'Take apart or destroy an organization' },
                    { q: 'Victims are "held captive," meaning they are ______.', options: ['Free to leave', 'Working voluntarily', 'Imprisoned or kept against their will', 'On vacation'], answer: 'Imprisoned or kept against their will' },
                    { q: 'Which day was the investigation results revealed?', options: ['Friday', 'Sunday', 'Monday', 'Wednesday'], answer: 'Monday' },
                    { q: 'What kind of fraud is mentioned in the text?', options: ['Credit card fraud', 'Online fraud', 'Tax fraud', 'Election fraud'], answer: 'Online fraud' }
                ]
            },
            'kabul-blast': {
                title: 'é˜¿å¯Œæ±—å–€å¸ƒçˆ¾çˆ†ç‚¸æ¡ˆ',
                english: `The Talibanâ€™s interior ministry confirmed on Monday that a powerful explosion in Kabul resulted in multiple civilian casualties. While the exact target remains unclear, the blast occurred in a crowded district known for its government buildings and markets. No group has yet claimed responsibility, but the incident underscores the persistent security challenges facing the country. International aid organizations condemned the violence and urged all parties to prioritize civilian protection amid ongoing instability.`,
                chinese: `é˜¿å¯Œæ±—å–€å¸ƒçˆ¾ç™¼ç”Ÿçˆ†ç‚¸ï¼Œå¡”åˆ©ç­è­‰å¯¦å¤šåå¹³æ°‘æ­»äº¡ã€‚å¡”åˆ©ç­å…§æ”¿éƒ¨é€±ä¸€è­‰å¯¦ï¼Œå–€å¸ƒçˆ¾ç™¼ç”Ÿä¸€èµ·å¼·çƒˆçˆ†ç‚¸ï¼Œé€ æˆå¤šåå¹³æ°‘å‚·äº¡ã€‚é›–ç„¶ç¢ºåˆ‡ç›®æ¨™å°šä¸æ¸…æ¥šï¼Œä½†çˆ†ç‚¸ç™¼ç”Ÿåœ¨ä¸€å€‹ä»¥æ”¿åºœå¤§æ¨“å’Œå¸‚å ´èåçš„æ“æ“ åœ°å€ã€‚ç›®å‰å°šæœªæœ‰çµ„ç¹”è²ç¨±å°æ­¤è² è²¬ï¼Œä½†é€™èµ·äº‹ä»¶çªé¡¯äº†è©²åœ‹é¢è‡¨çš„æŒçºŒæ€§å®‰å…¨æŒ‘æˆ°ã€‚åœ‹éš›æ´åŠ©çµ„ç¹”è­´è²¬æš´åŠ›è¡Œç‚ºï¼Œä¸¦æ•¦ä¿ƒå„æ–¹åœ¨æŒçºŒå‹•ç›ªå±€å‹¢ä¸­å„ªå…ˆä¿è­·å¹³æ°‘ã€‚`,
                vocabulary: [
                    'Taliban (n. proper): å¡”åˆ©ç­', 'Interior ministry (n.phr.): å…§æ”¿éƒ¨', 'Kabul (n. proper): å–€å¸ƒçˆ¾ (é˜¿å¯Œæ±—é¦–éƒ½)', 'Confirmed (v.): è­‰å¯¦',
                    'Powerful explosion (n.phr.): å¼·çƒˆçˆ†ç‚¸', 'Civilian casualties (n.phr.): å¹³æ°‘å‚·äº¡', 'Exact target (n.phr.): ç¢ºåˆ‡ç›®æ¨™', 'Remains unclear (phr.): å°šä¸æ¸…æ¥š',
                    'Crowded district (n.phr.): æ“æ“ çš„åœ°å€', 'Markets (n.): å¸‚å ´', 'Claimed responsibility (phr.): è²ç¨±è² è²¬', 'Incident (n.): äº‹ä»¶',
                    'Underscores (v.): å‡¸é¡¯/å¼·èª¿', 'Persistent (adj.): æŒçºŒçš„/é ‘å›ºçš„', 'Security challenges (n.phr.): å®‰å…¨æŒ‘æˆ°', 'Aid organizations (n.phr.): æ´åŠ©çµ„ç¹”',
                    'Condemned (v.): è­´è²¬', 'Prioritize (v.): å„ªå…ˆè€ƒæ…®', 'Civilian protection (n.phr.): å¹³æ°‘ä¿è­·', 'Instability (n.): å‹•ç›ª/ä¸ç©©å®š',
                    'Ongoing (adj.): æŒçºŒé€²è¡Œçš„', 'Casualty (n.): å‚·äº¡äººæ•¸', 'Explosion (n.): çˆ†ç‚¸', 'Confirm (v.): ç¢ºèª',
                    'Ministry (n.): éƒ¨', 'Violence (n.): æš´åŠ›', 'Urged (v.): æ•¦ä¿ƒ', 'Exact (adj.): ç¢ºåˆ‡çš„',
                    'District (n.): åœ°å€', 'Known for (phr.): ä»¥...èå', 'Target (n.): ç›®æ¨™', 'Blast (n.): çˆ†ç‚¸/è¡æ“Šæ³¢'
                ],
                quiz: [
                    { q: 'In which city did the explosion occur?', options: ['Tehran', 'Kabul', 'Islamabad', 'Baghdad'], answer: 'Kabul' },
                    { q: 'Which body confirmed the explosion on Monday?', options: ['The UN', 'The US Embassy', 'The Talibanâ€™s interior ministry', 'The Red Cross'], answer: 'The Talibanâ€™s interior ministry' },
                    { q: 'Who were the primary casualties mentioned in the text?', options: ['Soldiers', 'Foreign tourists', 'Civilians', 'Bank managers'], answer: 'Civilians' },
                    { q: 'The blast occurred in a district known for its markets and what else?', options: ['Schools', 'Parks', 'Government buildings', 'Hospitals'], answer: 'Government buildings' },
                    { q: 'Has any group claimed responsibility for the attack yet?', options: ['Yes, ISIS', 'Yes, Al-Qaeda', 'No group has yet claimed responsibility.', 'The Taliban claimed it themselves.'], answer: 'No group has yet claimed responsibility.' },
                    { q: 'The incident "underscores" which type of challenges?', options: ['Economic', 'Environmental', 'Security', 'Educational'], answer: 'Security' },
                    { q: 'How did international aid organizations respond?', options: ['They ignored it.', 'They celebrated.', 'They condemned the violence.', 'They left the country.'], answer: 'They condemned the violence.' },
                    { q: 'What were all parties urged to prioritize?', options: ['Trade profit', 'Civilian protection', 'New elections', 'Road building'], answer: 'Civilian protection' },
                    { q: 'The word "persistent" means ______.', options: ['Temporary', 'Continuing to exist or endure over a long period', 'Boring', 'New'], answer: 'Continuing to exist or endure over a long period' },
                    { q: 'The term "interior ministry" usually handles what?', options: ['Foreign space travel', 'Domestic national affairs and security', 'International trade only', 'Global health'], answer: 'Domestic national affairs and security' },
                    { q: 'What does "instability" mean?', options: ['The state of being stable', 'The state of being unstable or unpredictable', 'Wealth', 'Silence'], answer: 'The state of being unstable or unpredictable' },
                    { q: 'The word "blast" is a synonym for ______.', options: ['Water', 'Explosion', 'Wind', 'Quiet'], answer: 'Explosion' },
                    { q: 'The casualties are described as "multiple," meaning ______.', options: ['Only one', 'More than one; many', 'None', 'Exactly ten'], answer: 'More than one; many' },
                    { q: 'Kabul is the capital of which country?', options: ['Iran', 'Pakistan', 'Iraq', 'Afghanistan'], answer: 'Afghanistan' },
                    { q: 'The word "condemn" means to ______.', options: ['Express strong disapproval of', 'Praise', 'Support', 'Ignore'], answer: 'Express strong disapproval of' }
                ]
            }
        };

        // --- CORE LOGIC ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº«</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢º)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>