<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2025 å¹´ 12 æœˆ 31 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2025 å¹´ 12 æœˆ 31 æ—¥é ­æ¢ï¼šå…¨çƒè¶¨å‹¢èˆ‡åœ¨åœ°å‹•æ…‹</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs for News Topics -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for an immersive English news learning experience. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE: NEWS CONTENT ---
        const NEWS_DATA = {
            'taiwan-focus': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] Trump Plays Down Chinaâ€™s Taiwan Drills\nIn local news, China has announced a new round of military exercises around Taiwan, including live-fire drills. US President Donald Trump stated that he is aware of the situation but is not worried, noting that China has been conducting naval exercises in the region for decades. Trump added that Xi Jinping has not discussed the matter with him.\n\n[2] Luckin Coffeeâ€™s Entry into Taiwan Faces Fierce Competition\nChina's Luckin Coffee, known as the â€œStarbucks Killer,â€ is reportedly entering Taiwan in December, with its first store opening in Taipei. Louisa Coffee Chairman Huang Ming-hsien stated that Luckin's business model reflects the Taiwan market of twenty years ago. He added that fierce competition, especially from convenience store coffee, will make Luckin's expansion in Taiwan challenging.\n\n[3] Taichung Beefs Up Security for New Yearâ€™s Eve\nTaichung City will host a New Year's Eve concert at Central Park on December 31st. Mayor Lu Shiow-yen inspected large-scale evacuation and response drills and urged relevant units to ensure traffic safety, medical access, and public safety. The city government has heightened security measures to provide a safe New Year's Eve environment for citizens and visitors.`,
                chinese: `ã€1ã€‘å·æ™®æ·¡åŒ–ä¸­åœ‹å°å°è»æ¼”\nåœ¨æœ¬åœ°æ–°èæ–¹é¢ï¼Œä¸­åœ‹å®£å¸ƒåœ¨å°ç£å‘¨é‚Šèˆ‰è¡Œæ–°ä¸€è¼ªè»äº‹æ¼”ç¿’ï¼ŒåŒ…æ‹¬å¯¦å½ˆæ¼”ç¿’ã€‚ç¾åœ‹ç¸½çµ±å·æ™®è¡¨ç¤ºä»–äº†è§£æƒ…æ³ä½†ä¸¦ä¸æ“”å¿ƒï¼Œä¸¦æŒ‡å‡ºä¸­åœ‹åœ¨è©²åœ°å€é€²è¡Œæµ·è»æ¼”ç¿’å·²æœ‰æ•¸åå¹´ã€‚å·æ™®è£œå……èªªï¼Œç¿’è¿‘å¹³å°šæœªèˆ‡ä»–è¨è«–æ­¤äº‹ã€‚\n\nã€2ã€‘ç‘å¹¸å’–å•¡é€²è»å°ç£é¢è‡¨æ¿€çƒˆç«¶çˆ­\nè¢«ç¨±ç‚ºã€Œæ˜Ÿå·´å…‹æ®ºæ‰‹ã€çš„ä¸­åœ‹ç‘å¹¸å’–å•¡æ“šå‚³å°‡æ–¼ 12 æœˆé€²è»å°ç£ï¼Œé¦–åº—è¨­æ–¼å°åŒ—ã€‚è·¯æ˜“èå’–å•¡è‘£äº‹é•·é»ƒéŠ˜è³¢è¡¨ç¤ºï¼Œç‘å¹¸çš„å•†æ¥­æ¨¡å¼åæ˜ çš„æ˜¯ 20 å¹´å‰çš„å°ç£å¸‚å ´ã€‚ä»–è£œå……ï¼Œé¢å°æ¿€çƒˆçš„ç«¶çˆ­ï¼Œå°¤å…¶æ˜¯ä¾¿åˆ©å•†åº—å’–å•¡ï¼Œç‘å¹¸åœ¨å°ç£çš„æ“´å¼µå°‡å……æ»¿æŒ‘æˆ°ã€‚\n\nã€3ã€‘å°ä¸­è·¨å¹´æ´»å‹•å…¨é¢åŠ å¼·ç¶­å®‰\nå°ä¸­å¸‚å°‡æ–¼ 12 æœˆ 31 æ—¥åœ¨ä¸­å¤®å…¬åœ’èˆ‰è¾¦è·¨å¹´æ™šæœƒã€‚å¸‚é•·ç›§ç§€ç‡•è¦–å¯Ÿäº†å¤§è¦æ¨¡ç–æ•£èˆ‡æ‡‰è®Šæ¼”ç·´ï¼Œä¸¦æ•¦ä¿ƒç›¸é—œå–®ä½ç¢ºä¿äº¤é€šå®‰å…¨ã€é†«ç™‚æ•‘è­·ç®¡é“åŠå…¬å…±å®‰å…¨ã€‚å¸‚åºœå·²åŠ å¼·ç¶­å®‰æªæ–½ï¼Œç‚ºå¸‚æ°‘èˆ‡éŠå®¢æä¾›å®‰å…¨çš„è·¨å¹´ç’°å¢ƒã€‚`,
                vocabulary: [
                    'plays down (phr.v.): æ·¡åŒ–/è¼•è¦–', 'military exercises (n.phr.): è»äº‹æ¼”ç¿’', 'live-fire drills (n.phr.): å¯¦å½ˆæ¼”ç¿’', 'aware of (adj.phr.): æ„è­˜åˆ°/äº†è§£',
                    'naval (adj.): æµ·è»çš„', 'decades (n.): æ•¸åå¹´', 'Starbucks Killer (n.phr.): æ˜Ÿå·´å…‹æ®ºæ‰‹', 'reportedly (adv.): æ“šå ±å°',
                    'business model (n.phr.): å•†æ¥­æ¨¡å¼', 'reflects (v.): åæ˜ ', 'fierce competition (n.phr.): æ¿€çƒˆç«¶çˆ­', 'convenience store (n.phr.): ä¾¿åˆ©å•†åº—',
                    'expansion (n.): æ“´å¼µ', 'challenging (adj.): å……æ»¿æŒ‘æˆ°çš„', 'beefs up (phr.v.): åŠ å¼·', 'Central Park (n. proper): ä¸­å¤®å…¬åœ’',
                    'inspected (v.): è¦–å¯Ÿ/æª¢æŸ¥', 'evacuation (n.): ç–æ•£/æ’¤é›¢', 'response drills (n.phr.): æ‡‰è®Šæ¼”ç·´', 'urged (v.): æ•¦ä¿ƒ',
                    'relevant units (n.phr.): ç›¸é—œå–®ä½', 'medical access (n.phr.): é†«ç™‚ç®¡é“/é€”å¾‘', 'heightened (v.pp.): åŠ å¼·çš„/æé«˜çš„', 'security measures (n.phr.): ç¶­å®‰æªæ–½',
                    'environment (n.): ç’°å¢ƒ', 'citizens (n.): å¸‚æ°‘', 'visitors (n.): éŠå®¢', 'naval exercises (n.phr.): æµ·è»æ¼”ç¿’', 'Chairman (n.): è‘£äº‹é•·',
                    'strait (n.): æµ·å³½', 'situation (n.): æƒ…æ³', 'noting (v.ger.): æŒ‡å‡º', 'expansion (n.): æ“´å±•'
                ],
                quiz: [
                    { q: 'How did President Trump describe his feelings about the China drills?', options: ['Very worried', 'Terrified', 'Not worried', 'Angry'], answer: 'Not worried' },
                    { q: 'What kind of drills did China announce around Taiwan?', options: ['Medical drills', 'Live-fire drills', 'Cyber drills', 'Trade drills'], answer: 'Live-fire drills' },
                    { q: 'What is Luckin Coffee\'s nickname mentioned in the text?', options: ['Coffee King', 'Starbucks Killer', 'Bean Expert', 'Fast Cafe'], answer: 'Starbucks Killer' },
                    { q: 'Where is Luckin Coffee\'s first store in Taiwan reportedly opening?', options: ['Taichung', 'Kaohsiung', 'Taipei', 'Tainan'], answer: 'Taipei' },
                    { q: 'What comparison did the Louisa Coffee Chairman make about Luckinâ€™s model?', options: ['It is futuristic', 'It reflects the Taiwan market of 20 years ago', 'It is unique', 'It is exactly like Louisa'], answer: 'It reflects the Taiwan market of 20 years ago' },
                    { q: 'What is cited as a major source of competition for Luckin in Taiwan?', options: ['Convenience store coffee', 'Tea shops', 'Home brewing', 'Imported beans'], answer: 'Convenience store coffee' },
                    { q: 'Where will the Taichung New Year\'s Eve concert be held?', options: ['Shuinan Airport', 'Central Park', 'Taipei Dome', 'Taichung Port'], answer: 'Central Park' },
                    { q: 'Who inspected the evacuation drills in Taichung?', options: ['President Lai', 'Mayor Lu Shiow-yen', 'Donald Trump', 'Chairman Huang'], answer: 'Mayor Lu Shiow-yen' },
                    { q: 'What did the mayor urge units to ensure besides public safety?', options: ['Free coffee', 'Traffic safety and medical access', 'Music quality', 'Fast internet'], answer: 'Traffic safety and medical access' },
                    { q: 'The term "beef up" means to do what?', options: ['Eat more meat', 'Cancel', 'Strengthen or increase', 'Slow down'], answer: 'Strengthen or increase' },
                    { q: 'Trump noted that China has been conducting naval exercises for how long?', options: ['Days', 'Weeks', 'Months', 'Decades'], answer: 'Decades' },
                    { q: 'Which month is Luckin Coffee entering the Taiwan market?', options: ['November', 'December', 'January', 'March'], answer: 'December' },
                    { q: 'What is the goal of the heightened security measures in Taichung?', options: ['To charge more for tickets', 'To provide a safe environment', 'To attract more media', 'To stop the concert'], answer: 'To provide a safe environment' },
                    { q: 'Has Xi Jinping discussed the drills with Trump?', options: ['Yes, many times', 'Once', 'No', 'In a secret letter'], answer: 'No' },
                    { q: 'What does "evacuation" mean?', options: ['Inviting people in', 'Moving people out of a dangerous area', 'Buying tickets', 'Singing songs'], answer: 'Moving people out of a dangerous area' }
                ]
            },
            'trump-zelensky': {
                title: 'å·æ™®èˆ‡æ¾¤å€«æ–¯åŸºä½›å·æœƒè«‡',
                english: `On Sunday, US President Donald Trump and Ukrainian President Volodymyr Zelensky returned to the negotiating table, once again attempting to find a path to end Russia's war on Ukraine. Since Trump took office for his second term in January, the two leaders have met three times, each with high expectations but limited results. As Kiev urges Trump to provide security guarantees, outsiders remain skeptical whether this Florida summit will be a turning point or just another round of high-stakes diplomacy. A White House meeting in February ended unhappily, and an August visit involving European leaders also failed to break the deadlock. Currently, the Ukrainian side appears to have signaled that Kiev may be prepared to make compromises in negotiations with Moscow.`,
                chinese: `é€±æ—¥ï¼Œç¾åœ‹ç¸½çµ±å·æ™®èˆ‡çƒå…‹è˜­ç¸½çµ±æ¾¤å€«æ–¯åŸºé‡å›è«‡åˆ¤æ¡Œï¼Œå†æ¬¡å˜—è©¦å°‹æ‰¾çµæŸä¿„çƒæˆ°çˆ­çš„è·¯å¾‘ã€‚è‡ªå·æ™®æ–¼ 1 æœˆå°±ä»»ç¬¬äºŒä»»æœŸä»¥ä¾†ï¼Œå…©ä½é ˜å°äººå·²æœƒé¢ä¸‰æ¬¡ï¼Œæ¯æ¬¡éƒ½æŠ±æœ‰é«˜åº¦æœŸå¾…ï¼Œä½†æˆæœæœ‰é™ã€‚éš¨è‘—åŸºè¼”æ•¦ä¿ƒå·æ™®æä¾›å®‰å…¨ä¿éšœï¼Œå¤–ç•Œå°æ–¼é€™æ¬¡ä½›å·å³°æœƒç©¶ç«Ÿæœƒæˆç‚ºè½‰æŠ˜é»ï¼Œé‚„åªæ˜¯å¦ä¸€è¼ªé«˜é¢¨éšªçš„å¤–äº¤åšå¼ˆï¼Œä»æŒæ‡·ç–‘æ…‹åº¦ã€‚2 æœˆçš„ç™½å®®æœƒè­°ä¸æ­¡è€Œæ•£ï¼Œ8 æœˆæœ‰æ­æ´²é ˜å°äººåƒèˆ‡çš„è¨ªå•ä¹Ÿæœªèƒ½æ‰“ç ´åƒµå±€ã€‚ç›®å‰ï¼Œçƒå…‹è˜­æ–¹é¢ä¼¼ä¹å·²é‡‹å‡ºè¨Šè™Ÿï¼ŒåŸºè¼”å¯èƒ½æº–å‚™åœ¨èˆ‡è«æ–¯ç§‘çš„è«‡åˆ¤ä¸­åšå‡ºå¦¥å”ã€‚`,
                vocabulary: [
                    'negotiating table (n.phr.): è«‡åˆ¤æ¡Œ', 'attempting (v.ger.): å˜—è©¦', 'took office (phr.): å°±è·', 'second term (n.phr.): ç¬¬äºŒä»»æœŸ',
                    'expectations (n.): æœŸå¾…/æœŸæœ›', 'limited results (n.phr.): æœ‰é™çš„æˆæœ', 'urges (v.): æ•¦ä¿ƒ', 'security guarantees (n.phr.): å®‰å…¨ä¿éšœ',
                    'skeptical (adj.): æ‡·ç–‘çš„', 'summit (n.): å³°æœƒ', 'turning point (n.phr.): è½‰æŠ˜é»', 'high-stakes (adj.): é«˜é¢¨éšªçš„/æ”¸é—œæˆæ•—çš„',
                    'diplomacy (n.): å¤–äº¤', 'ended unhappily (phr.): ä¸æ­¡è€Œæ•£', 'deadlock (n.): åƒµå±€', 'break the deadlock (phr.): æ‰“ç ´åƒµå±€',
                    'signaled (v.): é‡‹å‡ºè¨Šè™Ÿ/è¡¨æ˜', 'make compromises (phr.): åšå‡ºå¦¥å”', 'negotiations (n.): è«‡åˆ¤', 'Moscow (n. proper): è«æ–¯ç§‘ (ä¿„åœ‹æ”¿åºœ)',
                    'Kiev (n. proper): åŸºè¼” (çƒå…‹è˜­æ”¿åºœ)', 'stark (adj.): æ˜é¡¯çš„/åš´å³»çš„', 'standoff (n.): å°å³™', 'high expectations (n.phr.): é«˜åº¦æœŸå¾…',
                    'provided (v.): æä¾›', 'compromise (n.): å¦¥å”', 'involved (v.pp.): æ¶‰åŠçš„/åƒèˆ‡çš„', 'failed (v.): å¤±æ•—', 'current (adj.): ç›®å‰çš„'
                ],
                quiz: [
                    { q: 'Where did the meeting between Trump and Zelensky take place?', options: ['Washington D.C.', 'New York', 'Florida', 'Kiev'], answer: 'Florida' },
                    { q: 'How many times have the two leaders met since Trumpâ€™s second term began?', options: ['Once', 'Twice', 'Three times', 'Five times'], answer: 'Three times' },
                    { q: 'What is Kiev urging Trump to provide?', options: ['Financial loans only', 'Security guarantees', 'New buildings', 'A golf course'], answer: 'Security guarantees' },
                    { q: 'Which meeting was described as ending "unhappily"?', options: ['The Florida summit', 'The August visit', 'The February White House meeting', 'The January inauguration'], answer: 'The February White House meeting' },
                    { q: 'What happened during the August visit involving European leaders?', options: ['A peace treaty was signed.', 'It failed to break the deadlock.', 'Trump didn\'t attend.', 'Russia surrendered.'], answer: 'It failed to break the deadlock.' },
                    { q: 'What signal has the Ukrainian side recently given?', options: ['They will never talk.', 'They may be prepared to make compromises.', 'They want to start a new war.', 'They are moving the capital.'], answer: 'They may be prepared to make compromises.' },
                    { q: 'The term "high-stakes" describes a situation that involves what?', options: ['No risk', 'Low interest', 'Large risks or important consequences', 'Cooking terms'], answer: 'Large risks or important consequences' },
                    { q: 'Waiters and outsiders remain ______ about the results.', options: ['Happy', 'Skeptical', 'Certain', 'Confused'], answer: 'Skeptical' },
                    { q: 'What is the main goal of the negotiating table?', options: ['To start a new business', 'To find a path to end the war', 'To buy land in Florida', 'To organize a party'], answer: 'To find a path to end the war' },
                    { q: 'When did Trump take office for his second term?', options: ['December', 'January', 'August', 'February'], answer: 'January' },
                    { q: 'What does "deadlock" mean in a negotiation?', options: ['A type of door lock', 'A complete progress', 'A situation where no progress can be made', 'A fast agreement'], answer: 'A situation where no progress can be made' },
                    { q: 'Who is the president of Ukraine?', options: ['Vladimir Putin', 'Volodymyr Zelensky', 'Emmanuel Macron', 'Shou Zi Chew'], answer: 'Volodymyr Zelensky' },
                    { q: 'Outsiders are wondering if the summit will be a ______.', options: ['Boring day', 'Turning point', 'Waste of money', 'Secret'], answer: 'Turning point' },
                    { q: 'What does "compromise" involve?', options: ['Winning everything', 'Both sides giving up something to reach an agreement', 'Refusing to talk', 'Asking for more money'], answer: 'Both sides giving up something to reach an agreement' },
                    { q: 'Which city represents the Russian government in the text?', options: ['Kiev', 'Washington', 'Moscow', 'London'], answer: 'Moscow' }
                ]
            },
            'nk-missiles': {
                title: 'åŒ—éŸ“å®£ç¨±è©¦å°„é•·ç¨‹å·¡å¼‹é£›å½ˆ',
                english: `North Korea stated that it launched long-range strategic cruise missiles to test the country's nuclear deterrence capabilities. This came just days after progress was shown on its first nuclear-powered submarine. Sunday's launch was the latest show of force ahead of a Workers' Party plenary session planned for early next year. Kim Jong Un expressed â€œgreat satisfactionâ€, calling the test a â€œresponsible exercise of the right to self-defense and war deterrence.â€ South Korea's Joint Chiefs of Staff said they detected multiple cruise missiles launched from the Pyongyang area, adding they will maintain readiness through the US alliance.`,
                chinese: `åŒ—éŸ“è¡¨ç¤ºï¼Œå®ƒç™¼å°„äº†é•·ç¨‹æˆ°ç•¥å·¡å¼‹é£›å½ˆï¼Œä»¥æ¸¬è©¦è©²åœ‹çš„æ ¸å¨æ‡¾èƒ½åŠ›ã€‚å°±åœ¨å¹¾å¤©å‰ï¼ŒåŒ—éŸ“æ‰å±•ç¤ºäº†å…¶é¦–è‰˜æ ¸å‹•åŠ›æ½›è‰¦çš„é€²å±•ã€‚é€±æ—¥çš„ç™¼å°„æ˜¯æ˜å¹´å¹´åˆè¨ˆç•«èˆ‰è¡Œçš„å‹å‹•é»¨å…¨é«”æœƒè­°å‰çš„æœ€æ–°æ­¦åŠ›ç¤ºå¨ã€‚é‡‘æ­£æ©è¡¨ç¤ºã€Œéå¸¸æ»¿æ„ã€ï¼Œä¸¦ç¨±é€™æ¬¡æ¸¬è©¦æ˜¯ã€Œè¡Œä½¿è‡ªè¡›æ¬Šå’Œæˆ°çˆ­å¨æ‡¾åŠ›çš„è² è²¬ä»»è¡¨ç¾ã€ã€‚å—éŸ“åƒè¬€é•·è¯å¸­æœƒè­°è¡¨ç¤ºï¼Œä»–å€‘åµæ¸¬åˆ°å¾å¹³å£¤åœ°å€ç™¼å°„çš„å¤šæšå·¡å¼‹é£›å½ˆï¼Œä¸¦è£œå……èªªä»–å€‘å°‡é€ééŸ“ç¾åŒç›Ÿç¶­æŒæˆ’å‚™ç‹€æ…‹ã€‚`,
                vocabulary: [
                    'long-range (adj.): é•·ç¨‹çš„', 'strategic (adj.): æˆ°ç•¥çš„', 'cruise missiles (n.phr.): å·¡å¼‹é£›å½ˆ', 'nuclear deterrence (n.phr.): æ ¸å¨æ‡¾',
                    'capabilities (n.): èƒ½åŠ›', 'progress (n.): é€²å±•', 'nuclear-powered submarine (n.phr.): æ ¸å‹•åŠ›æ½›è‰¦', 'show of force (phr.): æ­¦åŠ›ç¤ºå¨',
                    'Workers\' Party (n. proper): å‹å‹•é»¨', 'plenary session (n.phr.): å…¨é«”æœƒè­°', 'great satisfaction (n.phr.): éå¸¸æ»¿æ„', 'responsible exercise (phr.): è² è²¬ä»»çš„è¡Œä½¿',
                    'right to self-defense (n.phr.): è‡ªè¡›æ¬Š', 'war deterrence (n.phr.): æˆ°çˆ­å¨æ‡¾åŠ›', 'Joint Chiefs of Staff (n. proper): åƒè¬€é•·è¯å¸­æœƒè­°', 'detected (v.): åµæ¸¬åˆ°',
                    'multiple (adj.): å¤šå€‹çš„', 'Pyongyang area (n. proper): å¹³å£¤åœ°å€', 'maintain readiness (phr.): ç¶­æŒæˆ’å‚™ç‹€æ…‹', 'alliance (n.): åŒç›Ÿ/è¯ç›Ÿ',
                    'launched (v.): ç™¼å°„/ç™¼å‹•', 'strategic (adj.): æˆ°ç•¥æ€§çš„', 'deterrence (n.): å¨æ‡¾', 'exercise (v.): è¡Œä½¿', 'strategic cruise missiles (n.phr.): æˆ°ç•¥å·¡å¼‹é£›å½ˆ'
                ],
                quiz: [
                    { q: 'What did North Korea launch on Sunday?', options: ['Satellites', 'Long-range strategic cruise missiles', 'Nuclear submarines', 'Drones'], answer: 'Long-range strategic cruise missiles' },
                    { q: 'What was the purpose of the test according to North Korea?', options: ['To start a war', 'To test nuclear deterrence capabilities', 'To celebrate a holiday', 'To sell weapons'], answer: 'To test nuclear deterrence capabilities' },
                    { q: 'This launch happened just days after progress in what other military area?', options: ['Cyber warfare', 'Nuclear-powered submarine', 'Air force training', 'Space rockets'], answer: 'Nuclear-powered submarine' },
                    { q: 'The launch is ahead of what event planned for early next year?', options: ['An Olympic game', 'A Workers\' Party plenary session', 'A presidential election', 'A peace summit'], answer: 'A Workers\' Party plenary session' },
                    { q: 'How did Kim Jong Un describe his feelings about the test?', options: ['Worried', 'â€œGreat satisfactionâ€', 'Angry at the results', 'Neutral'], answer: 'â€œGreat satisfactionâ€' },
                    { q: 'Kim called the test a "responsible exercise" of which right?', options: ['Right to vote', 'Right to travel', 'Right to self-defense', 'Right to trade'], answer: 'Right to self-defense' },
                    { q: 'From which area were the missiles launched?', options: ['Seoul', 'Tokyo', 'Pyongyang area', 'The sea'], answer: 'Pyongyang area' },
                    { q: 'Who detected the missile launches?', options: ['US Coast Guard', 'South Korea\'s Joint Chiefs of Staff', 'A Japanese ship', 'A private satellite'], answer: 'South Korea\'s Joint Chiefs of Staff' },
                    { q: 'How will South Korea maintain readiness?', options: ['By building a wall', 'Through the US alliance', 'By launching their own missiles', 'By leaving the area'], answer: 'Through the US alliance' },
                    { q: 'What kind of "deterrence" is mentioned in the text?', options: ['Financial', 'Nuclear and war deterrence', 'Environmental', 'Educational'], answer: 'Nuclear and war deterrence' },
                    { q: 'The term "plenary session" refers to what?', options: ['A small secret meeting', 'A meeting attended by all qualified members', 'A musical performance', 'A military drill'], answer: 'A meeting attended by all qualified members' },
                    { q: 'What does "readiness" mean?', options: ['Being fast', 'The state of being prepared', 'The state of being tired', 'The state of being old'], answer: 'The state of being prepared' },
                    { q: 'The missiles are described as "strategic." This usually means they are linked to what?', options: ['Small street fights', 'Long-term military goals or nuclear use', 'Short-range target practice', 'Only for show'], answer: 'Long-term military goals or nuclear use' },
                    { q: 'What does "detect" mean?', options: ['To build', 'To discover or identify the presence of something', 'To hide', 'To ignore'], answer: 'To discover or identify the presence of something' },
                    { q: 'The word "exercise" in "exercise of the right" means what?', options: ['Physical workout', 'The use or application of a right', 'A test paper', 'A long walk'], answer: 'The use or application of a right' }
                ]
            },
            'brigitte-bardot': {
                title: 'æ³•åœ‹éŠ€å¹•å¥³ç¥ç¢§å§¬èŠ­æœè¾­ä¸–',
                english: `Screen goddess Brigitte Bardot has passed away at the age of 91. She rose to fame as a free-spirited young woman, becoming an international sex symbol and a symbol of French pride. In 1973, she left the film industry and devoted herself to animal rights activism. French President Emmanuel Macron said Bardot â€œembodied a life of freedom.â€ Her foundation paid tribute to her lifelong efforts, from saving seal pups in Arctic ice floes to pushing for animal welfare legislation. Bardot once stated that her Legion of Honour recognized her work for animals, not her film career.`,
                chinese: `éŠ€å¹•å¥³ç¥ç¢§å§¬èŠ­æœ (Brigitte Bardot) è¾­ä¸–ï¼Œäº«è€†å£½ 91 æ­²ã€‚å¥¹ä»¥è‡ªç”±å¥”æ”¾çš„å¹´è¼•å¥³æ€§å½¢è±¡æˆåï¼Œæˆç‚ºåœ‹éš›æ€§çš„æ€§æ„Ÿè±¡å¾µèˆ‡æ³•åœ‹äººçš„é©•å‚²ã€‚1973 å¹´ï¼Œå¥¹é›¢é–‹é›»å½±ç•Œï¼ŒæŠ•èº«æ–¼å‹•ç‰©æ¬Šåˆ©æ´»å‹•ã€‚æ³•åœ‹ç¸½çµ±é¦¬å…‹å®è¡¨ç¤ºï¼ŒèŠ­æœã€Œé«”ç¾äº†è‡ªç”±çš„ç”Ÿæ´»ã€ã€‚å¥¹çš„åŸºé‡‘æœƒå°å¥¹çš„ä¸€ç”ŸåŠªåŠ›è¡¨ç¤ºæ•¬æ„ï¼Œå¾åœ¨åŒ—æ¥µæµ®å†°ä¸­æ‹¯æ•‘æµ·è±¹å¹¼å´½ï¼Œåˆ°æ¨å‹•å‹•ç‰©ç¦åˆ©ç«‹æ³•ã€‚èŠ­æœæ›¾è¡¨ç¤ºï¼Œå¥¹çš„æ¦®è­½è»åœ˜å‹³ç« æ˜¯èªå¯å¥¹å°å‹•ç‰©çš„è²¢ç»ï¼Œè€Œéå¥¹çš„æ¼”è—ç”Ÿæ¶¯ã€‚`,
                vocabulary: [
                    'screen goddess (n.phr.): éŠ€å¹•å¥³ç¥', 'passed away (phr.v.): è¾­ä¸–/å»ä¸–', 'rose to fame (phr.): æˆå', 'free-spirited (adj.): è‡ªç”±å¥”æ”¾çš„',
                    'international sex symbol (n.phr.): åœ‹éš›æ€§æ„Ÿè±¡å¾µ', 'French pride (n.phr.): æ³•åœ‹äººçš„é©•å‚²', 'film industry (n.phr.): é›»å½±ç•Œ', 'devoted herself to (phr.): æŠ•èº«æ–¼/è‡´åŠ›æ–¼',
                    'animal rights activism (n.phr.): å‹•ç‰©æ¬Šåˆ©æ´»å‹•', 'embodied (v.): é«”ç¾/è±¡å¾µ', 'life of freedom (n.phr.): è‡ªç”±çš„ç”Ÿæ´»', 'foundation (n.): åŸºé‡‘æœƒ',
                    'paid tribute to (phr.): å‘...è¡¨ç¤ºæ•¬æ„', 'lifelong efforts (n.phr.): ä¸€ç”Ÿçš„åŠªåŠ›', 'seal pups (n.phr.): æµ·è±¹å¹¼å´½', 'Arctic (n./adj.): åŒ—æ¥µ',
                    'ice floes (n.phr.): æµ®å†°', 'animal welfare legislation (n.phr.): å‹•ç‰©ç¦åˆ©ç«‹æ³•', 'Legion of Honour (n. proper): æ¦®è­½è»åœ˜å‹³ç« ', 'recognized (v.): èªå¯',
                    'film career (n.phr.): æ¼”è—ç”Ÿæ¶¯', 'pride (n.): é©•å‚²', 'activism (n.): æ´»å‹•/è¡Œå‹•ä¸»ç¾©', 'embodiment (n.): åŒ–èº«/é«”ç¾', 'legislation (n.): ç«‹æ³•'
                ],
                quiz: [
                    { q: 'How old was Brigitte Bardot when she passed away?', options: ['71', '81', '91', '101'], answer: '91' },
                    { q: 'What kind of symbol did she become during her acting years?', options: ['Political symbol', 'International sex symbol', 'Scientific symbol', 'Religious symbol'], answer: 'International sex symbol' },
                    { q: 'In which year did she leave the film industry?', options: ['1963', '1973', '1983', '1993'], answer: '1973' },
                    { q: 'What cause did she devote herself to after acting?', options: ['Environmental protection', 'Animal rights activism', 'Space exploration', 'Human rights'], answer: 'Animal rights activism' },
                    { q: 'Who said that Bardot "embodied a life of freedom"?', options: ['Donald Trump', 'Emmanuel Macron', 'Kim Jong Un', 'Dwayne Johnson'], answer: 'Emmanuel Macron' },
                    { q: 'What specific animal was mentioned as being saved by her efforts in the Arctic?', options: ['Polar bears', 'Seal pups', 'Whales', 'Penguins'], answer: 'Seal pups' },
                    { q: 'Where were the seal pups being saved from?', options: ['Zoos', 'Circuses', 'Arctic ice floes', 'Forests'], answer: 'Arctic ice floes' },
                    { q: 'What kind of legislation did she push for?', options: ['Film tax laws', 'Animal welfare legislation', 'Travel laws', 'Military laws'], answer: 'Animal welfare legislation' },
                    { q: 'Bardot stated her Legion of Honour recognized what?', options: ['Her film awards', 'Her beauty', 'Her work for animals', 'Her wealth'], answer: 'Her work for animals' },
                    { q: 'The term "free-spirited" means what?', options: ['Always angry', 'Independent and uninhibited', 'Scared of everything', 'Very expensive'], answer: 'Independent and uninhibited' },
                    { q: 'The word "embodied" is similar to which word?', options: ['Avoided', 'Represented or personified', 'Destroyed', 'Forgot'], answer: 'Represented or personified' },
                    { q: 'What is the "Legion of Honour"?', options: ['A French film company', 'A highest French order of merit/medal', 'An animal park', 'A fashion brand'], answer: 'A highest French order of merit/medal' },
                    { q: 'How does the text describe Bardot\'s relationship with France?', options: ['She was a symbol of French pride', 'She was hated in France', 'She left France and never returned', 'She never spoke French'], answer: 'She was a symbol of French pride' },
                    { q: 'The term "activism" means the use of ______ to achieve a goal.', options: ['Silence', 'Direct action or involvement', 'Sleep', 'Money only'], answer: 'Direct action or involvement' },
                    { q: 'Was her career as an actress longer than her career as an activist?', options: ['Yes', 'No (She left in 1973 and died at 91)', 'Exactly the same', 'The text doesn\'t say'], answer: 'No (She left in 1973 and died at 91)' }
                ]
            },
            'gene-edited-sheep': {
                title: 'å°åº¦é¦–éš»åŸºå› ç·¨è¼¯ç¶¿ç¾Šæ»¿ä¸€æ­²',
                english: `India's first gene-edited sheep has turned one and is reported to be in good condition. The sheep, named Tarmeem (meaning â€œmodificationâ€ or â€œeditâ€ in Arabic), was born in Kashmir and developed using CRISPR technology. Researchers explained that CRISPR works like genetic scissors, allowing scientists to remove genes linked to weaknesses or diseases. The embryos are cultured in a controlled laboratory environment before being implanted into a surrogate mother. Professor Riaz Shah stated that experiments are ongoing to assess Tarmeemâ€™s health and survival, and the sheep is kept in a closely monitored, safe environment. The team has also submitted a funding proposal to the government.`,
                chinese: `å°åº¦é¦–éš»åŸºå› ç·¨è¼¯ç¶¿ç¾Šæ»¿ä¸€æ­²ï¼Œæ“šå ±å°ç‹€æ³è‰¯å¥½ã€‚é€™éš»ç¶¿ç¾Šåå«å¡”çˆ¾ç±³å§†ï¼ˆTarmeemï¼Œåœ¨é˜¿æ‹‰ä¼¯èªä¸­æ„ç‚ºã€Œä¿®æ”¹ã€æˆ–ã€Œç·¨è¼¯ã€ï¼‰ï¼Œå‡ºç”Ÿæ–¼å–€ä»€ç±³çˆ¾ï¼Œæ˜¯åˆ©ç”¨ CRISPR æŠ€è¡“åŸ¹è‚²è€Œæˆçš„ã€‚ç ”ç©¶äººå“¡è§£é‡‹èªªï¼ŒCRISPR å°±åƒåŸºå› å‰ªåˆ€ï¼Œè®“ç§‘å­¸å®¶èƒ½å¤ ç§»é™¤èˆ‡å¼±é»æˆ–ç–¾ç—…ç›¸é—œçš„åŸºå› ã€‚èƒšèƒåœ¨å—æ§çš„å¯¦é©—å®¤ç’°å¢ƒä¸­åŸ¹é¤Šï¼Œç„¶å¾Œæ¤å…¥ä»£ç†å­•æ¯é«”å…§ã€‚é‡ŒäºèŒ²Â·æ²™é˜¿ (Riaz Shah) æ•™æˆè¡¨ç¤ºï¼Œç›®å‰æ­£åœ¨é€²è¡Œå¯¦é©—ä»¥è©•ä¼°å¡”çˆ¾ç±³å§†çš„å¥åº·å’Œå­˜æ´»æƒ…æ³ï¼Œé€™éš»ç¶¿ç¾Šè¢«å®‰ç½®åœ¨ä¸€å€‹åš´å¯†ç›£æ§ä¸”å®‰å…¨çš„ç’°å¢ƒä¸­ã€‚è©²åœ˜éšŠä¹Ÿå‘æ”¿åºœæäº¤äº†è³‡é‡‘ç”³è«‹è¨ˆç•«æ›¸ã€‚`,
                vocabulary: [
                    'gene-edited (adj.): åŸºå› ç·¨è¼¯çš„', 'good condition (n.phr.): è‰¯å¥½çš„ç‹€æ³', 'modification (n.): ä¿®æ”¹/è®Šæ›´', 'CRISPR technology (n. proper): CRISPR æŠ€è¡“ (åŸºå› ç·¨è¼¯æŠ€è¡“)',
                    'genetic scissors (n.phr.): åŸºå› å‰ªåˆ€', 'remove genes (phr.): ç§»é™¤åŸºå› ', 'weaknesses (n.): å¼±é»', 'diseases (n.): ç–¾ç—…',
                    'embryos (n.): èƒšèƒ', 'cultured (v.pp.): åŸ¹é¤Šçš„', 'controlled environment (n.phr.): å—æ§ç’°å¢ƒ', 'implanted (v.pp.): æ¤å…¥çš„',
                    'surrogate mother (n.phr.): ä»£ç†å­•æ¯', 'ongoing (adj.): é€²è¡Œä¸­çš„', 'assess (v.): è©•ä¼°', 'survival (n.): å­˜æ´»/ç”Ÿå­˜',
                    'closely monitored (phr.): åš´å¯†ç›£æ§', 'funding proposal (n.phr.): è³‡é‡‘ç”³è«‹è¨ˆç•«æ›¸', 'genetic (adj.): åŸºå› çš„', 'scissors (n.): å‰ªåˆ€',
                    'modification (n.): ä¿®æ­£', 'Arabic (n. proper): é˜¿æ‹‰ä¼¯èª', 'Kashmir (n. proper): å–€ä»€ç±³çˆ¾', 'Professor (n.): æ•™æˆ', 'assess (v.): è©•å®š/è€ƒæ ¸'
                ],
                quiz: [
                    { q: 'How old is India\'s first gene-edited sheep?', options: ['Six months', 'One year', 'Two years', 'Five years'], answer: 'One year' },
                    { q: 'What is the name of the sheep?', options: ['CRISPR', 'Tarmeem', 'Riaz', 'Dolly'], answer: 'Tarmeem' },
                    { q: 'What does the name "Tarmeem" mean in Arabic?', options: ['Sheep', 'Modification or edit', 'Fast runner', 'Indian hero'], answer: 'Modification or edit' },
                    { q: 'Where was the sheep born?', options: ['New Delhi', 'Mumbai', 'Kashmir', 'Paris'], answer: 'Kashmir' },
                    { q: 'What technology was used to develop the sheep?', options: ['Traditional breeding', 'Cloning only', 'CRISPR technology', 'Natural selection'], answer: 'CRISPR technology' },
                    { q: 'How did researchers describe CRISPR in the text?', options: ['As a magic wand', 'As genetic scissors', 'As a powerful microscope', 'As a medical drug'], answer: 'As genetic scissors' },
                    { q: 'Scientists use the technology to remove genes linked to what?', options: ['Color', 'Size', 'Weaknesses or diseases', 'Intelligence'], answer: 'Weaknesses or diseases' },
                    { q: 'Where are the embryos cultured?', options: ['In a farm', 'In a controlled laboratory environment', 'In the sea', 'In a public park'], answer: 'In a controlled laboratory environment' },
                    { q: 'Where is the embryo implanted after being cultured?', options: ['In a robot', 'In a surrogate mother', 'Back in the laboratory', 'In a hospital'], answer: 'In a surrogate mother' },
                    { q: 'Who is the professor leading the project?', options: ['Riaz Shah', 'Shou Zi Chew', 'Donald Trump', 'James Cameron'], answer: 'Riaz Shah' },
                    { q: 'What are the ongoing experiments assessing?', options: ['The sheep\'s wool quality', 'Health and survival', 'How fast it runs', 'The sheep\'s color'], answer: 'Health and survival' },
                    { q: 'The sheep is kept in a ______ and safe environment.', options: ['Dark', 'Public', 'Closely monitored', 'Forgotten'], answer: 'Closely monitored' },
                    { q: 'The team has submitted what to the government?', options: ['A report on failure', 'A resignation letter', 'A funding proposal', 'A protest letter'], answer: 'A funding proposal' },
                    { q: 'What does the word "embryo" refer to?', options: ['An adult sheep', 'A baby sheep after birth', 'An unborn offspring in the process of development', 'A type of tool'], answer: 'An unborn offspring in the process of development' },
                    { q: 'What does "implanted" mean?', options: ['To throw away', 'To insert or fix in a personâ€™s body or an animalâ€™s', 'To find in the wild', 'To feed'], answer: 'To insert or fix in a personâ€™s body or an animalâ€™s' }
                ]
            }
        };

        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº«</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢º)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>