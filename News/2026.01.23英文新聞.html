<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 1 æœˆ 22 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 1 æœˆ 22 æ—¥ï¼šé—œç¨…è±å…ã€å¤–äº¤åšå¼ˆèˆ‡ AI è®Šé©</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for persistent English improvement. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] TSMC Formally Granted Section 232 Exemptions\nIn a significant victory for Taiwanâ€™s semiconductor industry, the U.S. Department of Commerce has officially granted TSMC exemptions from certain Section 232 national security tariffs and quotas. This move allows TSMCâ€™s Arizona facilities to import critical manufacturing materials with greater flexibility and lower costs, cementing the â€œSilicon Shieldâ€â€™s role in American national security.\n\n[2] Cold Surge Eases, but New Front Expected Sunday\nWhile the powerful continental cold air mass began to weaken on Thursday, the Central Weather Administration (CWA) cautioned that the reprieve will be brief. Daytime temperatures rose island-wide, but a new moderately strong cold front is expected to arrive on Sunday evening. The CWA advised the elderly to remain vigilant about rapid temperature fluctuations.\n\n[3] MND Detects 18 PLA Aircraft and Vessels Near Taiwan\nThe Ministry of National Defense (MND) reported that 12 PLA aircraft and 6 naval vessels were detected operating in the vicinity of Taiwan over a 24-hour period. Six of the aircraft crossed the median line of the Taiwan Strait or entered the southwestern ADIZ. Taiwanâ€™s armed forces used mission aircraft and missile systems to respond to these persistent â€œgray zoneâ€ activities.`,
                chinese: `ã€1ã€‘å°ç©é›»æ­£å¼ç²å¾—ç¾åœ‹ã€Œ232 æ¢æ¬¾ã€è±å…ï¼ŒArizona å» å€å°‡å„ªå…ˆå—æƒ \né€™æ˜¯å°ç£åŠå°é«”ç”¢æ¥­çš„é‡å¤§å‹åˆ©ï¼Œç¾åœ‹å•†å‹™éƒ¨å·²æ­£å¼æˆäºˆå°ç©é›»ï¼ˆTSMCï¼‰è±å…éƒ¨åˆ†ã€Œ232 æ¢æ¬¾ã€åœ‹å®¶å®‰å…¨é—œç¨…èˆ‡é…é¡ã€‚æ­¤èˆ‰ç›´æ¥æºæ–¼æ–°çš„é›™é‚Šè²¿æ˜“å”è­°ï¼Œå…è¨±å°ç©é›»äºåˆ©æ¡‘é‚£å·å» ä»¥æ›´å¤§çš„éˆæ´»æ€§å’Œæ›´ä½çš„æˆæœ¬é€²å£é—œéµè£½é€ åŸæ–™ï¼Œé€²ä¸€æ­¥éå›ºäº†ã€ŒçŸ½ç›¾ã€åœ¨ç¾åœ‹åœ‹å®¶å®‰å…¨ä¸­çš„è§’è‰²ã€‚\n\nã€2ã€‘å¯’æµæ¸›å¼±æ°£æº«å›å‡ï¼Œä½†æ°£è±¡ç½²æé†’ï¼šé€±æ—¥å°‡æœ‰æ–°ä¸€æ³¢å†·æ°£åœ˜å—ä¸‹\né›–ç„¶å¼·å¤§çš„å¤§é™¸å†·æ°£åœ˜é€±å››é–‹å§‹æ¸›å¼±ï¼Œä½†ä¸­å¤®æ°£è±¡ç½²ï¼ˆCWAï¼‰è­¦å‘Šé€™ç¨®ç·©è§£å°‡æ˜¯çŸ­æš«çš„ã€‚å…¨å°ç™½å¤©æ°£æº«å›å‡ï¼Œä½†é è¨ˆé€±æ—¥æ™šé–“å°‡æœ‰ä¸€æ³¢ä¸­ç­‰å¼·åº¦çš„å†·æ°£åœ˜æŠµé”ã€‚æ°£è±¡ç½²å»ºè­°é•·è€…åŠæ…¢æ€§ç—…æ‚£è€…æ‡‰å°æ°£æº«åŠ‡çƒˆæ³¢å‹•ä¿æŒè­¦è¦ºï¼Œä¸¦ç‚ºä¸‹é€±åˆå¦ä¸€æ®µæ¿•å†·å¤©æ°£åšå¥½æº–å‚™ã€‚\n\nã€3ã€‘ä¸­å…± 18 æ¶æ¬¡æ©Ÿè‰¦æ“¾å°ï¼Œåœ‹é˜²éƒ¨ï¼šåœ‹è»åš´å¯†ç›£æ§ä¸¦æ‡‰è™•\nåœ‹é˜²éƒ¨ï¼ˆMNDï¼‰å ±å‘ŠæŒ‡å‡ºï¼Œæˆªè‡³é€±å››ä¸Šåˆçš„ 24 å°æ™‚å…§ï¼Œåµç²è§£æ”¾è»æ©Ÿ 12 æ¶æ¬¡åŠè»è‰¦ 6 è‰˜æ¬¡åœ¨å°ç£å‘¨é‚Šæ´»å‹•ã€‚å…¶ä¸­ 6 æ¶æ¬¡è»æ©Ÿé€¾è¶Šæµ·å³½ä¸­ç·šæˆ–é€²å…¥è¥¿å—ç©ºåŸŸã€‚åœ‹é˜²éƒ¨è¡¨ç¤ºï¼Œåœ‹è»å·²é‹ç”¨ä»»å‹™æ©Ÿã€è‰¦åŠé™¸åŸºé£›å½ˆç³»çµ±ï¼Œåš´å¯†ç›£æ§ä¸¦æ‡‰è™•é€™äº›æŒçºŒæ€§çš„ã€Œç°è‰²åœ°å¸¶ã€æ´»å‹•ã€‚`,
                vocabulary: [
                    'Section 232 (n. phr.): 232 æ¢æ¬¾', 'Exemptions (n.): è±å…', 'Department of Commerce (n. proper): å•†å‹™éƒ¨', 'Quotas (n.): é…é¡',
                    'Bilateral trade pact (n.phr.): é›™é‚Šè²¿æ˜“å”å®š', 'Ramp-up (n./v.): æ“´ç”¢/å¢åŠ ', 'Silicon Shield (n. proper): çŸ½ç›¾', 'Cementing (v.ger.): éå›º/åŠ å¼·',
                    'Continental cold air mass (n.phr.): å¤§é™¸å†·æ°£åœ˜', 'Reprieve (n.): ç·©è§£/æš«ç·©', 'Moderately strong (adj.phr.): ä¸­ç­‰å¼·åº¦çš„', 'Vigilant (adj.): è­¦è¦ºçš„',
                    'Fluctuations (n.): æ³¢å‹•', 'Damp (adj.): æ½®æ¿•çš„', 'Vicinity (n.): å‘¨é‚Š/é„°è¿‘åœ°å€', 'Median line (n.phr.): ä¸­ç·š',
                    'ADIZ (Air Defense Identification Zone) (n. proper): é˜²ç©ºè­˜åˆ¥å€', 'Persistent (adj.): æŒçºŒçš„', 'Gray zone activities (n.phr.): ç°è‰²åœ°å¸¶æ´»å‹•', 'National security (n.phr.): åœ‹å®¶å®‰å…¨',
                    'Exemption (n.): è±å…', 'Strategic advantage (n.phr.): æˆ°ç•¥å„ªå‹¢', 'Fabrication (n.): è£½é€ ', 'CWA (n. proper): ä¸­å¤®æ°£è±¡ç½²',
                    'Vessels (n.): èˆ¹éš»', 'Monitor (v.): ç›£æ§', 'Respond (v.): å›æ‡‰', 'Vigilance (n.): è­¦è¦º',
                    'Ramp-up (v.): å¢åŠ ', 'Bilateral (adj.): é›™é‚Šçš„', 'Strategic (adj.): æˆ°ç•¥çš„', 'Vicinity (n.): é™„è¿‘'
                ],
                quiz: [
                    { q: 'Which US department granted TSMC the Section 232 exemptions?', options: ['Department of Labor', 'Department of Commerce', 'Department of Defense', 'The White House'], answer: 'Department of Commerce' },
                    { q: 'What will the Section 232 exemptions allow TSMC Arizona to do?', options: ['Hire more workers', 'Import critical materials with lower costs', 'Build more parks', 'Sell consumer electronics'], answer: 'Import critical materials with lower costs' },
                    { q: 'What concept does the text say is being "cemented" in American national security?', options: ['The Iron Dome', 'The Silicon Shield', 'The Golden Shield', 'The Trade Barrier'], answer: 'The Silicon Shield' },
                    { q: 'When is the next moderately strong cold front expected to arrive?', options: ['Friday morning', 'Saturday afternoon', 'Sunday evening', 'Next Thursday'], answer: 'Sunday evening' },
                    { q: 'Who did the CWA specifically advise to remain vigilant about temperature changes?', options: ['Farmers', 'The elderly', 'Students', 'Pilots'], answer: 'The elderly' },
                    { q: 'How many total PLA aircraft and vessels were detected in the 24-hour period?', options: ['12', '18', '24', '6'], answer: '18' },
                    { q: 'How many of the detected PLA aircraft crossed the median line or entered the ADIZ?', options: ['6', '12', '18', '2'], answer: '6' },
                    { q: 'What term does the MND use to describe the persistent military activities?', options: ['Active warfare', '"Gray zone" activities', 'Peacekeeping missions', 'Joint training'], answer: '"Gray zone" activities' },
                    { q: 'What system did Taiwan use to respond to the PLA movements?', options: ['Only radar', 'Land-based missile systems', 'Only naval vessels', 'Civilian police'], answer: 'Land-based missile systems' },
                    { q: 'The Section 232 exemptions specifically involve what type of concerns?', options: ['Environmental concerns', 'National security concerns', 'Educational concerns', 'Healthcare concerns'], answer: 'National security concerns' },
                    { q: 'The term "reprieve" in the weather news refers to a ______.', options: ['Long storm', 'Brief break from cold weather', 'New law', 'Type of snow'], answer: 'Brief break from cold weather' },
                    { q: 'The "vicinity" of Taiwan refers to which area?', options: ['The surrounding area', 'The center of Taipei', 'The mountains only', 'The moon'], answer: 'The surrounding area' },
                    { q: 'What does "plummet" (from earlier contexts) or "rapid fluctuation" imply?', options: ['Slow change', 'Fast and sudden change', 'No change', 'Planned change'], answer: 'Fast and sudden change' },
                    { q: 'Is the current cold air mass described as powerful?', options: ['No', 'Yes', 'It is a heatwave', 'The text doesn\'t say'], answer: 'Yes' },
                    { q: 'What does the acronym MND stand for?', options: ['Ministry of National Defense', 'Ministry of New Design', 'Military National Division', 'Mainland National Department'], answer: 'Ministry of National Defense' }
                ]
            },
            'trump-greenland-davos': {
                title: 'å·æ™®æ ¼é™µè˜­æ”¶è³¼å ±åƒ¹æµå‡º',
                english: `Leaked reports from a closed-door session at the World Economic Forum in Davos on Thursday suggest that President Trump has delivered a â€œfinal offerâ€ to Danish and European officials regarding the acquisition of Greenland. While the specific dollar amount remains classified, sources indicate the proposal includes a multi-billion dollar â€œsovereign wealth paymentâ€ to Denmark and long-term security guarantees. Trump reportedly warned that if a memorandum of understanding (MoU) is not signed by February 15, the U.S. will immediately implement 20% universal tariffs on all EU-made automobiles and luxury goods. This ultimatum has plunged transatlantic relations to a new low, with EU leaders meeting in Brussels to coordinate an emergency anti-coercion response.`,
                chinese: `å·æ™®é”æ²ƒæ–¯é–‰é–€æœƒè­°æµå‡ºï¼šç¾æ–¹é–‹å‡ºæ”¶è³¼æ ¼é™µè˜­ã€Œæœ€çµ‚å ±åƒ¹ã€ï¼Œå¦å‰‡å•Ÿå‹•å°æ­å…¨ç¨…ã€‚é€±å››å¾é”æ²ƒæ–¯ä¸–ç•Œç¶“æ¿Ÿè«–å£‡é–‰é–€æœƒè­°æµå‡ºçš„å ±å‘Šé¡¯ç¤ºï¼Œå·æ™®ç¸½çµ±å·²å°±æ”¶è³¼æ ¼é™µè˜­ä¸€äº‹ï¼Œå‘ä¸¹éº¥åŠæ­æ´²å®˜å“¡é–‹å‡ºäº†ã€Œæœ€çµ‚å ±åƒ¹ã€ã€‚é›–ç„¶å…·é«”é‡‘é¡ä»å±¬æ©Ÿå¯†ï¼Œä½†æ¶ˆæ¯æŒ‡å‡ºï¼Œæè­°åŒ…æ‹¬å‘ä¸¹éº¥æ”¯ä»˜æ•¸ç™¾å„„ç¾å…ƒçš„ã€Œä¸»æ¬Šè²¡å¯Œæ”¯å‡ºã€åŠé•·æœŸå®‰å…¨ä¿éšœã€‚æ“šå ±å°ï¼Œå·æ™®è­¦å‘Šï¼Œè‹¥åœ¨ 2 æœˆ 15 æ—¥å‰æœªç°½ç½²è«’è§£å‚™å¿˜éŒ„ï¼ˆMoUï¼‰ï¼Œç¾åœ‹å°‡ç«‹å³å°æ‰€æœ‰æ­ç›Ÿè£½é€ çš„æ±½è»ŠåŠå¥¢ä¾ˆå“å¾µæ”¶ 20% çš„é€šç”¨é—œç¨…ã€‚é€™é …æœ€å¾Œé€šç‰’ä½¿è·¨å¤§è¥¿æ´‹é—œä¿‚é™è‡³æ–°ä½ï¼Œæ­ç›Ÿé ˜å°äººæ­£èšé›†åœ¨å¸ƒé­¯å¡çˆ¾ï¼Œå”èª¿ç·Šæ€¥çš„ã€Œåè„…è¿«ã€æ‡‰å°æªæ–½ã€‚`,
                vocabulary: [
                    'Leaked reports (n.phr.): æµå‡ºçš„å ±å‘Š', 'Closed-door session (n.phr.): é–‰é–€æœƒè­°', 'Acquisition (n.): æ”¶è³¼/ç²å¾—', 'Classified (adj.): æ©Ÿå¯†çš„',
                    'Sovereign wealth payment (n.phr.): ä¸»æ¬Šè²¡å¯Œæ”¯å‡º', 'Security guarantees (n.phr.): å®‰å…¨ä¿éšœ', 'Memorandum of understanding (MoU) (n.phr.): è«’è§£å‚™å¿˜éŒ„', 'Universal tariffs (n.phr.): é€šç”¨é—œç¨…',
                    'Automobiles (n.): æ±½è»Š', 'Luxury goods (n.phr.): å¥¢ä¾ˆå“', 'Ultimatum (n.): æœ€å¾Œé€šç‰’', 'Plunged (v.pt.): é™·å…¥/æš´è·Œ',
                    'Transatlantic (adj.): è·¨å¤§è¥¿æ´‹çš„', 'Brussels (n. proper): å¸ƒé­¯å¡çˆ¾ (æ­ç›Ÿç¸½éƒ¨æ‰€åœ¨åœ°)', 'Anti-coercion (adj./n.): åè„…è¿«', 'Coercion (n.): è„…è¿«/å¼·è¿«',
                    'Rhetoric (n.): è¾­ä»¤/ä¿®è¾­', 'Transactional (adj.): äº¤æ˜“å‹çš„', 'Territorial integrity (n.phr.): é ˜åœŸå®Œæ•´', 'Exemption (n.): è±å…',
                    'Retaliation (n.): å ±å¾©', 'Strategic (adj.): ç­–ç•¥æ€§çš„', 'Davos (n. proper): é”æ²ƒæ–¯', 'Forum (n.): è«–å£‡',
                    'Billion (n.): åå„„', 'Sovereignty (n.): ä¸»æ¬Š', 'Exemption (n.): è±å…', 'Relief (n.): æ•‘æ¿Ÿ/æ¸›è¼•',
                    'Precedent (n.): å…ˆä¾‹', 'Coordinated (adj.): å”èª¿çš„', 'Emergency (n.): ç·Šæ€¥æƒ…æ³', 'Negotiations (n.): è«‡åˆ¤'
                ],
                quiz: [
                    { q: 'Where did the leaked reports about Greenland originate?', options: ['The UN', 'Davos (World Economic Forum)', 'The White House', 'The Kremlin'], answer: 'Davos (World Economic Forum)' },
                    { q: 'What territory is at the center of the dispute?', options: ['Iceland', 'Greenland', 'Cuba', 'Ukraine'], answer: 'Greenland' },
                    { q: 'What is the deadline for signing the MoU mentioned by Trump?', options: ['January 1', 'February 1', 'February 15', 'June 1'], answer: 'February 15' },
                    { q: 'What happens if the MoU is not signed by the deadline?', options: ['US leaves NATO', '20% tariffs on EU cars and luxury goods', 'A military strike', 'A new tax on oil'], answer: '20% tariffs on EU cars and luxury goods' },
                    { q: 'The payment offered to Denmark is described as what?', options: ['A personal loan', 'A sovereign wealth payment', 'A monthly rent', 'A food aid package'], answer: 'A sovereign wealth payment' },
                    { q: 'How has this ultimatum affected transatlantic relations?', options: ['Made them stronger', 'Plunged them to a new low', 'No change', 'Ended them completely'], answer: 'Plunged them to a new low' },
                    { q: 'Where are EU leaders meeting to coordinate a response?', options: ['London', 'Paris', 'Brussels', 'Berlin'], answer: 'Brussels' },
                    { q: 'The EU is coordinating an "emergency ______ response."', options: ['Anti-virus', 'Anti-coercion', 'Anti-climate', 'Anti-inflation'], answer: 'Anti-coercion' },
                    { q: 'What does "classified" mean in this context?', options: ['Public', 'Categorized', 'Secret/Not for the public', 'Boring'], answer: 'Secret/Not for the public' },
                    { q: 'The term "ultimatum" refers to what?', options: ['A friendly suggestion', 'A final demand with a threat', 'A type of map', 'A secret deal'], answer: 'A final demand with a threat' },
                    { q: 'What kind of goods, besides cars, will face tariffs?', options: ['Computers', 'Food', 'Luxury goods', 'Medicine'], answer: 'Luxury goods' },
                    { q: 'What does "coercion" involve?', options: ['Helping someone', 'Forcing someone to do something by threats', 'Giving a gift', 'Voting'], answer: 'Forcing someone to do something by threats' },
                    { q: 'Is the specific dollar amount of the offer known to the public?', options: ['Yes', 'No, it remains classified', 'Only in Europe', 'Only in China'], answer: 'No, it remains classified' },
                    { q: 'The word "acquisition" means the act of ______.', options: ['Selling', 'Gaining or buying', 'Ignoring', 'Breaking'], answer: 'Gaining or buying' },
                    { q: 'Which two countries/entities are primarily involved in the negotiation?', options: ['USA and China', 'USA and Denmark/EU', 'Russia and Ukraine', 'UK and France'], answer: 'USA and Denmark/EU' }
                ]
            },
            'ukraine-power-assault': {
                title: 'ä¿„å°çƒæœ€å¤§é›»ç¶²è¥²æ“Š',
                english: `Ukrainian authorities reported on Thursday that Russia launched a coordinated wave of over 150 missiles and drones targeting the nationâ€™s energy infrastructure, described as the largest single assault on the grid since the war began. The strikes hit thermal power plants and substations in Kyiv, Kharkiv, and Odesa, causing immediate and widespread blackouts during a period of freezing temperatures. President Zelenskyy condemned the attack as a â€œpremeditated crime against humanityâ€ and renewed his urgent call for Western allies to provide more Patriot air defense systems. The scale of damage has raised fears of a catastrophic humanitarian crisis as engineers struggle to restore heating and water.`,
                chinese: `ä¿„ç¾…æ–¯å°çƒå…‹è˜­ç™¼å‹•ã€Œæœ€å¤§è¦æ¨¡ã€èƒ½æºè¨­æ–½è¥²æ“Šï¼ŒåŸºè¼”ç­‰åœ°é™·å…¥åœé›»ã€‚çƒå…‹è˜­ç•¶å±€é€±å››å ±å‘Šï¼Œä¿„ç¾…æ–¯ç™¼å‹•äº†ç”± 150 å¤šæšé£›å½ˆå’Œç„¡äººæ©Ÿçµ„æˆçš„å”èª¿æ”»å‹¢ï¼Œé‡å°è©²åœ‹çš„èƒ½æºåŸºç¤è¨­æ–½ï¼Œé€™è¢«æè¿°ç‚ºé–‹æˆ°ä»¥ä¾†å°é›»ç¶²è¦æ¨¡æœ€å¤§çš„å–®æ¬¡è¥²æ“Šã€‚æ”»æ“Šæ“Šä¸­äº†åŸºè¼”ï¼ˆKyivï¼‰ã€å“ˆçˆ¾ç§‘å¤«ï¼ˆKharkivï¼‰å’Œå¥§å¾·è–©ï¼ˆOdesaï¼‰çš„ç«åŠ›ç™¼é›»å» èˆ‡è®Šé›»æ‰€ï¼Œåœ¨å¯’æµæœŸé–“é€ æˆç«‹å³ä¸”å¤§ç¯„åœçš„åœé›»ã€‚æ¾¤å€«æ–¯åŸºç¸½çµ±è­´è²¬é€™æ¬¡è¥²æ“Šæ˜¯ã€Œè“„æ„çš„äººé“ç½ªè¡Œã€ï¼Œä¸¦å†æ¬¡ç·Šæ€¥å‘¼ç±²è¥¿æ–¹ç›Ÿå‹æä¾›æ›´å¤šæ„›åœ‹è€…ï¼ˆPatriotï¼‰é˜²ç©ºç³»çµ±ã€‚ç”±æ–¼å·¥ç¨‹å¸«æ­£åŠªåŠ›æ¢å¾©æ•¸ç™¾è¬å¹³æ°‘çš„æš–æ°£å’Œä¾›æ°´ï¼Œæå®³çš„è¦æ¨¡å¼•ç™¼äº†å°ç½é›£æ€§äººé“å±æ©Ÿçš„æ“”æ†‚ã€‚`,
                vocabulary: [
                    'Coordinated wave (n.phr.): å”èª¿ä¸€è‡´çš„æ”»å‹¢', 'Missiles and drones (n.phr.): é£›å½ˆèˆ‡ç„¡äººæ©Ÿ', 'Energy infrastructure (n.phr.): èƒ½æºåŸºç¤è¨­æ–½', 'Assault on the grid (phr.): å°é›»ç¶²çš„è¥²æ“Š',
                    'Thermal power plants (n.phr.): ç«åŠ›ç™¼é›»å» ', 'Substations (n.): è®Šé›»æ‰€', 'Widespread blackouts (n.phr.): å¤§ç¯„åœåœé›»', 'Freezing temperatures (n.phr.): å¯’å†·/åš´å¯’æ°£æº«',
                    'Premeditated (adj.): è“„æ„çš„/é è¬€çš„', 'Crime against humanity (n.phr.): å±å®³äººé¡ç½ª/äººé“ç½ª', 'Patriot air defense (n.phr.): æ„›åœ‹è€…é˜²ç©ºç³»çµ±', 'Scale of damage (n.phr.): æå®³è¦æ¨¡',
                    'Catastrophic (adj.): ç½é›£æ€§çš„', 'Humanitarian crisis (n.phr.): äººé“å±æ©Ÿ', 'Heating and water services (n.phr.): æš–æ°£èˆ‡ä¾›æ°´æœå‹™', 'Restore (v.): æ¢å¾©',
                    'Civilian lives (n.phr.): å¹³æ°‘ç”Ÿå‘½', 'Degradation (n.): é€€åŒ–/æƒ¡åŒ–', 'Intensifies (v.): åŠ åŠ‡', 'Kamikaze (adj.): è‡ªæ®ºå¼çš„',
                    'Projectiles (n.): æ‹‹å°„ç‰©', 'Intercepted (v.pp.): æ””æˆªçš„', 'Urban centers (n.phr.): åŸå¸‚ä¸­å¿ƒ', 'Sustain (v.): ç¶­æŒ',
                    'Infrastructure (n.): åŸºç¤å»ºè¨­', 'Coordinate (v.): å”èª¿', 'Degrade (v.): é™ç´š/å‰Šå¼±', 'Urgent (adj.): ç·Šæ€¥çš„',
                    'Substation (n.): åˆ†ç«™/è®Šé›»ç«™', 'Outage (n.): åœä¾›', 'Ballistic (adj.): å½ˆé“çš„', 'Drone (n.): ç„¡äººæ©Ÿ'
                ],
                quiz: [
                    { q: 'How many missiles and drones were launched by Russia in this assault?', options: ['50', '100', 'Over 150', '500'], answer: 'Over 150' },
                    { q: 'What was the primary target of the attack?', options: ['Farms', 'Energy infrastructure/Power grid', 'Schools', 'Museums'], answer: 'Energy infrastructure/Power grid' },
                    { q: 'Which cities were specifically mentioned as being hit?', options: ['Kyiv, Kharkiv, and Odesa', 'Moscow and St. Petersburg', 'London and Paris', 'Lviv and Warsaw'], answer: 'Kyiv, Kharkiv, and Odesa' },
                    { q: 'What did the strikes cause across major cities?', options: ['Widespread blackouts', 'Internet speed increases', 'New roads', 'A celebration'], answer: 'Widespread blackouts' },
                    { q: 'How did President Zelenskyy describe the attack?', options: ['"A minor accident"', '"A premeditated crime against humanity"', '"A military success"', '"A seasonal event"'], answer: '"A premeditated crime against humanity"' },
                    { q: 'What specific air defense system did Zelenskyy call for?', options: ['Iron Dome', 'Patriot air defense systems', 'S-400', 'F-16'], answer: 'Patriot air defense systems' },
                    { q: 'What is the current primary struggle for engineers in Ukraine?', options: ['Building new cars', 'Restoring heating and water services', 'Designing AI', 'Selling oil'], answer: 'Restoring heating and water services' },
                    { q: 'The attack is the ______ single assault on the grid since the war began.', options: ['Smallest', 'First', 'Largest', 'Last'], answer: 'Largest' },
                    { q: 'What weather condition makes the blackouts especially dangerous?', options: ['Heatwaves', 'Freezing temperatures', 'Sandstorms', 'High humidity'], answer: 'Freezing temperatures' },
                    { q: 'The term "premeditated" means what?', options: ['Accidental', 'Happening by chance', 'Planned or considered in advance', 'Boring'], answer: 'Planned or considered in advance' },
                    { q: 'What is a "substation" in an electrical context?', options: ['A train station', 'A facility that changes voltage to distribute power', 'A small park', 'A phone charger'], answer: 'A facility that changes voltage to distribute power' },
                    { q: 'The word "coordinated" implies the wave of attacks was ______.', options: ['Random', 'Organized and timed to work together', 'Messy', 'Individual'], answer: 'Organized and timed to work together' },
                    { q: 'The term "grid" refers to which system?', options: ['Water network', 'Electrical power network', 'Road system', 'Internet server'], answer: 'Electrical power network' },
                    { q: 'Ukraine is facing a "catastrophic humanitarian ______."', options: ['Success', 'Crisis', 'Victory', 'Deal'], answer: 'Crisis' },
                    { q: 'Who reported the coordinates of the air assault?', options: ['The Red Cross', 'Russian state media', 'Ukrainian authorities', 'The US Congress'], answer: 'Ukrainian authorities' }
                ]
            },
            'australia-ai-tax': {
                title: 'æ¾³æ´² Meta/Google AI ç¨…',
                english: `The Australian government announced a world-first legislative framework on Thursday that would require tech giants like Meta and Alphabet (Google) to pay a â€œtraining taxâ€ for using Australian-produced content to train their generative AI models. Prime Minister Anthony Albanese stated that the revenue would be used to compensate artists, journalists, and cultural institutions whose intellectual property is being utilized without consent. Tech industry lobbyists warned that the move could lead to the withdrawal of certain AI services, but the government remains firm, arguing that a fair economic model is necessary to ensure the survival of local creative industries in the age of automation.`,
                chinese: `æ¾³æ´²æ”¿åºœå®£å¸ƒå°‡å° Meta èˆ‡ Google å¾µæ”¶ã€ŒAI å…§å®¹è¨“ç·´ç¨…ã€ã€‚æ¾³æ´²æ”¿åºœé€±å››å®£å¸ƒäº†ä¸€é …å…¨çƒé¦–å‰µçš„ç«‹æ³•æ¡†æ¶ï¼Œè¦æ±‚å¦‚ Meta å’Œ Alphabetï¼ˆGoogleï¼‰ç­‰ç§‘æŠ€å·¨é ­ï¼Œåœ¨åˆ©ç”¨æ¾³æ´²ç”¢å‡ºçš„å…§å®¹è¨“ç·´å…¶ç”Ÿæˆå¼ AI æ¨¡å‹æ™‚ï¼Œå¿…é ˆæ”¯ä»˜ã€Œè¨“ç·´ç¨…ã€ã€‚ç¸½ç†è‰¾ç­å°¼æ–¯ï¼ˆAnthony Albaneseï¼‰è¡¨ç¤ºï¼Œé€™ç­†æ”¶å…¥å°‡ç”¨æ–¼è£œå„Ÿé‚£äº›æ™ºæ…§è²¡ç”¢æ¬Šåœ¨æœªç¶“åŒæ„çš„æƒ…æ³ä¸‹è¢«ä½¿ç”¨çš„è—è¡“å®¶ã€è¨˜è€…å’Œæ–‡åŒ–æ©Ÿæ§‹ã€‚ç§‘æŠ€ç”¢æ¥­èªªå®¢è­¦å‘Šï¼Œæ­¤èˆ‰å¯èƒ½å°è‡´æŸäº› AI æœå‹™æ’¤å‡ºæ¾³æ´²å¸‚å ´ï¼Œä½†æ”¿åºœç«‹å ´å …å®šï¼Œèªç‚ºåœ¨è‡ªå‹•åŒ–æ™‚ä»£ï¼Œå…¬å¹³çš„ç¶“æ¿Ÿæ¨¡å¼å°æ–¼ç¢ºä¿æœ¬åœŸå‰µæ„ç”¢æ¥­çš„ç”Ÿå­˜è‡³é—œé‡è¦ã€‚`,
                vocabulary: [
                    'World-first (adj.): ä¸–ç•Œé¦–å‰µçš„', 'Legislative framework (n.phr.): ç«‹æ³•æ¡†æ¶', 'Tech giants (n.phr.): ç§‘æŠ€å·¨é ­', 'Training tax (n.phr.): è¨“ç·´ç¨…',
                    'Generative AI (n.phr.): ç”Ÿæˆå¼ AI', 'Revenue (n.): æ”¶å…¥/ç¨…æ”¶', 'Compensate (v.): è£œå„Ÿ', 'Intellectual property (n.phr.): æ™ºæ…§è²¡ç”¢æ¬Š',
                    'Consent (n.): åŒæ„', 'Remuneration (n.): å ±é…¬/é…¬é‡‘', 'Lobbyists (n.): èªªå®¢', 'Withdrawal (n.): æ’¤å‡º/é€€å‡º',
                    'Firm (adj.): å …å®šçš„', 'Survival (n.): ç”Ÿå­˜', 'Creative industries (n.phr.): å‰µæ„ç”¢æ¥­', 'Automation (n.): è‡ªå‹•åŒ–',
                    'Framework (n.): æ¡†æ¶/æ¶æ§‹', 'Revenue (n.): æ­²å…¥', 'Artist (n.): è—è¡“å®¶', 'Journalist (n.): è¨˜è€…',
                    'Compensation (n.): è£œå„Ÿé‡‘', 'Intellectual (adj.): æ™ºåŠ›çš„', 'Property (n.): è²¡ç”¢', 'Utilization (n.): åˆ©ç”¨',
                    'Withdraw (v.): æ’¤å›', 'Automation (n.): è‡ªå‹•åŒ–', 'Junta (from earlier context) (n.): è»æ”¿åºœ', 'Compensate (v.): è³ å„Ÿ'
                ],
                quiz: [
                    { q: 'Which two tech giants are specifically named as targets of the AI tax?', options: ['Apple and Microsoft', 'Meta and Alphabet (Google)', 'NVIDIA and Tesla', 'TikTok and Amazon'], answer: 'Meta and Alphabet (Google)' },
                    { q: 'What activity is being taxed in Australia?', options: ['Selling ads', 'Using local content to train AI models', 'Buying computers', 'Hiring workers'], answer: 'Using local content to train AI models' },
                    { q: 'Who is the Prime Minister of Australia mentioned?', options: ['Keir Starmer', 'Anthony Albanese', 'Gabriel Boric', 'Pedro SÃ¡nchez'], answer: 'Anthony Albanese' },
                    { q: 'The tax revenue will be used to compensate which group?', options: ['Bankers', 'Artists, journalists, and cultural institutions', 'Factory workers', 'Government officials'], answer: 'Artists, journalists, and cultural institutions' },
                    { q: 'What warning did tech industry lobbyists give?', options: ['Lower tax rates', 'Withdrawal of certain AI services from Australia', 'Higher salaries', 'New office buildings'], answer: 'Withdrawal of certain AI services from Australia' },
                    { q: 'Why does the government believe this tax is necessary?', options: ['To pay for the military', 'To ensure the survival of local creative industries', 'To stop the internet', 'To lower oil prices'], answer: 'To ensure the survival of local creative industries' },
                    { q: 'The content is being used "without ______," according to the PM.', options: ['Cameras', 'Consent', 'Electricity', 'Speed'], answer: 'Consent' },
                    { q: 'The tax applies to the training of ______ AI models.', options: ['Manual', 'Generative', 'Old', 'Silent'], answer: 'Generative' },
                    { q: 'What is "intellectual property"?', options: ['A house or land', 'Ownership of creations of the mind', 'A type of money', 'A government office'], answer: 'Ownership of creations of the mind' },
                    { q: 'What does "firm" mean regarding the government\'s stance?', options: ['Soft and weak', 'Hard and steady/unyielding', 'Moving fast', 'Confused'], answer: 'Hard and steady/unyielding' },
                    { q: 'The term "automation" refers to which age?', options: ['Stone age', 'Industrial age', 'Age of automation (using machines for labor)', 'Golden age'], answer: 'Age of automation (using machines for labor)' },
                    { q: 'What is a "lobbyist"?', options: ['A person who tries to influence government decisions', 'A hotel worker', 'A police officer', 'A news reporter'], answer: 'A person who tries to influence government decisions' },
                    { q: 'The framework is "world-first," meaning ______.', options: ['It exists everywhere', 'It is the first of its kind in the world', 'It is the oldest', 'It is the worst'], answer: 'It is the first of its kind in the world' },
                    { q: 'What is "remuneration"?', options: ['A gift', 'Payment for work or service', 'A type of tool', 'A meeting'], answer: 'Payment for work or service' },
                    { q: 'Is the Australian government backing down due to lobbyists?', options: ['Yes', 'No, they remain firm', 'Only in part', 'They are thinking about it'], answer: 'No, they remain firm' }
                ]
            },
            'nvidia-eos-chip': {
                title: 'è¼é”ä½åŠŸè€— AI æ™¶ç‰‡ç™¼å¸ƒ',
                english: `Shares of NVIDIA (NVDA) rose significantly on Thursday after the company unveiled its new â€œEosâ€ architecture, a lineup of AI chips designed specifically for low-power edge computing and mobile devices. CEO Jensen Huang stated that the Eos chips deliver twice the performance of previous models while consuming 40% less energy, addressing a major bottleneck in the widespread deployment of AI in consumer electronics. The announcement has bolstered investor confidence in NVIDIAâ€™s ability to dominate the rapidly growing sector of â€œon-deviceâ€ AI, keeping the company at the forefront of the global tech rally.`,
                chinese: `è¼é”ï¼ˆNVIDIAï¼‰è‚¡åƒ¹å¤§æ¼² 4.5%ï¼šå—æƒ æ–¼æ–°ä¸€ä»£ã€Œä½åŠŸè€— AI æ™¶ç‰‡ã€ç™¼å¸ƒã€‚é€±å››è¼é”è‚¡åƒ¹é¡¯è‘—ä¸Šæ¼²ï¼Œæ­¤å‰è©²å…¬å¸å…¬ä½ˆäº†å…¶å…¨æ–°çš„ã€ŒEosã€æ¶æ§‹ï¼Œé€™æ˜¯ä¸€ç³»åˆ—å°ˆç‚ºä½åŠŸè€—é‚Šç·£é‹ç®—åŠè¡Œå‹•è£ç½®è¨­è¨ˆçš„ AI æ™¶ç‰‡ã€‚åŸ·è¡Œé•·é»ƒä»å‹³è¡¨ç¤ºï¼ŒEos æ™¶ç‰‡èƒ½æä¾›æ¯”å‰ä»£å‹è™Ÿé«˜å‡ºå…©å€çš„æ•ˆèƒ½ï¼ŒåŒæ™‚æ¸›å°‘ 40% çš„èƒ½è€—ï¼Œè§£æ±ºäº† AI åœ¨æ¶ˆè²»é›»å­ç”¢å“ä¸­å»£æ³›éƒ¨ç½²çš„ä¸»è¦ç“¶é ¸ã€‚é€™é …å…¬å‘Šå¢å¼·äº†æŠ•è³‡è€…å°è¼é”ä¸»å°å¿«é€Ÿæˆé•·ä¹‹ã€Œè£ç½®ç«¯ï¼ˆon-deviceï¼‰ã€AI é ˜åŸŸèƒ½åŠ›çš„ä¿¡å¿ƒï¼Œä½¿è©²å…¬å¸æŒçºŒè™•æ–¼å…¨çƒç§‘æŠ€è‚¡æ¼²å‹¢çš„å‰ç·šã€‚`,
                vocabulary: [
                    'Shares (n.): è‚¡ç¥¨/è‚¡ä»½', 'Significantly (adv.): é¡¯è‘—åœ°', 'Unveiled (v.pt.): å…¬å¸ƒ/æ­å¹•', 'Architecture (n.): æ¶æ§‹',
                    'Lineup (n.): é™£å®¹/ç”¢å“ç³»åˆ—', 'Low-power (adj.): ä½åŠŸè€—çš„', 'Edge computing (n.phr.): é‚Šç·£é‹ç®—', 'Performance (n.): æ•ˆèƒ½/æ€§èƒ½',
                    'Consuming (v.ger.): æ¶ˆè€—', 'Bottleneck (n.): ç“¶é ¸', 'Deployment (n.): éƒ¨ç½²', 'Consumer electronics (n.phr.): æ¶ˆè²»é›»å­ç”¢å“',
                    'Bolstered (v.pt.): å¢å¼·/æ”¯æŒ', 'Investor confidence (n.phr.): æŠ•è³‡è€…ä¿¡å¿ƒ', 'Dominate (v.): ä¸»å°/çµ±æ²»', 'On-device AI (n.phr.): è£ç½®ç«¯ AI',
                    'Forefront (n.): å‰ç·š/æœ€å‰æ²¿', 'Tech rally (n.phr.): ç§‘æŠ€è‚¡æ¼²å‹¢', 'Unprecedented (adj.): å‰æ‰€æœªæœ‰çš„', 'Architecture (n.): å»ºç¯‰å­¸/æ¶æ§‹',
                    'Mobile devices (n.phr.): è¡Œå‹•è£ç½®', 'Previous models (n.phr.): å‰ä»£å‹è™Ÿ', 'Energy consumption (n.phr.): èƒ½æºæ¶ˆè€—', 'Sector (n.): é ˜åŸŸ/éƒ¨é–€',
                    'Rapidly growing (adj.phr.): å¿«é€Ÿå¢é•·çš„', 'Dominant (adj.): ä½”å„ªå‹¢çš„', 'Rally (n.): (è‚¡å¸‚) å›å‡', 'Efficiency (n.): æ•ˆç‡',
                    'Hardware (n.): ç¡¬é«”', 'Bottleneck (n.): éšœç¤™/ç“¶é ¸', 'Performance (n.): è¡¨ç¾', 'Dominate (v.): æ”¯é…'
                ],
                quiz: [
                    { q: 'What is the name of NVIDIA\'s new AI chip architecture?', options: ['Apollo', 'Eos', 'Titan', 'Zeus'], answer: 'Eos' },
                    { q: 'For which specific purpose are the Eos chips designed?', options: ['Data centers only', 'Low-power edge computing and mobile devices', 'Only for desktop computers', 'Only for military ships'], answer: 'Low-power edge computing and mobile devices' },
                    { q: 'How much more performance do Eos chips deliver compared to previous models?', options: ['Half', 'Same', 'Twice', 'Five times'], answer: 'Twice' },
                    { q: 'What is the energy reduction percentage of the Eos chips?', options: ['10%', '25%', '40%', '75%'], answer: '40%' },
                    { q: 'Who is the CEO of NVIDIA mentioned in the text?', options: ['Elon Musk', 'Jensen Huang', 'Shou Zi Chew', 'Mark Zuckerberg'], answer: 'Jensen Huang' },
                    { q: 'What major bottleneck does the new chip address?', options: ['High prices', 'Widespread deployment of AI in consumer electronics', 'Small screen sizes', 'Lack of software'], answer: 'Widespread deployment of AI in consumer electronics' },
                    { q: 'The chips focus on which growing sector of AI?', options: ['Cloud-based AI', 'On-device AI', 'History of AI', 'AI for space only'], answer: 'On-device AI' },
                    { q: 'How did NVIDIA\'s stock react to the announcement?', options: ['It dropped', 'It rose significantly', 'No change', 'It was suspended'], answer: 'It rose significantly' },
                    { q: 'The term "at the forefront" means which of the following?', options: ['At the back', 'In the most leading position', 'Hidden from view', 'In the middle'], answer: 'In the most leading position' },
                    { q: 'What are "consumer electronics"?', options: ['Tractors and cranes', 'Devices like phones, laptops, and smart TVs', 'Military missiles', 'Power plants'], answer: 'Devices like phones, laptops, and smart TVs' },
                    { q: 'What does "bolstered" mean?', options: ['Weakened', 'Strengthened or supported', 'Ignored', 'Broken'], answer: 'Strengthened or supported' },
                    { q: 'The word "architecture" in computing refers to what?', options: ['Building design', 'The design and structure of a computer system', 'A type of screen', 'Painting styles'], answer: 'The design and structure of a computer system' },
                    { q: 'What is "edge computing"?', options: ['Computing done only in the office', 'Computing done near the source of data/device', 'Cutting paper', 'Computing at the end of the day'], answer: 'Computing done near the source of data/device' },
                    { q: 'NVIDIA is aiming to dominate not just data centers but also ______.', options: ['Farming', 'On-device AI', 'Clothing', 'Water supply'], answer: 'On-device AI' },
                    { q: 'Which day was the Eos architecture unveiled?', options: ['Monday', 'Tuesday', 'Wednesday', 'Thursday'], answer: 'Thursday' }
                ]
            }
        };

        // --- STATE & RENDERING LOGIC ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº« (${data.vocabulary.length})</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢ºç­”æ¡ˆ)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢ºç­”æ¡ˆ)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>