<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2025 å¹´ 12 æœˆ 30 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2025 å¹´ 12 æœˆ 30 æ—¥é ­æ¢ï¼šè»æ¼”ã€å¤©ç½èˆ‡åœ‹éš›å±€å‹¢</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs for News Topics -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for an immersive English news learning experience. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE: NEWS CONTENT ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] PLA Launches Large-Scale Drills Around Taiwan\nIn local news, the PLA Eastern Theater Command announced that it will hold "Justice Mission-2025" exercises in the waters around Taiwan starting December 29th. The scope covers the Taiwan Strait and waters north, southwest, southeast, and east of the island. Live-fire drills are scheduled for December 30th from 8 am to 6 pm. The Presidential Office stated that given the high tension across the strait, the military is closely monitoring the situation to maintain national security.\n\n[2] Earthquake Shakes Taiwan Chip Plants\nA magnitude 7.0 earthquake occurred off the coast of Yilan late on the 27th, causing damage to some semiconductor plants in Hsinchu. Quartz furnace components and wafers were affected, forcing equipment shutdowns and recalibration. Losses could reach tens of billions of NT dollars, but industry insiders expect production to resume within days. Since insurance claims are available, the losses are considered controllable.\n\n[3] Lai Rejects Legislature Q&A\nPresident Lai Ching-te stated that he is willing to deliver a state of the nation report at the Legislative Yuan in accordance with the Constitution, but cannot accept a Q&A session, citing the Constitutional Court's ruling. He warned that forcibly breaking this precedent would undermine Taiwan's constitutional system. Lai also refuted the opposition's impeachment calls and stated that society will judge them.`,
                chinese: `ã€1ã€‘è§£æ”¾è»åœ¨å°ç£å‘¨é‚Šç™¼å‹•å¤§è¦æ¨¡è»æ¼”\nåœ¨æœ¬åœ°æ–°èä¸­ï¼Œè§£æ”¾è»æ±éƒ¨æˆ°å€å®£å¸ƒå°‡å¾12æœˆ29æ—¥é–‹å§‹åœ¨å°ç£å‘¨é‚Šæµ·åŸŸèˆ‰è¡Œã€Œæ­£ç¾©ä½¿å‘½-2025ã€æ¼”ç¿’ã€‚ç¯„åœæ¶µè“‹å°ç£æµ·å³½åŠå³¶å¶¼åŒ—éƒ¨ã€è¥¿å—ã€æ±å—å’Œä»¥æ±æµ·åŸŸã€‚å¯¦å½ˆæ¼”ç¿’é è¨ˆæ–¼12æœˆ30æ—¥ä¸Šåˆ8é»è‡³ä¸‹åˆ6é»èˆ‰è¡Œã€‚ç¸½çµ±åºœè¡¨ç¤ºï¼Œé‘‘æ–¼æµ·å³½å…©å²¸å±€å‹¢é«˜åº¦ç·Šå¼µï¼Œåœ‹è»æ­£åš´å¯†ç›£æ§æƒ…å‹¢ä»¥ç¶­è­·åœ‹å®¶å®‰å…¨ã€‚\n\nã€2ã€‘åœ°éœ‡æ’¼å‹•å°ç£æ™¶ç‰‡å·¥å» \n27æ—¥æ·±å¤œå®œè˜­è¿‘æµ·ç™¼ç”Ÿè¦æ¨¡7.0åœ°éœ‡ï¼Œå°è‡´æ–°ç«¹éƒ¨åˆ†åŠå°é«”å» å—æã€‚çŸ³è‹±çˆç®¡çµ„ä»¶åŠæ™¶åœ“å—åˆ°å½±éŸ¿ï¼Œè¿«ä½¿è¨­å‚™åœæ©Ÿä¸¦é‡æ–°æ ¡æº–ã€‚æå¤±å¯èƒ½é”æ•¸ç™¾å„„æ–°å°å¹£ï¼Œä½†æ¥­å…§äººå£«é è¨ˆç”Ÿç”¢å°‡åœ¨æ•¸æ—¥å…§æ¢å¾©ã€‚ç”±æ–¼æœ‰ä¿éšªç†è³ ï¼Œæå¤±è¢«èªç‚ºæ˜¯å¯æ§çš„ã€‚\n\nã€3ã€‘è³´æ¸…å¾·æ‹’çµ•ç«‹æ³•é™¢å³å•å³ç­”\nè³´æ¸…å¾·ç¸½çµ±è¡¨ç¤ºï¼Œä»–é¡˜æ„ä¾ç…§æ†²æ³•èµ´ç«‹æ³•é™¢é€²è¡Œåœ‹æƒ…å ±å‘Šï¼Œä½†å¼•ç”¨æ†²æ³•æ³•åº­è£å®šï¼Œè¡¨ç¤ºç„¡æ³•æ¥å—è³ªè©¢ï¼ˆå³å•å³ç­”ï¼‰ç’°ç¯€ã€‚ä»–è­¦å‘Šï¼Œå¼·è¡Œæ‰“ç ´é€™ä¸€å…ˆä¾‹å°‡ç ´å£å°ç£çš„æ†²æ”¿é«”åˆ¶ã€‚è³´æ¸…å¾·ä¹Ÿé§æ–¥äº†åœ¨é‡é»¨çš„å½ˆåŠ¾å‘¼ç±²ï¼Œä¸¦è¡¨ç¤ºç¤¾æœƒå°‡å°æ­¤åšå‡ºè©•åˆ¤ã€‚`,
                vocabulary: [
                    'PLA (People\'s Liberation Army) (n. proper): è§£æ”¾è»', 'Large-Scale Drills (n.phr.): å¤§è¦æ¨¡æ¼”ç¿’', 'Eastern Theater Command (n. proper): æ±éƒ¨æˆ°å€', 'Justice Mission (n. proper): æ­£ç¾©ä½¿å‘½',
                    'waters around (n.phr.): å‘¨é‚Šæµ·åŸŸ', 'scope (n.): ç¯„åœ', 'Taiwan Strait (n. proper): å°ç£æµ·å³½', 'Live-fire drills (n.phr.): å¯¦å½ˆæ¼”ç¿’',
                    'scheduled (v.pp.): é å®šçš„', 'monitoring (v.ger.): ç›£æ§', 'national security (n.phr.): åœ‹å®¶å®‰å…¨', 'magnitude 7.0 (n.phr.): è¦æ¨¡7.0',
                    'off the coast (phr.): è¿‘æµ·', 'semiconductor plants (n.phr.): åŠå°é«”å·¥å» ', 'Quartz furnace (n.phr.): çŸ³è‹±çˆç®¡', 'wafers (n.): æ™¶åœ“',
                    'recalibration (n.): é‡æ–°æ ¡æº–', 'tens of billions (n.phr.): æ•¸ç™¾å„„', 'insiders (n.): æ¥­å…§äººå£«', 'resume (v.): æ¢å¾©',
                    'insurance claims (n.phr.): ä¿éšªç†è³ ', 'controllable (adj.): å¯æ§çš„', 'deliver a report (phr.): é€²è¡Œå ±å‘Š', 'in accordance with (prep.): ä¾ç…§/æ ¹æ“š',
                    'Q&A session (n.phr.): è³ªè©¢ç’°ç¯€/å•ç­”ç’°ç¯€', 'Constitutional Court (n. proper): æ†²æ³•æ³•åº­', 'ruling (n.): è£å®š', 'forcibly (adv.): å¼·è¡Œåœ°',
                    'undermine (v.): ç ´å£/å‰Šå¼±', 'refuted (v.): é§æ–¥', 'impeachment (n.): å½ˆåŠ¾', 'judge (v.): è©•åˆ¤/å¯©åˆ¤'
                ],
                quiz: [
                    { q: 'When do the PLA "Justice Mission-2025" exercises begin?', options: ['December 19th', 'December 27th', 'December 29th', 'January 1st'], answer: 'December 29th' },
                    { q: 'The scope of the military drills covers all EXCEPT which area?', options: ['Taiwan Strait', 'Waters north of the island', 'Hainan Island', 'Waters east of the island'], answer: 'Hainan Island' },
                    { q: 'What time are the live-fire drills scheduled for on December 30th?', options: ['8 am to 8 pm', '8 am to 6 pm', '10 am to 4 pm', 'All day long'], answer: '8 am to 6 pm' },
                    { q: 'What was the magnitude of the earthquake off Yilan?', options: ['6.0', '7.0', '7.5', '8.0'], answer: '7.0' },
                    { q: 'Which components in semiconductor plants were specifically mentioned as damaged?', options: ['Computers', 'Quartz furnace components and wafers', 'Office furniture', 'Shipping trucks'], answer: 'Quartz furnace components and wafers' },
                    { q: 'How long do industry insiders expect it will take for production to resume?', options: ['Months', 'Weeks', 'Within days', 'Immediately'], answer: 'Within days' },
                    { q: 'Why are the earthquake losses considered "controllable"?', options: ['They were very small.', 'The government will pay for everything.', 'Insurance claims are available.', 'No equipment was broken.'], answer: 'Insurance claims are available.' },
                    { q: 'President Lai is willing to deliver what type of report at the Legislative Yuan?', options: ['A budget report', 'A state of the nation report', 'A personal diary', 'A military plan'], answer: 'A state of the nation report' },
                    { q: 'Why does President Lai reject a Q&A session?', options: ['He is too busy.', 'He cited the Constitutional Court\'s ruling.', 'He doesn\'t like the opposition.', 'The Constitution forbids speaking.'], answer: 'He cited the Constitutional Court\'s ruling.' },
                    { q: 'What did Lai warn would happen if the precedent was forcibly broken?', options: ['It would help the economy.', 'It would undermine the constitutional system.', 'It would lead to new elections.', 'It would stop the military drills.'], answer: 'It would undermine the constitutional system.' },
                    { q: 'The term "premeditated" (from earlier news) applies to the Taipei attack, what term describes the earthquake?', options: ['Premeditated', 'Scheduled', 'Natural occurrence', 'Drill'], answer: 'Natural occurrence' },
                    { q: 'Which city has the semiconductor plants that were affected?', options: ['Taipei', 'Hsinchu', 'Kaohsiung', 'Tainan'], answer: 'Hsinchu' },
                    { q: 'The Presidential Office says the military is doing what regarding the drills?', options: ['Ignoring them', 'Closely monitoring the situation', 'Joining the exercises', 'Launching a counter-attack'], answer: 'Closely monitoring the situation' },
                    { q: 'The word "refuted" means what?', options: ['Agreed with', 'Ignored', 'Proved wrong or denied', 'Supported'], answer: 'Proved wrong or denied' },
                    { q: 'The total losses from the earthquake could reach how much?', options: ['NT$1 million', 'NT$100 million', 'Tens of billions of NT dollars', 'Nothing'], answer: 'Tens of billions of NT dollars' }
                ]
            },
            'japan-factory-attack': {
                title: 'æ—¥æœ¬å·¥å» éš¨æ©ŸæŒåˆ€æ”»æ“Š',
                english: `Knife Attack at Japanese Factory. A random attack occurred at a tire factory in central Japan on Friday. A man stabbed eight people, and seven others were reportedly injured by splashed bleach. Police have arrested the suspect, and the motive is currently unclear. The incident took place at a Yokohama Rubber factory in Mishima City, Shizuoka Prefecture, west of Tokyo. The fire department stated that five of the stabbed victims were seriously injured, while all injured were conscious when sent to the hospital. Shizuoka police said the suspect is a 38-year-old man arrested for attempted murder. Kyodo News, citing investigative sources, reported that the suspect is believed to be a former employee. Investigators said he was carrying a survival knife and wearing equipment resembling a gas mask.`,
                chinese: `æ—¥æœ¬å·¥å» éš¨æ©ŸæŒåˆ€æ”»æ“Šäº‹ä»¶ã€‚é€±äº”ï¼Œæ—¥æœ¬ä¸­éƒ¨çš„ä¸€å®¶è¼ªèƒå·¥å» ç™¼ç”Ÿéš¨æ©Ÿæ”»æ“Šäº‹ä»¶ã€‚ä¸€åç”·å­åˆºå‚·äº† 8 äººï¼Œæ“šå ±å°å¦æœ‰ 7 äººè¢«æ¿ºå‡ºçš„æ¼‚ç™½æ°´å¼„å‚·ã€‚è­¦æ–¹å·²é€®æ•å«ŒçŠ¯ï¼Œç›®å‰å‹•æ©Ÿå°šä¸æ¸…æ¥šã€‚é€™èµ·äº‹ä»¶ç™¼ç”Ÿåœ¨æ±äº¬ä»¥è¥¿éœå²¡ç¸£ä¸‰å³¶å¸‚çš„æ©«æ¿±æ©¡è† å·¥å» ã€‚æ¶ˆé˜²éƒ¨é–€è¡¨ç¤ºï¼Œè¢«åˆºå‚·çš„å—å®³è€…ä¸­æœ‰ 5 äººé‡å‚·ï¼Œæ‰€æœ‰å‚·è€…åœ¨é€é†«æ™‚æ„è­˜æ¸…é†’ã€‚éœå²¡è­¦æ–¹è¡¨ç¤ºï¼Œå«ŒçŠ¯æ˜¯ä¸€å 38 æ­²ç”·å­ï¼Œå› æ¶‰å«Œè¬€æ®ºæœªé‚è¢«æ•ã€‚å…±åŒç¤¾å¼•è¿°èª¿æŸ¥æ¶ˆæ¯äººå£«çš„è©±å ±å°ç¨±ï¼Œå«ŒçŠ¯è¢«èªç‚ºæ˜¯è©²å·¥å» çš„å‰å“¡å·¥ã€‚èª¿æŸ¥äººå“¡è¡¨ç¤ºï¼Œä»–ç•¶æ™‚å¸¶è‘—ä¸€æŠŠæ±‚ç”Ÿåˆ€ï¼Œä¸¦ç©¿æˆ´è‘—é¡ä¼¼é˜²æ¯’é¢å…·çš„è£å‚™ã€‚`,
                vocabulary: [
                    'Knife Attack (n.phr.): æŒåˆ€æ”»æ“Š', 'random attack (n.phr.): éš¨æ©Ÿæ”»æ“Š', 'tire factory (n.phr.): è¼ªèƒå·¥å» ', 'central Japan (n. proper): æ—¥æœ¬ä¸­éƒ¨',
                    'stabbed (v.): åˆºå‚·', 'splashed (v.): å™´æ¿º', 'bleach (n.): æ¼‚ç™½æ°´', 'suspect (n.): å«Œç–‘äºº', 'motive (n.): å‹•æ©Ÿ',
                    'unclear (adj.): ä¸æ¸…æ¥šçš„', 'Yokohama Rubber (n. proper): æ©«æ¿±æ©¡è† ', 'Shizuoka Prefecture (n. proper): éœå²¡ç¸£', 'Mishima City (n. proper): ä¸‰å³¶å¸‚',
                    'seriously injured (adj.phr.): é‡å‚·', 'conscious (adj.): æ„è­˜æ¸…é†’çš„', 'attempted murder (n.phr.): è¬€æ®ºæœªé‚', 'Kyodo News (n. proper): å…±åŒç¤¾',
                    'citing (v.ger.): å¼•ç”¨', 'investigative sources (n.phr.): èª¿æŸ¥æ¶ˆæ¯ä¾†æº', 'former employee (n.phr.): å‰å“¡å·¥', 'survival knife (n.phr.): æ±‚ç”Ÿåˆ€',
                    'resembling (v.ger.): é¡ä¼¼æ–¼', 'gas mask (n.phr.): é˜²æ¯’é¢å…·', 'arrested (v.pp.): è¢«æ•çš„', 'incident (n.): äº‹ä»¶', 'attacker (n.): æ”»æ“Šè€…'
                ],
                quiz: [
                    { q: 'Where did the knife attack occur?', options: ['A car factory', 'A tire factory', 'A food market', 'A school'], answer: 'A tire factory' },
                    { q: 'How many people were stabbed in total?', options: ['5', '7', '8', '15'], answer: '8' },
                    { q: 'How were seven other people injured besides being stabbed?', options: ['By a fire', 'By splashed bleach', 'By a car crash', 'By smoke bombs'], answer: 'By splashed bleach' },
                    { q: 'Which company owns the factory where the attack happened?', options: ['Toyota', 'Sony', 'Yokohama Rubber', 'Mitsubishi'], answer: 'Yokohama Rubber' },
                    { q: 'In which prefecture is Mishima City located?', options: ['Tokyo', 'Osaka', 'Shizuoka', 'Hokkaido'], answer: 'Shuizuoka' },
                    { q: 'What is the age of the suspect?', options: ['27', '38', '45', '50'], answer: '38' },
                    { q: 'The suspect was arrested for what specific charge?', options: ['Theft', 'Trespassing', 'Attempted murder', 'Vandalism'], answer: 'Attempted murder' },
                    { q: 'Who is the suspect believed to be?', options: ['A current manager', 'A tourist', 'A former employee', 'A delivery driver'], answer: 'A former employee' },
                    { q: 'What kind of equipment was the suspect wearing?', options: ['A military uniform', 'A gas mask-like equipment', 'A clown costume', 'Heavy armor'], answer: 'A gas mask-like equipment' },
                    { q: 'What kind of knife did the attacker carry?', options: ['A kitchen knife', 'A pocket knife', 'A survival knife', 'A pair of scissors'], answer: 'A survival knife' },
                    { q: 'Were the victims conscious when sent to the hospital?', options: ['No, all were unconscious.', 'Only the suspect was.', 'Yes, all were conscious.', 'The text doesn\'t say.'], answer: 'Yes, all were conscious.' },
                    { q: 'Which news agency reported the details about the suspect being a former employee?', options: ['BBC', 'CNN', 'Kyodo News', 'Reuters'], answer: 'Kyodo News' },
                    { q: 'The attack occurred in which part of Japan?', options: ['Northern', 'Central', 'Southern', 'Western'], answer: 'Central' },
                    { q: 'What does "motive" mean?', options: ['A type of car', 'The reason for doing something', 'A large building', 'A tool for cutting'], answer: 'The reason for doing something' },
                    { q: 'What does "attempted" mean in "attempted murder"?', options: ['Successfully finished', 'Tried but didn\'t succeed', 'Refused to do', 'Planned but never started'], answer: 'Tried but didn\'t succeed' }
                ]
            },
            'thai-cambodia-ceasefire': {
                title: 'æ³°æŸ¬ç°½ç½²åœç«å”è­°',
                english: `Thailand and Cambodia Sign Ceasefire. Thailand and Cambodia signed a ceasefire agreement on Saturday, ending weeks of armed conflict along the border over territorial sovereignty disputes. The agreement requires both sides to cease military movements and prohibits infringing on each other's airspace for military purposes. According to the Thai Defense Ministry, only Thailand used airstrikes, with the latest attack occurring on Saturday morning. Another key provision requires Thailand to repatriate 18 Cambodian soldiers detained since July, 72 hours after the ceasefire holds. The initial ceasefire was brokered by Malaysia under pressure from US President Trump, who threatened to withdraw trade preferences. Despite the agreement, both countries continued propaganda wars, and sporadic cross-border violence escalated into large-scale fighting in early December.`,
                chinese: `æ³°åœ‹èˆ‡æŸ¬åŸ”å¯¨ç°½ç½²åœç«å”è­°ã€‚æ³°åœ‹å’ŒæŸ¬åŸ”å¯¨æ–¼é€±å…­ç°½ç½²äº†åœç«å”è­°ï¼ŒçµæŸäº†æ²¿é‚Šå¢ƒå› é ˜åœŸä¸»æ¬Šçˆ­ç«¯è€ŒæŒçºŒæ•¸é€±çš„æ­¦è£è¡çªã€‚å”è­°è¦æ±‚é›™æ–¹åœæ­¢è»äº‹è¡Œå‹•ï¼Œä¸¦ç¦æ­¢å‡ºæ–¼è»äº‹ç›®çš„ä¾µçŠ¯å½¼æ­¤é ˜ç©ºã€‚æ ¹æ“šæ³°åœ‹åœ‹é˜²éƒ¨èªªæ³•ï¼Œåªæœ‰æ³°åœ‹ä½¿ç”¨äº†ç©ºè¥²ï¼Œæœ€è¿‘ä¸€æ¬¡æ”»æ“Šç™¼ç”Ÿåœ¨é€±å…­ä¸Šåˆã€‚å¦ä¸€é …é—œéµæ¢æ¬¾è¦æ±‚æ³°åœ‹åœ¨åœç«ç”Ÿæ•ˆå¾Œ 72 å°æ™‚å…§ï¼Œé£è¿”è‡ª 7 æœˆä»¥ä¾†æ‰£ç•™çš„ 18 åæŸ¬åŸ”å¯¨å£«å…µã€‚æœ€åˆçš„åœç«å”è­°æ˜¯ç”±é¦¬ä¾†è¥¿äºåœ¨ç¾åœ‹ç¸½çµ±å·æ™®çš„å£“åŠ›ä¸‹ä¿ƒæˆçš„ï¼Œå·æ™®å¨è„…è¦å–æ¶ˆè²¿æ˜“å„ªæƒ å¾…é‡ã€‚å„˜ç®¡é”æˆäº†å”è­°ï¼Œå…©åœ‹ä»ç¹¼çºŒé€²è¡Œå®£å‚³æˆ°ï¼Œé›¶æ˜Ÿçš„è·¨å¢ƒæš´åŠ›åœ¨ 12 æœˆåˆå‡ç´šç‚ºå¤§è¦æ¨¡æˆ°é¬¥ã€‚`,
                vocabulary: [
                    'ceasefire agreement (n.phr.): åœç«å”è­°', 'armed conflict (n.phr.): æ­¦è£è¡çª', 'territorial sovereignty (n.phr.): é ˜åœŸä¸»æ¬Š',
                    'disputes (n.): çˆ­ç«¯', 'prohibits (v.): ç¦æ­¢', 'infringing (v.ger.): ä¾µçŠ¯', 'airspace (n.): é ˜ç©º', 'airstrikes (n.): ç©ºè¥²',
                    'provision (n.): æ¢æ¬¾/è¦å®š', 'repatriate (v.): é£è¿”', 'detained (v.pp.): æ‰£ç•™/æ‹˜ç•™', 'ceasefire holds (phr.): åœç«ç”Ÿæ•ˆ/ç¶­æŒ',
                    'brokered (v.pp.): ä¿ƒæˆ/å±…é–“å”èª¿', 'under pressure (phr.): åœ¨å£“åŠ›ä¸‹', 'trade preferences (n.phr.): è²¿æ˜“å„ªæƒ ',
                    'propaganda wars (n.phr.): å®£å‚³æˆ°', 'sporadic (adj.): é›¶æ˜Ÿçš„', 'cross-border (adj.): è·¨å¢ƒçš„', 'escalated (v.): å‡ç´š',
                    'large-scale fighting (n.phr.): å¤§è¦æ¨¡æˆ°é¬¥', 'sovereignty (n.): ä¸»æ¬Š', 'repatriation (n.): é£è¿”', 'military movements (n.phr.): è»äº‹è¡Œå‹•',
                    'prohibit (v.): ç¦æ­¢', 'withdraw (v.): æ’¤å›/å–æ¶ˆ', 'initial (adj.): æœ€åˆçš„', 'sporadic violence (n.phr.): é›¶æ˜Ÿæš´åŠ›'
                ],
                quiz: [
                    { q: 'When was the ceasefire agreement signed?', options: ['Friday', 'Saturday', 'Sunday', 'Monday'], answer: 'Saturday' },
                    { q: 'What is the main cause of the conflict between Thailand and Cambodia?', options: ['Trade taxes', 'Territorial sovereignty disputes', 'Water supply', 'Election results'], answer: 'Territorial sovereignty disputes' },
                    { q: 'The agreement prohibits both sides from infringing on each other\'s what?', options: ['Waters', 'Markets', 'Airspace', 'Schools'], answer: 'Airspace' },
                    { q: 'Which country admitted to using airstrikes?', options: ['Only Cambodia', 'Only Thailand', 'Both countries', 'Neither country'], answer: 'Only Thailand' },
                    { q: 'How many Cambodian soldiers is Thailand required to repatriate?', options: ['8', '11', '18', '72'], answer: '18' },
                    { q: 'How soon after the ceasefire holds must the soldiers be repatriated?', options: ['24 hours', '48 hours', '72 hours', 'One week'], answer: '72 hours' },
                    { q: 'Which country originally brokered the ceasefire?', options: ['USA', 'China', 'Malaysia', 'Japan'], answer: 'Malaysia' },
                    { q: 'What did US President Trump threaten to withdraw to put pressure on the sides?', options: ['Military aid', 'Medical supplies', 'Trade preferences', 'Internet access'], answer: 'Trade preferences' },
                    { q: 'When did the violence escalate into large-scale fighting?', options: ['July', 'October', 'Early December', 'Saturday morning'], answer: 'Early December' },
                    { q: 'What does "repatriate" mean?', options: ['To arrest someone', 'To send someone back to their own country', 'To give someone a medal', 'To teach someone a new language'], answer: 'To send someone back to their own country' },
                    { q: 'The term "ceasefire" means an agreement to stop what?', options: ['Trading', 'Talking', 'Fighting/War', 'Traveling'], answer: 'Fighting/War' },
                    { q: 'What does "sporadic" mean?', options: ['Continuous', 'Occurring at irregular intervals; scattered', 'Very loud', 'Extremely fast'], answer: 'Occurring at irregular intervals; scattered' },
                    { q: 'Who confirmed that the latest airstrike occurred on Saturday morning?', options: ['Cambodian Media', 'The UN', 'Thai Defense Ministry', 'US President'], answer: 'Thai Defense Ministry' },
                    { q: 'Despite the agreement, what kind of "wars" continued?', options: ['Propaganda wars', 'Cyber wars', 'Tank wars', 'Economic wars'], answer: 'Propaganda wars' },
                    { q: 'The term "infringing" is similar to which word?', options: ['Helping', 'Violating/Trespassing', 'Building', 'Fixing'], answer: 'Violating/Trespassing' }
                ]
            },
            'japan-defense-budget': {
                title: 'æ—¥æœ¬é€šéå²ä¸Šæœ€é«˜åœ‹é˜²é ç®—',
                english: `Japan Approves Record Defense Budget. The Japanese cabinet approved a record defense budget exceeding 9 trillion yen for the next fiscal year, aimed at strengthening counterstrike capabilities and the coast guard. This represents a 9.4% increase year-on-year and marks the fourth year of Japanâ€™s plan to raise military spending to 2% of GDP. Prime Minister Sanae Takaichi said that if China takes action against Taiwan, Japanese forces might intervene. Japan plans to deploy cruise missiles, unmanned weapon systems, and long-range strike capabilities, a major shift from its post-WWII self-defense-only policy.`,
                chinese: `æ—¥æœ¬é€šéå²ä¸Šæœ€é«˜åœ‹é˜²é ç®—ã€‚æ—¥æœ¬å…§é–£æ‰¹å‡†äº†ä¸‹ä¸€è²¡æ”¿å¹´åº¦è¶…é 9 å…†æ—¥åœ“çš„å‰µç´€éŒ„åœ‹é˜²é ç®—ï¼Œæ—¨åœ¨åŠ å¼·åæ“Šèƒ½åŠ›å’Œæµ·ä¸Šä¿å®‰å»³ã€‚é€™ä»£è¡¨é ç®—å¹´å¢ 9.4%ï¼Œä¸¦æ¨™èªŒè‘—æ—¥æœ¬å°‡è»è²»é–‹æ”¯æé«˜åˆ° GDP 2% è¨ˆç•«çš„ç¬¬å››å¹´ã€‚é¦–ç›¸é«˜å¸‚æ—©è‹—è¡¨ç¤ºï¼Œå¦‚æœä¸­åœ‹å°å°ç£æ¡å–è¡Œå‹•ï¼Œæ—¥æœ¬è»éšŠå¯èƒ½æœƒä»‹å…¥ã€‚æ—¥æœ¬è¨ˆåŠƒéƒ¨ç½²å·¡å¼‹é£›å½ˆã€ç„¡äººæ­¦å™¨ç³»çµ±å’Œé ç¨‹æ‰“æ“Šèƒ½åŠ›ï¼Œé€™æ˜¯å°å…¶äºŒæˆ°å¾Œã€Œåƒ…é™è‡ªè¡›ã€æ”¿ç­–çš„é‡å¤§è½‰è®Šã€‚`,
                vocabulary: [
                    'record defense budget (n.phr.): å‰µç´€éŒ„åœ‹é˜²é ç®—', 'exceeding (v.ger.): è¶…é', '9 trillion yen (n.phr.): 9 å…†æ—¥åœ“', 'fiscal year (n.phr.): è²¡æ”¿å¹´åº¦',
                    'strengthening (v.ger.): åŠ å¼·', 'counterstrike capabilities (n.phr.): åæ“Šèƒ½åŠ›', 'coast guard (n. proper): æµ·ä¸Šä¿å®‰å»³', 'represents (v.): ä»£è¡¨',
                    'year-on-year (adj.): å¹´å¢/å¹´æ¯”', 'GDP (Gross Domestic Product) (n.): åœ‹å…§ç”Ÿç”¢ç¸½å€¼', 'Prime Minister (n.): é¦–ç›¸', 'Sanae Takaichi (n. proper): é«˜å¸‚æ—©è‹—',
                    'intervene (v.): ä»‹å…¥/å¹²é ', 'deploy (v.): éƒ¨ç½²', 'cruise missiles (n.phr.): å·¡å¼‹é£›å½ˆ', 'unmanned weapon systems (n.phr.): ç„¡äººæ­¦å™¨ç³»çµ±',
                    'long-range strike (n.phr.): é ç¨‹æ‰“æ“Š', 'major shift (n.phr.): é‡å¤§è½‰è®Š', 'post-WWII (adj.): äºŒæˆ°å¾Œçš„', 'self-defense-only policy (n.phr.): å°ˆå®ˆé˜²è¡›æ”¿ç­–',
                    'cabinet (n.): å…§é–£', 'military spending (n.phr.): è»è²»é–‹æ”¯', 'capabilities (n.): èƒ½åŠ›', 'intervene (v.): ä»‹å…¥'
                ],
                quiz: [
                    { q: 'How much does the record Japanese defense budget exceed?', options: ['5 trillion yen', '7 trillion yen', '9 trillion yen', '10 trillion yen'], answer: '9 trillion yen' },
                    { q: 'What is the percentage increase year-on-year for this budget?', options: ['5.5%', '9.4%', '12%', '20%'], answer: '9.4%' },
                    { q: 'Japan plans to raise military spending to what percentage of its GDP?', options: ['1%', '2%', '5%', '10%'], answer: '2%' },
                    { q: 'Who is the Prime Minister of Japan mentioned?', options: ['Fumio Kishida', 'Shinzo Abe', 'Sanae Takaichi', 'Yoshihide Suga'], answer: 'Sanae Takaichi' },
                    { q: 'If China takes action against Taiwan, what did the PM say Japanese forces might do?', options: ['Remain neutral', 'Provide only food aid', 'Intervene', 'Retreat'], answer: 'Intervene' },
                    { q: 'Which of the following is NOT part of Japan\'s deployment plan?', options: ['Cruise missiles', 'Unmanned weapon systems', 'Long-range strike capabilities', 'Nuclear submarines'], answer: 'Nuclear submarines' },
                    { q: 'The new budget represents a major shift from which policy?', options: ['Economic expansion', 'Post-WWII self-defense-only policy', 'Zero-tax policy', 'Closed-border policy'], answer: 'Post-WWII self-defense-only policy' },
                    { q: 'The budget also aims to strengthen which coastal body?', options: ['The Navy', 'The Coast Guard', 'The Fishing Union', 'The Tourist Police'], answer: 'The Coast Guard' },
                    { q: 'Which year of the plan to raise spending is this current budget?', options: ['First', 'Second', 'Third', 'Fourth'], answer: 'Fourth' },
                    { q: 'What does "fiscal year" mean?', options: ['The calendar year', 'The financial year used by government/business', 'The holiday season', 'The year of an election'], answer: 'The financial year used by government/business' },
                    { q: 'The word "intervene" means to do what in a situation?', options: ['Ignore it', 'Help secretly', 'Get involved to change or stop it', 'Take a picture of it'], answer: 'Get involved to change or stop it' },
                    { q: 'What does "unmanned" mean?', options: ['Operated by many people', 'Operated without a human on board', 'Old and broken', 'Very heavy'], answer: 'Operated without a human on board' },
                    { q: 'The budget was approved by which Japanese government body?', options: ['The Emperor', 'The Cabinet', 'The Supreme Court', 'The Public'], answer: 'The Cabinet' },
                    { q: 'What kind of missiles does Japan plan to deploy?', options: ['Short-range only', 'Cruise missiles', 'Water missiles', 'Toy missiles'], answer: 'Cruise missiles' },
                    { q: 'What is the target percentage of GDP for military spending in Japan\'s plan?', options: ['1%', '2%', '3%', '4%'], answer: '2%' }
                ]
            }
        };

        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº«</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢º)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>