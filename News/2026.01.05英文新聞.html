<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2025 å¹´ 12 æœˆ 31 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2025 å¹´ 12 æœˆ 31 æ—¥ï¼šå¹´çµ‚ç„¦é»å­¸ç¿’ç³»çµ±</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs for News Topics -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for an immersive English news learning experience. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE: NEWS CONTENT ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] PLA Drills Move Closer to Taiwan, Disrupt Civil Aviation\nIn local news, China's military exercises surrounding Taiwan entered their second day. Taiwan's Ministry of National Defense stated that China fired 27 multiple rocket launcher rounds into waters north and southwest of Taiwan. The impact points were as close as 24 nautical miles from Taiwan's main island. The drills also involved 71 Chinese military aircraft, affecting 941 civil aviation flights and posing a serious threat to international aviation safety.\n\n[2] Taichung Subsidizes Food Waste Processors\nTaiwanâ€™s central government will ban feeding food waste to pigs starting in 2027. In response, Taichung City announced it will provide subsidies next year to assist households in purchasing food waste processors. Each household can receive a maximum subsidy of NT$5,000. The city government plans to handle food waste primarily through incineration and other disposal methods.\n\n[3] Opposition Blocks Taiwan Defense Budget Again\nThe Procedure Committee of Taiwan's Legislative Yuan has blocked the Executive Yuan's NT$1.25 trillion special defense budget proposal for the fifth time. KMT and TPP legislators used their majority advantage to exclude the budget bill from the agenda. DPP legislators criticized the move, stating that even basic discussion of the defense budget is being systematically blocked.`,
                chinese: `ã€1ã€‘è§£æ”¾è»è»æ¼”é€¼è¿‘å°ç£ è¡æ“Šæ°‘èˆªå®‰å…¨\nåœ¨æœ¬åœ°æ–°èä¸­ï¼Œä¸­åœ‹åœ¨å°ç£å‘¨é‚Šçš„è»äº‹æ¼”ç¿’é€²å…¥ç¬¬äºŒå¤©ã€‚å°ç£åœ‹é˜²éƒ¨è¡¨ç¤ºï¼Œä¸­åœ‹å‘å°ç£åŒ—éƒ¨åŠè¥¿å—æµ·åŸŸç™¼å°„äº† 27 æšå¤šç®¡ç«ç®­ç‚®ã€‚è½é»è·é›¢å°ç£æœ¬å³¶æœ€è¿‘åƒ… 24 æµ·æµ¬ã€‚æ¼”ç¿’é‚„æ¶‰åŠ 71 æ¶ä¸­åœ‹è»æ©Ÿï¼Œå½±éŸ¿ 941 æ¶æ°‘èˆªèˆªç­ï¼Œå°åœ‹éš›èˆªç©ºå®‰å…¨æ§‹æˆåš´é‡å¨è„…ã€‚\n\nã€2ã€‘å°ä¸­è£œåŠ©å®¶æˆ¶å»šé¤˜è™•ç†è¨­å‚™\nå°ç£ä¸­å¤®æ”¿åºœå°‡å¾ 2027 å¹´èµ·ç¦æ­¢ç”¨å»šé¤˜é¤µè±¬ã€‚ç‚ºæ­¤ï¼Œå°ä¸­å¸‚æ”¿åºœå®£å¸ƒå°‡æ–¼æ˜å¹´æä¾›è£œè²¼ï¼Œå”åŠ©å®¶æˆ¶è³¼è²·å»šé¤˜è™•ç†æ©Ÿã€‚æ¯æˆ¶æœ€é«˜å¯ç²å¾— 5,000 æ–°å°å¹£çš„è£œåŠ©ã€‚å¸‚åºœè¨ˆç•«ä¸»è¦é€éç„šåŒ–åŠå…¶ä»–è™•ç†æ–¹å¼ä¾†è™•ç½®å»šé¤˜ã€‚\n\nã€3ã€‘åœ¨é‡é»¨å†åº¦å°æ®ºåœ‹é˜²ç‰¹åˆ¥é ç®—\nç«‹æ³•é™¢ç¨‹åºå§”å“¡æœƒç¬¬äº”åº¦å°æ®ºè¡Œæ”¿é™¢æå‡ºçš„ 1.25 å…†æ–°å°å¹£åœ‹é˜²ç‰¹åˆ¥é ç®—æ¡ˆã€‚åœ‹æ°‘é»¨èˆ‡æ°‘çœ¾é»¨ç«‹å§”åˆ©ç”¨å¤šæ•¸å„ªå‹¢ï¼Œå°‡é ç®—æ¡ˆæ’é™¤åœ¨è­°ç¨‹ä¹‹å¤–ã€‚æ°‘é€²é»¨ç«‹å§”æ‰¹è©•æ­¤èˆ‰ï¼Œç¨±é€£åœ‹é˜²é ç®—çš„åŸºæœ¬è¨è«–éƒ½é­åˆ°ç³»çµ±æ€§å°æ®ºã€‚`,
                vocabulary: [
                    'surrounding (adj.): å‘¨åœçš„/ç’°ç¹çš„', 'multiple rocket launcher (n.phr.): å¤šç®¡ç«ç®­ç‚®', 'impact points (n.phr.): è½é»/æ’æ“Šé»', 'nautical miles (n.phr.): æµ·æµ¬',
                    'civil aviation (n.phr.): æ°‘ç”¨èˆªç©º', 'disrupt (v.): ä¸­æ–·/æ“¾äº‚', 'posing a threat (phr.): æ§‹æˆå¨è„…', 'aviation safety (n.phr.): èˆªç©ºå®‰å…¨',
                    'food waste (n.phr.): å»šé¤˜', 'processors (n.): è™•ç†æ©Ÿ', 'subsidies (n.): è£œè²¼', 'assist (v.): å”åŠ©',
                    'incineration (n.): ç„šåŒ–', 'disposal methods (n.phr.): è™•ç½®æ–¹å¼', 'blocked (v.pp.): å°æ®º/é˜»æ“‹', 'special budget (n.phr.): ç‰¹åˆ¥é ç®—',
                    'majority advantage (n.phr.): å¤šæ•¸å„ªå‹¢', 'exclude (v.): æ’é™¤', 'agenda (n.): è­°ç¨‹', 'systematically (adv.): ç³»çµ±æ€§åœ°',
                    'Procedure Committee (n. proper): ç¨‹åºå§”å“¡æœƒ', 'Executive Yuan (n. proper): è¡Œæ”¿é™¢', 'Legislative Yuan (n. proper): ç«‹æ³•é™¢', 'impact (n.): å½±éŸ¿/æ’æ“Š',
                    'subsidy (n.): è£œåŠ©é‡‘', 'primarily (adv.): ä¸»è¦åœ°', 'proposal (n.): ææ¡ˆ', 'trillion (n.): å…†',
                    'opposition (n.): åœ¨é‡é»¨', 'legislator (n.): ç«‹æ³•å§”å“¡', 'advantage (n.): å„ªå‹¢', 'criticize (v.): æ‰¹è©•',
                    'entering the second day (phr.): é€²å…¥ç¬¬äºŒå¤©', 'feeding to pigs (phr.): é¤µè±¬'
                ],
                quiz: [
                    { q: 'How many multiple rocket launcher rounds did China fire on the second day?', options: ['12', '24', '27', '71'], answer: '27' },
                    { q: 'What was the closest distance of the impact points from Taiwan\'s main island?', options: ['12 nautical miles', '24 nautical miles', '71 nautical miles', '941 nautical miles'], answer: '24 nautical miles' },
                    { q: 'How many civil aviation flights were affected by the drills?', options: ['27', '71', '500', '941'], answer: '941' },
                    { q: 'When will feeding food waste to pigs be banned in Taiwan?', options: ['2025', '2026', '2027', '2030'], answer: '2027' },
                    { q: 'What is the maximum subsidy Taichung City offers for food waste processors?', options: ['NT$1,000', 'NT$3,000', 'NT$5,000', 'NT$10,000'], answer: 'NT$5,000' },
                    { q: 'How does Taichung plan to primarily handle food waste?', options: ['Exporting it', 'Feeding it to pigs', 'Incineration', 'Burying it in parks'], answer: 'Incineration' },
                    { q: 'How many times has the special defense budget been blocked?', options: ['One time', 'Three times', 'Five times', 'Ten times'], answer: 'Five times' },
                    { q: 'What is the total value of the special defense budget proposal?', options: ['NT$1.25 billion', 'NT$1.25 trillion', 'NT$5,000', 'NT$941 billion'], answer: 'NT$1.25 trillion' },
                    { q: 'Which committee blocked the budget proposal?', options: ['Finance Committee', 'National Defense Committee', 'Procedure Committee', 'Education Committee'], answer: 'Procedure Committee' },
                    { q: 'Which political parties used their majority to exclude the budget bill?', options: ['DPP and KMT', 'DPP and TPP', 'KMT and TPP', 'Only KMT'], answer: 'KMT and TPP' },
                    { q: 'The term "incineration" means what?', options: ['Recycling', 'Burning waste', 'Freezing', 'Sorting'], answer: 'Burning waste' },
                    { q: 'The word "agenda" refers to which of the following?', options: ['A list of people', 'A travel map', 'A list of items to be discussed at a meeting', 'A type of money'], answer: 'A list of items to be discussed at a meeting' },
                    { q: 'What does "nautical miles" measure?', options: ['Speed', 'Weight', 'Distance at sea', 'Acidity'], answer: 'Distance at sea' },
                    { q: 'Why is the defense budget being blocked according to DPP legislators?', options: ['Lack of money', 'Systematic blocking', 'Technical errors', 'Holiday delay'], answer: 'Systematic blocking' },
                    { q: 'What is the main goal of the Taichung subsidy?', options: ['To sell machines', 'To assist households and respond to the ban', 'To increase taxes', 'To feed more pigs'], answer: 'To assist households and respond to the ban' }
                ]
            },
            'china-sanctions': {
                title: 'ä¸­åœ‹åˆ¶è£ç¾è»å·¥ä¼æ¥­',
                english: `China has imposed sanctions on 20 US defense-related companies and 10 senior executives, one week after Washington announced a large-scale arms sale to Taiwan. Chinaâ€™s Foreign Ministry said the measures include freezing assets in China and banning business dealings with Chinese individuals and organizations. The ministry emphasized that the Taiwan question is China's core interest and the first red line in Chinaâ€“US relations, warning that any company involved in arms sales to Taiwan will pay the price. Sanctioned firms include Northrop Grumman, L3Harris, and Boeing, while Anduril Industries founder Palmer Luckey was also sanctioned. The arms sale, worth over $10 billion, would become the largest US weapons sale to Taiwan if approved by Congress.`,
                chinese: `åˆ¶è£ç¾åœ‹è»å·¥ä¼æ¥­ï¼Œå›æ‡‰å°å°è»å”®ã€‚åœ¨è¯ç››é “å®£å¸ƒå¤§è¦æ¨¡å°å°è»å”®ä¸€é€±å¾Œï¼Œä¸­åœ‹å° 20 å®¶ç¾åœ‹åœ‹é˜²ç›¸é—œä¼æ¥­å’Œ 10 åé«˜éšä¸»ç®¡å¯¦æ–½äº†åˆ¶è£ã€‚ä¸­åœ‹å¤–äº¤éƒ¨è¡¨ç¤ºï¼Œæªæ–½åŒ…æ‹¬å‡çµåœ¨è¯è³‡ç”¢ï¼Œä¸¦ç¦æ­¢èˆ‡ä¸­åœ‹å€‹äººåŠçµ„ç¹”é€²è¡Œæ¥­å‹™å¾€ä¾†ã€‚å¤–äº¤éƒ¨å¼·èª¿ï¼Œå°ç£å•é¡Œæ˜¯ä¸­åœ‹çš„æ ¸å¿ƒåˆ©ç›Šï¼Œæ˜¯ä¸­ç¾é—œä¿‚çš„ç¬¬ä¸€æ¢ç´…ç·šï¼Œä¸¦è­¦å‘Šä»»ä½•åƒèˆ‡å°å°è»å”®çš„å…¬å¸éƒ½å°‡ä»˜å‡ºä»£åƒ¹ã€‚å—åˆ¶è£çš„å…¬å¸åŒ…æ‹¬è«¾æ–¯æ´›æ™®Â·æ ¼é­¯æ›¼ã€L3Harris å’Œæ³¢éŸ³ï¼Œå®‰æœé‡Œçˆ¾å·¥æ¥­å…¬å¸å‰µå§‹äººå¸•çˆ¾é»˜Â·æ‹‰å¥‡ä¹Ÿå—åˆ°åˆ¶è£ã€‚é€™é …åƒ¹å€¼è¶…é 100 å„„ç¾å…ƒçš„è»å”®æ¡ˆè‹¥ç²åœ‹æœƒæ‰¹å‡†ï¼Œå°‡æˆç‚ºç¾åœ‹å°å°æœ€å¤§çš„æ­¦å™¨éŠ·å”®ã€‚`,
                vocabulary: [
                    'imposed sanctions (phr.): å¯¦æ–½åˆ¶è£', 'defense-related (adj.): åœ‹é˜²ç›¸é—œçš„', 'senior executives (n.phr.): é«˜éšä¸»ç®¡', 'large-scale (adj.): å¤§è¦æ¨¡çš„',
                    'arms sale (n.phr.): è»å”®', 'Foreign Ministry (n. proper): å¤–äº¤éƒ¨', 'freezing assets (phr.): å‡çµè³‡ç”¢', 'business dealings (n.phr.): æ¥­å‹™å¾€ä¾†',
                    'core interest (n.phr.): æ ¸å¿ƒåˆ©ç›Š', 'red line (n.phr.): ç´…ç·š', 'pay the price (phr.): ä»˜å‡ºä»£åƒ¹', 'Northrop Grumman (n. proper): è«¾æ–¯æ´›æ™®Â·æ ¼é­¯æ›¼',
                    'L3Harris (n. proper): L3Harris (è»å·¥ä¼æ¥­å)', 'Boeing (n. proper): æ³¢éŸ³', 'founder (n.): å‰µå§‹äºº', 'approved by Congress (phr.): ç¶“åœ‹æœƒæ‰¹å‡†',
                    'weapons (n.): æ­¦å™¨', 'executives (n.): ä¸»ç®¡', 'dealings (n.): å¾€ä¾†/äº¤æ˜“', 'assets (n.): è³‡ç”¢', 'sanctioned (adj.): å—åˆ¶è£çš„',
                    'interest (n.): åˆ©ç›Š', 'relation (n.): é—œä¿‚', 'warning (n.): è­¦å‘Š', 'involved (v.pp.): åƒèˆ‡çš„/æ¶‰åŠçš„', 'scale (n.): è¦æ¨¡',
                    'weaponry (n.): æ­¦å™¨', 'dealing with (phr.): èˆ‡...å¾€ä¾†', 'freeze (v.): å‡çµ', 'pay for (phr.): ç‚º...ä»˜ä»£åƒ¹'
                ],
                quiz: [
                    { q: 'How many US companies did China sanction?', options: ['10', '20', '30', '100'], answer: '20' },
                    { q: 'What triggered these sanctions?', options: ['A trade war', 'A large-scale arms sale to Taiwan', 'Cyber attacks', 'Climate change'], answer: 'A large-scale arms sale to Taiwan' },
                    { q: 'What is one of the measures included in the sanctions?', options: ['Increasing taxes', 'Freezing assets in China', 'Sending a letter', 'Buying more planes'], answer: 'Freezing assets in China' },
                    { q: 'How does the Foreign Ministry describe the Taiwan question?', options: ['A minor issue', 'A core interest and the first red line', 'A financial problem', 'A shared goal'], answer: 'A core interest and the first red line' },
                    { q: 'Which of these companies was NOT mentioned as being sanctioned?', options: ['Northrop Grumman', 'Boeing', 'Apple', 'L3Harris'], answer: 'Apple' },
                    { q: 'Who is the founder of Anduril Industries mentioned in the text?', options: ['Palmer Luckey', 'Donald Trump', 'Shou Zi Chew', 'Bill Gates'], answer: 'Palmer Luckey' },
                    { q: 'What is the estimated value of the arms sale?', options: ['$1 million', '$100 million', 'Over $10 billion', '$1 trillion'], answer: 'Over $10 billion' },
                    { q: 'If approved, the sale would be the ______ US weapons sale to Taiwan.', options: ['Smallest', 'First', 'Largest', 'Final'], answer: 'Largest' },
                    { q: 'Whose approval is needed for the arms sale to proceed?', options: ['The UN', 'The Chinese government', 'The US Congress', 'The European Union'], answer: 'The US Congress' },
                    { q: 'The word "imposed" means what?', options: ['Removed', 'Suggested', 'Applied or established forcibly', 'Forgotten'], answer: 'Applied or established forcibly' },
                    { q: 'What are "senior executives"?', options: ['Entry-level workers', 'Top-level managers', 'Retired soldiers', 'Students'], answer: 'Top-level managers' },
                    { q: 'What does "freezing assets" mean?', options: ['Putting money in a refrigerator', 'Legally preventing the use or movement of wealth', 'Giving money away', 'Losing a wallet'], answer: 'Legally preventing the use or movement of wealth' },
                    { q: 'Which country\'s Foreign Ministry issued the warning?', options: ['USA', 'Taiwan', 'China', 'Russia'], answer: 'China' },
                    { q: 'What does it mean to "pay the price"?', options: ['To buy something cheap', 'To suffer the consequences of an action', 'To get a reward', 'To go to the bank'], answer: 'To suffer the consequences of an action' },
                    { q: 'The term "defense-related" refers to items used for what?', options: ['Cooking', 'Military and protection', 'Education', 'Farming'], answer: 'Military and protection' }
                ]
            },
            'iran-protests': {
                title: 'ä¼Šæœ—è²¨å¹£æš´è·Œå¼•ç™¼å¤§æŠ—è­°',
                english: `Iran has seen its largest protests in three years, triggered by the collapse of the rial and the resignation of the Central Bank governor. Traders and shopkeepers protested in central Tehran, particularly around Saadi Street and the Grand Bazaar, areas historically linked to the 1979 Islamic Revolution. On Sunday, the rial fell to 1.42 million per US dollar, before recovering slightly to 1.38 million on Monday. Demonstrators chanted anti-government slogans, and many merchants closed their shops in protest.`,
                chinese: `ä¼Šæœ—è²¨å¹£æš´è·Œå¼•ç™¼ä¸‰å¹´ä¾†æœ€å¤§æŠ—è­°ã€‚ä¼Šæœ—çˆ†ç™¼äº†ä¸‰å¹´çš„æœ€å¤§è¦æ¨¡æŠ—è­°ï¼Œèµ·å› æ˜¯è²¨å¹£é‡Œäºçˆ¾ (rial) å´©ç›¤ä»¥åŠä¸­å¤®éŠ€è¡Œè¡Œé•·è¾­è·ã€‚å•†äººåŠåº—ä¸»åœ¨å¾·é»‘è˜­å¸‚ä¸­å¿ƒæŠ—è­°ï¼Œç‰¹åˆ¥æ˜¯åœ¨è–©è¿ªè¡—å’Œéºå€å¤§å·´æ‰ (Grand Bazaar) é™„è¿‘ï¼Œé€™äº›åœ°å€åœ¨æ­·å²ä¸Šèˆ‡ 1979 å¹´çš„ä¼Šæ–¯è˜­é©å‘½æœ‰é—œã€‚é€±æ—¥ï¼Œé‡Œäºçˆ¾è·Œè‡³ 142 è¬å…Œ 1 ç¾å…ƒï¼Œé€±ä¸€ç¨å›å‡è‡³ 138 è¬ã€‚ç¤ºå¨è€…å¤§å–Šåæ”¿åºœå£è™Ÿï¼Œè¨±å¤šå•†äººé—œé–€åœæ¥­ä»¥ç¤ºæŠ—è­°ã€‚`,
                vocabulary: [
                    'protests (n.): æŠ—è­°', 'triggered by (phr.): ç”±...å¼•ç™¼', 'collapse (n.): å´©ç›¤/ç“¦è§£', 'rial (n. proper): é‡Œäºçˆ¾ (ä¼Šæœ—è²¨å¹£)',
                    'resignation (n.): è¾­è·', 'Central Bank (n. proper): ä¸­å¤®éŠ€è¡Œ', 'governor (n.): è¡Œé•·/å·é•·', 'Tehran (n. proper): å¾·é»‘è˜­ (ä¼Šæœ—é¦–éƒ½)',
                    'Grand Bazaar (n. proper): å¤§å·´æ‰ (å¤§å‹å¸‚å ´)', 'Islamic Revolution (n. proper): ä¼Šæ–¯è˜­é©å‘½', 'recovering slightly (phr.): è¼•å¾®å›å‡',
                    'demonstrators (n.): ç¤ºå¨è€…', 'chanted (v.): å–Šå«/åŸå”±', 'anti-government (adj.): åæ”¿åºœçš„', 'slogans (n.): å£è™Ÿ',
                    'merchants (n.): å•†äºº', 'currency (n.): è²¨å¹£', 'plummet (v.): æš´è·Œ', 'sparking (v.ger.): å¼•ç™¼',
                    'linked to (phr.): èˆ‡...æœ‰é—œè¯', 'historically (adv.): æ­·å²ä¸Šåœ°', 'merchants (n.): æ‰¹ç™¼å•†', 'market (n.): å¸‚å ´',
                    'protest (v.): æŠ—è­°', 'exchange rate (n.phr.): åŒ¯ç‡', 'inflation (n.): é€šè²¨è†¨è„¹'
                ],
                quiz: [
                    { q: 'How many years has it been since Iran last saw protests of this scale?', options: ['One year', 'Two years', 'Three years', 'Ten years'], answer: 'Three years' },
                    { q: 'What is the name of the Iranian currency?', options: ['Dinar', 'Rial', 'Lira', 'Yuan'], answer: 'Rial' },
                    { q: 'What event involving the Central Bank triggered the protests?', options: ['The opening of a new branch', 'The resignation of the governor', 'A large profit', 'A new computer system'], answer: 'The resignation of the governor' },
                    { q: 'In which city did the main protests take place?', options: ['Baghdad', 'Dubai', 'Tehran', 'Cairo'], answer: 'Tehran' },
                    { q: 'The Grand Bazaar is historically linked to which major event?', options: ['WWII', 'The 1979 Islamic Revolution', 'The Industrial Revolution', 'A large fire'], answer: 'The 1979 Islamic Revolution' },
                    { q: 'What was the rial\'s exchange rate per US dollar on Sunday?', options: ['1,000', '1.38 million', '1.42 million', '10 million'], answer: '1.42 million' },
                    { q: 'What action did many merchants take in protest?', options: ['They gave free food.', 'They closed their shops.', 'They moved to another country.', 'They bought more dollars.'], answer: 'They closed their shops.' },
                    { q: 'What did the demonstrators chant?', options: ['Pro-government songs', 'Anti-government slogans', 'National anthems', 'Quiet prayers'], answer: 'Anti-government slogans' },
                    { q: 'Did the currency recover at all on Monday?', options: ['No, it fell more.', 'Yes, it recovered slightly to 1.38 million.', 'It stayed the same.', 'It became stronger than the dollar.'], answer: 'Yes, it recovered slightly to 1.38 million.' },
                    { q: 'The word "resignation" means the act of doing what?', options: ['Getting a promotion', 'Starting a new job', 'Giving up or quitting a position', 'Moving to a new house'], answer: 'Giving up or quitting a position' },
                    { q: 'What does "plummet" mean?', options: ['To rise slowly', 'To fall or drop straight down at high speed', 'To stay stable', 'To grow big'], answer: 'To fall or drop straight down at high speed' },
                    { q: 'The "Grand Bazaar" is a type of what?', options: ['Hospital', 'Palace', 'Market', 'School'], answer: 'Market' },
                    { q: 'What is a "Central Bank governor"?', options: ['A regular clerk', 'The person in charge of a nation\'s central bank', 'A politician in the city hall', 'A wealthy trader'], answer: 'The person in charge of a nation\'s central bank' },
                    { q: 'Tehran is the ______ of Iran.', options: ['Province', 'Capital', 'Border', 'Island'], answer: 'Capital' },
                    { q: 'What kind of slogans were chanted?', options: ['Funny', 'Quiet', 'Anti-government', 'Educational'], answer: 'Anti-government' }
                ]
            },
            'china-ai-reg': {
                title: 'ä¸­åœ‹æ“¬åš´ç®¡ AI é˜²æ­¢å±å®³',
                english: `China has proposed strict artificial intelligence regulations aimed at protecting children and preventing chatbots from giving advice related to self-harm or violence. Under the draft rules by the Cyberspace Administration of China (CAC), AI companies must provide usage time limits, obtain guardian consent, and apply human intervention in conversations involving suicide or self-harm. AI services are also banned from generating content that endangers national security, promotes gambling, or undermines national unity.`,
                chinese: `ä¸­åœ‹æ“¬åš´ç®¡ AIï¼Œé˜²æ­¢è‡ªæ®˜èˆ‡æš´åŠ›å…§å®¹ã€‚ä¸­åœ‹æå‡ºåš´æ ¼çš„äººå·¥æ™ºæ…§æ³•è¦ï¼Œæ—¨åœ¨ä¿è­·å…’ç«¥ä¸¦é˜²æ­¢èŠå¤©æ©Ÿå™¨äººæä¾›èˆ‡è‡ªæ®˜æˆ–æš´åŠ›ç›¸é—œçš„å»ºè­°ã€‚æ ¹æ“šä¸­åœ‹åœ‹å®¶äº’è¯ç¶²ä¿¡æ¯è¾¦å…¬å®¤ï¼ˆCACï¼‰çš„è‰æ¡ˆè¦å‰‡ï¼ŒAI å…¬å¸å¿…é ˆæä¾›ä½¿ç”¨æ™‚é•·é™åˆ¶ã€ç²å¾—ç›£è­·äººåŒæ„ï¼Œä¸¦åœ¨æ¶‰åŠè‡ªæ®ºæˆ–è‡ªæ®˜çš„å°è©±ä¸­å¯¦æ–½äººå·¥å¹²é ã€‚AI æœå‹™ä¹Ÿè¢«ç¦æ­¢ç”Ÿæˆå±å®³åœ‹å®¶å®‰å…¨ã€å®£æšè³­åšæˆ–ç ´å£åœ‹å®¶çµ±ä¸€çš„å…§å®¹ã€‚`,
                vocabulary: [
                    'proposed (v.): æè­°/æ“¬å®š', 'strict (adj.): åš´æ ¼çš„', 'regulations (n.): æ³•è¦/è¦å®š', 'aimed at (phr.): æ—¨åœ¨',
                    'protecting (v.ger.): ä¿è­·', 'chatbots (n.): èŠå¤©æ©Ÿå™¨äºº', 'advice (n.): å»ºè­°', 'self-harm (n.): è‡ªæ®˜',
                    'violence (n.): æš´åŠ›', 'draft rules (n.phr.): è‰æ¡ˆè¦å‰‡', 'Cyberspace Administration (n. proper): ç¶²ä¿¡è¾¦', 'guardian consent (n.phr.): ç›£è­·äººåŒæ„',
                    'human intervention (n.phr.): äººå·¥å¹²é ', 'conversations (n.): å°è©±', 'suicide (n.): è‡ªæ®º', 'generating content (phr.): ç”Ÿæˆå…§å®¹',
                    'endangers (v.): å±å®³', 'national security (n.phr.): åœ‹å®¶å®‰å…¨', 'promotes (v.): å®£æš/ä¿ƒé€²', 'gambling (n.): è³­åš',
                    'undermines (v.): ç ´å£/å‰Šå¼±', 'national unity (n.phr.): åœ‹å®¶çµ±ä¸€', 'intervention (n.): å¹²é ', 'limit (n.): é™åˆ¶',
                    'Artificial Intelligence (n. proper): äººå·¥æ™ºæ…§', 'usage time (n.phr.): ä½¿ç”¨æ™‚é–“', 'obtain (v.): ç²å¾—', 'banned (v.pp.): ç¦æ­¢çš„'
                ],
                quiz: [
                    { q: 'What is the main goal of the proposed AI regulations in China?', options: ['To increase AI speed', 'To protect children and prevent dangerous advice', 'To make AI cheaper', 'To ban AI entirely'], answer: 'To protect children and prevent dangerous advice' },
                    { q: 'Which Chinese agency created the draft rules?', options: ['Ministry of Health', 'Cyberspace Administration of China (CAC)', 'Bank of China', 'Ministry of Education'], answer: 'Cyberspace Administration of China (CAC)' },
                    { q: 'What must AI companies provide under these new rules?', options: ['Free food', 'Usage time limits', 'Free phones', 'Unlimited data'], answer: 'Usage time limits' },
                    { q: 'Whose consent must be obtained before children use AI?', options: ['The teacher\'s', 'The government\'s', 'A guardian\'s (parent\'s)', 'A friend\'s'], answer: 'A guardian\'s (parent\'s)' },
                    { q: 'What must companies apply in conversations involving self-harm?', options: ['More AI', 'Human intervention', 'A robot voice', 'Music'], answer: 'Human intervention' },
                    { q: 'AI services are banned from promoting what?', options: ['Reading', 'Gambling', 'Sports', 'Cooking'], answer: 'Gambling' },
                    { q: 'The regulations prevent chatbots from giving advice related to which two things?', options: ['Math and Science', 'Cooking and Travel', 'Self-harm or violence', 'Gaming and Movies'], answer: 'Self-harm or violence' },
                    { q: 'AI is also banned from generating content that endangers ______.', options: ['The weather', 'National security', 'Small animals', 'Old movies'], answer: 'National security' },
                    { q: 'What does "undermines" mean?', options: ['Supports', 'Weakens or destroys gradually', 'Builds', 'Creates'], answer: 'Weakens or destroys gradually' },
                    { q: 'The term "intervention" means the act of doing what?', options: ['Ignoring', 'Getting involved to change an outcome', 'Sleeping', 'Shouting'], answer: 'Getting involved to change an outcome' },
                    { q: 'What are "chatbots"?', options: ['Small physical robots', 'Computer programs designed to simulate conversation', 'Types of shoes', 'Newspapers'], answer: 'Computer programs designed to simulate conversation' },
                    { q: 'What does "consent" mean?', options: ['Permission or agreement', 'A type of money', 'An argument', 'A mistake'], answer: 'Permission or agreement' },
                    { q: 'AI services must not undermine national ______.', options: ['Parks', 'Unity', 'Museums', 'Anthems'], answer: 'Unity' },
                    { q: 'Are these rules final or still in draft?', options: ['Final', 'Still in draft', 'Already canceled', 'Only for adults'], answer: 'Still in draft' },
                    { q: 'What is a "guardian"?', options: ['A police officer', 'A person legally responsible for another (e.g., a child)', 'A school principal', 'A store owner'], answer: 'A person legally responsible for another (e.g., a child)' }
                ]
            },
            'oral-obesity-drug': {
                title: 'ç¾åœ‹æ ¸å‡†é¦–æ¬¾å£æœæ¸›é‡è—¥',
                english: `On Monday, US regulators approved the first daily oral medication to treat obesity, an oral version of Wegovy developed by Novo Nordisk. The drug belongs to the GLP-1 class, mimicking hormones that control appetite and satiety, similar to injectable treatments like Zepbound. Experts say oral drugs could expand access, lower costs, and accelerate the obesity treatment market, especially since many patients cannot afford injections. About one in eight Americans has used GLP-1 injections, according to KFF.`,
                chinese: `ç¾åœ‹æ ¸å‡†é¦–æ¬¾å£æœæ¸›é‡è—¥ã€‚é€±ä¸€ï¼Œç¾åœ‹ç›£ç®¡æ©Ÿæ§‹æ ¸å‡†äº†é¦–æ¬¾ç”¨æ–¼æ²»ç™‚è‚¥èƒ–ç—‡çš„æ¯æ—¥å£æœè—¥ç‰©ï¼Œé€™æ˜¯ç”±è«¾å’Œè«¾å¾·ï¼ˆNovo Nordiskï¼‰é–‹ç™¼çš„ Wegovy å£æœç‰ˆæœ¬ã€‚è©²è—¥ç‰©å±¬æ–¼ GLP-1 é¡åˆ¥ï¼Œæ¨¡ä»¿æ§åˆ¶é£Ÿæ…¾å’Œé£½è¶³æ„Ÿçš„è·çˆ¾è’™ï¼Œé¡ä¼¼æ–¼ Zepbound ç­‰æ³¨å°„ç™‚æ³•ã€‚å°ˆå®¶è¡¨ç¤ºï¼Œå£æœè—¥ç‰©å¯ä»¥æ“´å¤§æ™®åŠç‡ã€é™ä½æˆæœ¬ä¸¦åŠ é€Ÿè‚¥èƒ–æ²»ç™‚å¸‚å ´ï¼Œç‰¹åˆ¥æ˜¯è€ƒæ…®åˆ°è¨±å¤šæ‚£è€…è² æ“”ä¸èµ·æ³¨å°„è²»ç”¨ã€‚æ ¹æ“š KFF çš„æ•¸æ“šï¼Œç´„æœ‰å…«åˆ†ä¹‹ä¸€çš„ç¾åœ‹äººä½¿ç”¨é GLP-1 æ³¨å°„åŠ‘ã€‚`,
                vocabulary: [
                    'regulators (n.): ç›£ç®¡æ©Ÿæ§‹', 'approved (v.): æ ¸å‡†', 'daily (adj.): æ¯æ—¥çš„', 'oral medication (n.phr.): å£æœè—¥ç‰©',
                    'obesity (n.): è‚¥èƒ–/è‚¥èƒ–ç—‡', 'Novo Nordisk (n. proper): è«¾å’Œè«¾å¾· (è—¥å» å)', 'GLP-1 class (n.phr.): GLP-1 é¡åˆ¥ (è—¥ç‰©)',
                    'mimicking (v.ger.): æ¨¡ä»¿', 'hormones (n.): è·çˆ¾è’™', 'appetite (n.): é£Ÿæ…¾', 'satiety (n.): é£½è¶³æ„Ÿ',
                    'injectable treatments (n.phr.): æ³¨å°„ç™‚æ³•', 'expand access (phr.): æ“´å¤§ç²å–æ¸ é“/æ™®åŠç‡', 'lower costs (phr.): é™ä½æˆæœ¬',
                    'accelerate (v.): åŠ é€Ÿ', 'treatment (n.): æ²»ç™‚', 'afford (v.): è² æ“”å¾—èµ·', 'injections (n.): æ³¨å°„',
                    'one in eight (phr.): å…«åˆ†ä¹‹ä¸€', 'hormone (n.): æ¿€ç´ ', 'appetite (n.): èƒƒå£', 'affordable (adj.): è² æ“”å¾—èµ·çš„',
                    'medication (n.): è—¥ç‰©', 'market (n.): å¸‚å ´', 'obese (adj.): è‚¥èƒ–çš„'
                ],
                quiz: [
                    { q: 'When did US regulators approve the first daily oral obesity drug?', options: ['Sunday', 'Monday', 'Tuesday', 'Last month'], answer: 'Monday' },
                    { q: 'Which company developed the oral version of Wegovy?', options: ['Pfizer', 'Novo Nordisk', 'Moderna', 'Johnson & Johnson'], answer: 'Novo Nordisk' },
                    { q: 'What class of drug does this new medication belong to?', options: ['Antibiotics', 'GLP-1 class', 'Vitamin supplement', 'Aspirin'], answer: 'GLP-1 class' },
                    { q: 'The drug mimics hormones that control which two things?', options: ['Sleep and mood', 'Appetite and satiety', 'Speed and strength', 'Hearing and sight'], answer: 'Appetite and satiety' },
                    { q: 'Zepbound is an example of what kind of treatment?', options: ['Oral medication', 'Injectable treatment', 'Surgery', 'Exercise program'], answer: 'Injectable treatment' },
                    { q: 'What is one major benefit of oral drugs over injections according to experts?', options: ['They work faster.', 'They could lower costs and expand access.', 'They are colorful.', 'They are only for children.'], answer: 'They could lower costs and expand access.' },
                    { q: 'According to KFF, how many Americans have used GLP-1 injections?', options: ['One in two', 'One in five', 'One in eight', 'None'], answer: 'One in eight' },
                    { q: 'The term "satiety" refers to the feeling of being ______.', options: ['Hungry', 'Full/Satisfied after eating', 'Tired', 'Angry'], answer: 'Full/Satisfied after eating' },
                    { q: 'Why is there a need for oral obesity drugs?', options: ['People like eating pills.', 'Many patients cannot afford injections.', 'Injecting is illegal.', 'There are no other drugs.'], answer: 'Many patients cannot afford injections.' },
                    { q: 'What does "mimicking" mean?', options: ['Killing', 'Ignoring', 'Imitating or copying the action of', 'Improving'], answer: 'Imitating or copying the action of' },
                    { q: 'What does it mean to "afford" something?', options: ['To like it', 'To have enough money to pay for it', 'To find it in a store', 'To throw it away'], answer: 'To have enough money to pay for it' },
                    { q: 'The medication is for treating which condition?', options: ['Headache', 'Obesity', 'Fever', 'Broken bones'], answer: 'Obesity' },
                    { q: 'The word "medication" is a synonym for what?', options: ['Food', 'Drug/Medicine', 'Water', 'Clothing'], answer: 'Drug/Medicine' },
                    { q: 'Is this drug taken once a month or daily?', options: ['Monthly', 'Weekly', 'Daily', 'Only once'], answer: 'Daily' },
                    { q: 'Which country\'s regulators approved the drug?', options: ['UK', 'China', 'USA', 'Japan'], answer: 'USA' }
                ]
            }
        };

        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº«</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢º)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>