<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 2 æœˆ 4 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 2 æœˆ 4 æ—¥ï¼šèƒ½æºä¸»æ¬Šã€è³‡æºå®‰å…¨èˆ‡ AI åŸºç¤è¨­æ–½</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for professional English learning and news analysis. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] President Lai Unveils "Second Energy Transition"; Pledges NT$100B Yearly for Geothermal and Hydrogen\nPresident Lai Ching-te announced on Tuesday a significant expansion of Taiwanâ€™s green energy strategy. Starting this year, the government will allocate NT$100 billion annually to accelerate the commercialization of geothermal energy and green hydrogen infrastructure. Lai emphasized that diversifying energy sources is a national security priority to ensure "energy sovereignty" for burgeoning AI data centers.\n\n[2] Taiwan and U.S. Sign Critical Minerals MOU; Securing Priority Access to Lithium Supply\nTaipei and Washington signed a formal Memorandum of Understanding (MOU) on Tuesday. The agreement guarantees Taiwan priority access to lithium and rare earth elements sourced from U.S. and Australian mines. In exchange, Taiwan will provide advanced refining technology and capital investment, further integrating the "Silicon Shield" with Western resource pools.\n\n[3] MND Confirms Success of "Taiwanese Switchblade" Loitering Munition Sea Trials\nThe Ministry of National Defense (MND) confirmed that its domestically developed loitering munitions, dubbed the "Taiwanese Switchblade," successfully hit all targets during live-fire drills off the coast of Taitung. These cost-effective, AI-assisted drones are a centerpiece of Taiwanâ€™s asymmetric defense strategy to counter coastal intrusions.`,
                chinese: `ã€1ã€‘è³´ç¸½çµ±å®£å¸ƒã€Œç¬¬äºŒæ¬¡èƒ½æºè½‰å‹ã€ï¼š2026 å¹´èµ·æ¯å¹´æŠ• 1,000 å„„æ–¼åœ°ç†±èˆ‡æ°«èƒ½\nè³´æ¸…å¾·ç¸½çµ±é€±äºŒå®£å¸ƒå°ç£ç¶ èƒ½ç­–ç•¥çš„é‡å¤§æ“´å¼µã€‚å¾ä»Šå¹´é–‹å§‹ï¼Œæ”¿åºœæ¯å¹´å°‡æ’¥æ¬¾ 1,000 å„„æ–°å°å¹£ï¼Œä»¥åŠ é€Ÿåœ°ç†±èƒ½èˆ‡ç¶ æ°«åŸºç¤è¨­æ–½çš„å•†æ¥­åŒ–ã€‚è³´ç¸½çµ±å¼·èª¿ï¼Œèƒ½æºå¤šå…ƒåŒ–ä¸åƒ…æ˜¯ç’°å¢ƒå¿…è¦æ€§ï¼Œæ›´æ˜¯ç¢ºä¿ã€Œèƒ½æºä¸»æ¬Šã€çš„åœ‹å®¶å®‰å…¨å„ªå…ˆäº‹é …ï¼Œæ—¨åœ¨ç‚ºå³¶å…§è“¬å‹ƒç™¼å±•çš„ AI æ•¸æ“šä¸­å¿ƒæä¾›å‹•åŠ›ã€‚\n\nã€2ã€‘å°ç¾ç°½ç½²ã€Œé—œéµç¤¦ç”¢åˆä½œå‚™å¿˜éŒ„ã€ï¼šå°ç£å°‡å„ªå…ˆç²å¾—ç¾ã€æ¾³é‹°ç¤¦ä¾›æ‡‰\nå°åŒ—èˆ‡è¯ç››é “é€±äºŒç°½ç½²äº†æ­£å¼çš„ã€Šé—œéµç¤¦ç”¢åˆä½œå‚™å¿˜éŒ„ã€‹ï¼ˆMOUï¼‰ã€‚è©²å”è­°ä¿è­‰å°ç£èƒ½å„ªå…ˆç²å¾—ä¾†è‡ªç¾åœ‹èˆ‡æ¾³æ´²ç¤¦å ´çš„é‹°åŠç¨€åœŸå…ƒç´ ã€‚ä½œç‚ºå›å ±ï¼Œå°ç£å°‡æä¾›å…ˆé€²çš„æç…‰æŠ€è¡“èˆ‡è³‡æœ¬æŠ•è³‡ã€‚é€™é …å¤¥ä¼´é—œä¿‚è¢«è¦–ç‚ºç¢ºä¿é›»å‹•è»Šèˆ‡åŠå°é«”ç”¢æ¥­å¿…éœ€åŸæ–™çš„é‡è¦ä¸€æ­¥ï¼Œé€²ä¸€æ­¥å°‡ã€ŒçŸ½ç›¾ã€èˆ‡è¥¿æ–¹è³‡æºæ± æ•´åˆã€‚\n\nã€3ã€‘åœ‹é˜²éƒ¨è­‰å¯¦ï¼šé¦–æ‰¹ã€Œå°ç‰ˆå½ˆç°§åˆ€ã€å·¡å¼‹é£›å½ˆå·²å®Œæˆæµ·ä¸Šå¯¦å½ˆé©—è­‰\nåœ‹é˜²éƒ¨é€±äºŒè­‰å¯¦ï¼Œåœ‹å…§è‡ªä¸»ç ”ç™¼çš„æ¸¸ç›ªå½ˆè—¥ï¼ˆä¿—ç¨±ã€Œå°ç‰ˆå½ˆç°§åˆ€ã€ï¼‰åœ¨å°æ±å¤–æµ·çš„å¯¦å½ˆæ¼”ç¿’ä¸­æˆåŠŸæ“Šä¸­æ‰€æœ‰ç›®æ¨™ã€‚é€™äº›å…·å‚™æˆæœ¬æ•ˆç›Šä¸”ç”± AI è¼”åŠ©çš„ç„¡äººæ©Ÿï¼Œæ˜¯å°ç£æ‡‰å°è¿‘æµ·å…¥ä¾µèˆ‡æµ·ä¸Šå°é–ä¹‹ã€Œä¸å°ç¨±é˜²ç¦¦ã€æˆ°ç•¥çš„æ ¸å¿ƒã€‚`,
                vocabulary: [
                    'Energy Transition (n.phr.): èƒ½æºè½‰å‹', 'Geothermal (adj.): åœ°ç†±çš„', 'Hydrogen (n.): æ°«/æ°«èƒ½', 'Commercialization (n.): å•†æ¥­åŒ–',
                    'Sovereignty (n.): ä¸»æ¬Š/è‡ªä¸»æ¬Š', 'Burgeoning (adj.): è“¬å‹ƒç™¼å±•çš„/è¿…é€Ÿå¢é•·çš„', 'Critical Minerals (n.phr.): é—œéµç¤¦ç”¢', 'Lithium (n.): é‹°',
                    'Rare earth elements (n.phr.): ç¨€åœŸå…ƒç´ ', 'Refining technology (n.phr.): æç…‰æŠ€è¡“', 'Resource pools (n.phr.): è³‡æºæ± ', 'Loitering munition (n.phr.): æ¸¸ç›ªå½ˆè—¥ (å·¡å¼‹ç„¡äººæ©Ÿ)',
                    'Sea trials (n.phr.): æµ·ä¸Šè©¦é©—/é©—è­‰', 'Live-fire drill (n.phr.): å¯¦å½ˆæ¼”ç¿’', 'Asymmetric defense (n.phr.): ä¸å°ç¨±é˜²ç¦¦', 'Centerpiece (n.): æ ¸å¿ƒ/é‡è¦éƒ¨åˆ†',
                    'Coastal intrusions (n.phr.): è¿‘æµ·å…¥ä¾µ', 'Maritime blockades (n.phr.): æµ·ä¸Šå°é–', 'Diversifying (v.ger.): å¤šå…ƒåŒ–', 'Necessity (n.): å¿…è¦æ€§',
                    'Strategic move (n.phr.): æˆ°ç•¥èˆ‰æª', 'De-risk (v.): å»é¢¨éšªåŒ–', 'Memorandum (n.): å‚™å¿˜éŒ„', 'Refining (v.ger.): æç…‰/ç²¾ç…‰',
                    'Assisted (v.pp.): è¼”åŠ©çš„', 'Integration (n.): æ•´åˆ', 'Aims to (v.phr.): æ—¨åœ¨', 'Pledges (v./n.): æ‰¿è«¾',
                    'Infrastructure (n.): åŸºç¤å»ºè¨­', 'Essential (adj.): åŸºæœ¬çš„/å¿…è¦çš„', 'Sourced (v.pp.): ä¾†æºæ–¼', 'Counter (v.): æ‡‰å°/å°æŠ—'
                ],
                quiz: [
                    { q: 'How much money does the Taiwan government pledge yearly for the "Second Energy Transition"?', options: ['NT$10B', 'NT$45B', 'NT$100B', 'NT$400B'], answer: 'NT$100B' },
                    { q: 'Which two specific energy sources are highlighted in the Second Energy Transition?', options: ['Solar and Wind', 'Nuclear and Coal', 'Geothermal and Hydrogen', 'Gas and Oil'], answer: 'Geothermal and Hydrogen' },
                    { q: 'Why is energy diversification considered a "national security priority"?', options: ['To lower electricity bills', 'To ensure "energy sovereignty" for AI data centers', 'To win an election', 'To build more skyscrapers'], answer: 'To ensure "energy sovereignty" for AI data centers' },
                    { q: 'What kind of minerals does the new MOU secure for Taiwan?', options: ['Gold and Silver', 'Coal and Iron', 'Lithium and Rare Earth Elements', 'Copper and Zinc'], answer: 'Lithium and Rare Earth Elements' },
                    { q: 'Where are the mines located that will supply critical minerals to Taiwan?', options: ['China and Russia', 'The U.S. and Australia', 'Japan and Korea', 'Canada and Mexico'], answer: 'The U.S. and Australia' },
                    { q: 'What will Taiwan provide to the U.S. in exchange for mineral access?', options: ['Agricultural products', 'Raw labor', 'Advanced refining technology and capital', 'Oil and gas'], answer: 'Advanced refining technology and capital' },
                    { q: 'What is the "Taiwanese Switchblade" technically called?', options: ['A fighter jet', 'A loitering munition', 'A submarine', 'A satellite'], answer: 'A loitering munition' },
                    { q: 'Where did the live-fire verification for the loitering munition take place?', options: ['Taipei', 'Hualien', 'Taitung coast', 'Kaohsiung'], answer: 'Taitung coast' },
                    { q: 'The "Taiwanese Switchblade" is a centerpiece of which defense strategy?', options: ['Traditional warfare', 'Nuclear deterrence', 'Asymmetric defense', 'Space defense'], answer: 'Asymmetric defense' },
                    { q: 'The word "burgeoning" most nearly means ______.', options: ['Declining', 'Steady', 'Rapidly growing', 'Secretive'], answer: 'Rapidly growing' },
                    { q: 'What does "MND" stand for?', options: ['Ministry of National Defense', 'Mainland National Department', 'Ministry of New Design', 'Military Network Division'], answer: 'Ministry of National Defense' },
                    { q: 'The MOU aims to "de-risk" which of the following?', options: ['The weather', 'The global tech supply chain', 'The local housing market', 'Public transport'], answer: 'The global tech supply chain' },
                    { q: 'The term "loitering" in a military drone context means ______.', options: ['Flying very fast', 'Staying over an area to wait for a target', 'Falling down', 'Returning home'], answer: 'Staying over an area to wait for a target' },
                    { q: 'Lithium is essential for which Taiwanese industry?', options: ['Textiles', 'Electric vehicles', 'Fishing', 'Fashion'], answer: 'Electric vehicles' },
                    { q: 'Which agency is mentioned in the first news piece as leading the energy expansion?', options: ['MOEA', 'The Government/President Lai', 'CWA', 'TASA'], answer: 'The Government/President Lai' }
                ]
            },
            'fed-hassett-imperative': {
                title: 'è¯æº–æœƒé™æ¯ã€Œå‹¢åœ¨å¿…è¡Œã€',
                english: `Acting Federal Reserve Chairman Kevin Hassett reaffirmed his dovish stance on Tuesday, stating that a significant 50-basis-point interest rate cut in March is necessary to sustain the current "industrial renaissance." Hassett argued that with inflation firmly under control, the central bankâ€™s primary focus should be on lowering the cost of capital for domestic manufacturers. His comments led to a fresh rally in the Dow Jones, though some hawkish economists warned that such an aggressive cut could reignite property market bubbles. Hassett indicated that as long as job data remains steady, the rate cut is "imperative" to maintain economic momentum.`,
                chinese: `è¯æº–æœƒä¸»å¸­å“ˆå¡ç‰¹ï¼šè‹¥å°±æ¥­æ•¸æ“šä¿æŒç©©å®šï¼Œä¸‰æœˆé™æ¯å…©ç¢¼ã€Œå‹¢åœ¨å¿…è¡Œã€ã€‚ä»£ç†è¯æº–æœƒä¸»å¸­å‡±æ–‡Â·å“ˆå¡ç‰¹é€±äºŒé‡ç”³äº†ä»–çš„ã€Œé´¿æ´¾ã€ç«‹å ´ï¼Œè¡¨ç¤º 3 æœˆé™æ¯ 50 å€‹åŸºé»ï¼ˆå…©ç¢¼ï¼‰å°æ–¼ç¶­æŒç•¶å‰çš„ã€Œå·¥æ¥­å¾©èˆˆã€æ˜¯å¿…è¦çš„ã€‚å“ˆå¡ç‰¹è¾¯ç¨±ï¼Œéš¨è‘—é€šè²¨è†¨è„¹å·²å¾—åˆ°ç©©å›ºæ§åˆ¶ï¼Œå¤®è¡Œçš„é¦–è¦ä»»å‹™æ‡‰æ”¾åœ¨é™ä½åœ‹å…§è£½é€ å•†çš„è³‡é‡‘æˆæœ¬ã€‚ä»–çš„è¨€è«–å¼•ç™¼äº†é“ç“Šå·¥æ¥­æŒ‡æ•¸çš„æ–°ä¸€æ³¢æ¼²å‹¢ï¼Œå„˜ç®¡éƒ¨åˆ†ã€Œé·¹æ´¾ã€ç¶“æ¿Ÿå­¸å®¶è­¦å‘Šï¼Œå¦‚æ­¤æ¿€é€²çš„é™æ¯å¯èƒ½æœƒé‡æ–°é»ç‡ƒæˆ¿åœ°ç”¢å¸‚å ´æ³¡æ²«ã€‚å“ˆå¡ç‰¹æŒ‡å‡ºï¼Œåªè¦å°±æ¥­æ•¸æ“šç¶­æŒç©©å®šï¼Œé™æ¯å°æ–¼ç¶­æŒç¶“æ¿Ÿå‹•èƒ½è€Œè¨€æ˜¯ã€Œå‹¢åœ¨å¿…è¡Œã€çš„ã€‚`,
                vocabulary: [
                    'Imperative (adj.): å‹¢åœ¨å¿…è¡Œçš„/ç·Šæ€¥çš„', 'Dovish stance (n.phr.): é´¿æ´¾ç«‹å ´', 'Interest rate cut (n.phr.): é™æ¯', 'Basis-point (n.): åŸºé» (0.01%)',
                    'Sustain (v.): ç¶­æŒ/æ”¯æ’', 'Industrial renaissance (n.phr.): å·¥æ¥­å¾©èˆˆ', 'Inflation (n.): é€šè†¨', 'Firmly under control (phr.): ç©©å›ºå—æ§',
                    'Cost of capital (n.phr.): è³‡é‡‘æˆæœ¬', 'Domestic manufacturers (n.phr.): åœ‹å…§è£½é€ å•†', 'Rally (n.): (è‚¡å¸‚) æ¼²å‹¢', 'Hawkish (adj.): é·¹æ´¾çš„ (æ”¯æŒé«˜åˆ©ç‡)',
                    'Economists (n.): ç¶“æ¿Ÿå­¸å®¶', 'Aggressive cut (n.phr.): æ¿€é€²é™æ¯', 'Reignite (v.): é‡ç‡ƒ', 'Property market bubbles (n.phr.): æˆ¿åœ°ç”¢å¸‚å ´æ³¡æ²«',
                    'Job data (n.phr.): å°±æ¥­æ•¸æ“š', 'Steady (adj.): ç©©å®šçš„', 'Momentum (n.): å‹•èƒ½', 'Reaffirmed (v.pt.): é‡ç”³/å†æ¬¡ç¢ºèª',
                    'Dovish (adj.): æº«å’Œçš„/é´¿æ´¾çš„', 'Hawkish (adj.): å¼·ç¡¬çš„/é·¹æ´¾çš„', 'Renaissance (n.): å¾©èˆˆ', 'Bubble (n.): æ³¡æ²«',
                    'Aggressive (adj.): æ¿€é€²çš„', 'Momentum (n.): å‹•åŠ›', 'Inflation (n.): é€šè†¨', 'Manufacturer (n.): è£½é€ å•†',
                    'Capital (n.): è³‡æœ¬', 'Interest (n.): åˆ©æ¯', 'Central bank (n.phr.): ä¸­å¤®éŠ€è¡Œ', 'Policy (n.): æ”¿ç­–'
                ],
                quiz: [
                    { q: 'What is the size of the proposed interest rate cut for March?', options: ['10 bps', '25 bps', '50 bps', '75 bps'], answer: '50 bps' },
                    { q: 'What phrase did Hassett use to describe the current economic phase?', options: ['"Economic depression"', '"Industrial renaissance"', '"Digital age"', '"Great recession"'], answer: '"Industrial renaissance"' },
                    { q: 'Under what condition is the rate cut considered "imperative"?', options: ['If inflation rises', 'If job data remains steady', 'If the stock market crashes', 'If oil prices drop'], answer: 'If job data remains steady' },
                    { q: 'Hassett wants the Fed to focus on lowering the cost of capital for whom?', options: ['Retail banks', 'Domestic manufacturers', 'Foreign governments', 'Individual students'], answer: 'Domestic manufacturers' },
                    { q: 'Which stock index reached a fresh rally after Hassett\'s comments?', options: ['NASDAQ', 'S&P 500', 'Dow Jones', 'TAIEX'], answer: 'Dow Jones' },
                    { q: 'What is the concern of "hawkish" economists?', options: ['Low job growth', 'Property market bubbles', 'Too much oil', 'Slow internet'], answer: 'Property market bubbles' },
                    { q: 'What does "dovish" mean in a financial context?', options: ['Favoring high interest rates', 'Favoring low interest rates to support growth', 'Ignoring the economy', 'Fighting a war'], answer: 'Favoring low interest rates to support growth' },
                    { q: 'The term "imperative" means something is ______.', options: ['Optional', 'Boring', 'Absolutely necessary', 'Secret'], answer: 'Absolutely necessary' },
                    { q: 'What is a "basis point"?', options: ['1%', '0.1%', '0.01%', '10%'], answer: '0.01%' },
                    { q: 'Hassett believes inflation is "firmly ______."', options: ['Rising', 'Under control', 'Disappearing', 'Ignored'], answer: 'Under control' },
                    { q: 'What is a "renaissance"?', options: ['A failure', 'A revival or rebirth', 'A type of tool', 'A long wait'], answer: 'A revival or rebirth' },
                    { q: 'The word "reignite" implies that the bubble was ______ before.', options: ['New', 'Already there but had calmed down', 'Never seen', 'Illegal'], answer: 'Already there but had calmed down' },
                    { q: 'Hassett is the "______" Federal Reserve Chairman.', options: ['Previous', 'Acting', 'Retired', 'Permanent'], answer: 'Acting' },
                    { q: 'Economic "momentum" refers to its ______.', options: ['Weight', 'Color', 'Strength or driving force', 'Price'], answer: 'Strength or driving force' },
                    { q: 'What is the "neutral rate" mentioned in earlier news (and relevant here)?', options: ['The rate that neither stimulates nor restrains economy', '0% interest', 'The highest tax rate', 'The rate of inflation'], answer: 'The rate that neither stimulates nor restrains economy' }
                ]
            },
            'ukraine-peace-talks': {
                title: 'çƒå…‹è˜­å’Œå¹³è«‡åˆ¤æ–°æè­°',
                english: `As the Vienna summit approaches, Russian negotiators reportedly floated a proposal on Tuesday to establish a "Black Sea Free Trade Zone" under international supervision. In exchange, Moscow is demanding a gradual lifting of Western sanctions on its energy and agricultural sectors. President Volodymyr Zelenskyy responded that while economic cooperation is a future goal, any deal must prioritize the full withdrawal of Russian troops from sovereign Ukrainian soil and a clear mechanism for war reparations. Zelenskyy emphasized that security must come before trade agreements.`,
                chinese: `çƒå…‹è˜­å’Œå¹³è«‡åˆ¤ï¼šä¿„ç¾…æ–¯æè­°å»ºç«‹ã€Œé»‘æµ·è‡ªç”±è²¿æ˜“å€ã€ä»¥æ›å–éƒ¨åˆ†åˆ¶è£è§£é™¤ã€‚éš¨è‘—ç¶­ä¹Ÿç´å³°æœƒæ¥è¿‘ï¼Œæ“šå ±å°ä¿„ç¾…æ–¯è«‡åˆ¤ä»£è¡¨é€±äºŒæå‡ºä¸€é …å»ºè­°ï¼Œåœ¨åœ‹éš›ç›£ç£ä¸‹å»ºç«‹ã€Œé»‘æµ·è‡ªç”±è²¿æ˜“å€ã€ã€‚ä½œç‚ºäº¤æ›ï¼Œè«æ–¯ç§‘è¦æ±‚è¥¿æ–¹åœ‹å®¶é€æ­¥è§£é™¤å°å…¶èƒ½æºèˆ‡è¾²æ¥­éƒ¨é–€çš„åˆ¶è£ã€‚çƒå…‹è˜­ç¸½çµ±æ¾¤å€«æ–¯åŸºå›æ‡‰è¡¨ç¤ºï¼Œé›–ç„¶ç¶“æ¿Ÿåˆä½œæ˜¯æœªä¾†çš„ç›®æ¨™ï¼Œä½†ä»»ä½•å”è­°éƒ½å¿…é ˆå„ªå…ˆè€ƒæ…®ä¿„ç¾…æ–¯è»éšŠå¾çƒå…‹è˜­ä¸»æ¬Šé ˜åœŸå…¨é¢æ’¤å‡ºï¼Œä¸¦å»ºç«‹æ˜ç¢ºçš„æˆ°çˆ­è³ å„Ÿæ©Ÿåˆ¶ã€‚æ¾¤å€«æ–¯åŸºå¼·èª¿ï¼Œå®‰å…¨å¿…é ˆå…ˆæ–¼è²¿æ˜“å”è­°ã€‚`,
                vocabulary: [
                    'Vienna summit (n. proper): ç¶­ä¹Ÿç´å³°æœƒ', 'Negotiators (n.): è«‡åˆ¤ä»£è¡¨', 'Floated a proposal (phr.): æå‡ºå»ºè­°/è©¦æ¢æ€§æè­°', 'Free Trade Zone (n.phr.): è‡ªç”±è²¿æ˜“å€',
                    'International supervision (n.phr.): åœ‹éš›ç›£ç£', 'Gradual lifting (phr.): é€æ­¥è§£é™¤', 'Western sanctions (n.phr.): è¥¿æ–¹åˆ¶è£', 'Agricultural sectors (n.phr.): è¾²æ¥­éƒ¨é–€',
                    'Economic cooperation (n.phr.): ç¶“æ¿Ÿåˆä½œ', 'Full withdrawal (n.phr.): å…¨é¢æ’¤è»', 'Sovereign soil (n.phr.): ä¸»æ¬Šé ˜åœŸ', 'Mechanism (n.): æ©Ÿåˆ¶',
                    'War reparations (n.phr.): æˆ°çˆ­è³ æ¬¾', 'Prioritize (v.): å„ªå…ˆè€ƒæ…®', 'Reparations (n.): è³ å„Ÿ', 'Ceasefire (n.): åœç«',
                    'Concession (n.): è®“æ­¥', 'Withdrawal (n.): æ’¤å›', 'Guarantees (n.): ä¿è­‰', 'Implementation (n.): åŸ·è¡Œ',
                    'Supervision (n.): ç›£ç£', 'Sanction (n.): åˆ¶è£', 'Soil (n.): åœŸå£¤/é ˜åœŸ', 'Summit (n.): å³°æœƒ',
                    'Proposal (n.): ææ¡ˆ', 'Establish (v.): å»ºç«‹', 'Withdraw (v.): æ’¤é€€', 'Reparation (n.): è£œå„Ÿ'
                ],
                quiz: [
                    { q: 'In which city is the upcoming peace summit expected to take place?', options: ['Kyiv', 'Moscow', 'Vienna', 'Washington'], answer: 'Vienna' },
                    { q: 'What kind of zone did Russian negotiators propose to establish?', options: ['Military exclusion zone', 'Nuclear testing zone', 'Black Sea Free Trade Zone', 'Tourist park'], answer: 'Black Sea Free Trade Zone' },
                    { q: 'The proposed zone would be under whose supervision?', options: ['Russian only', 'Ukrainian only', 'International supervision', 'The U.S. only'], answer: 'International supervision' },
                    { q: 'What does Moscow want Western countries to do in exchange?', options: ['Send food aid', 'Gradually lift sanctions', 'Join the Russian military', 'Provide satellites'], answer: 'Gradually lift sanctions' },
                    { q: 'Which two sectors of Russia are targets for lifting sanctions?', options: ['Technology and Arts', 'Energy and agricultural', 'Space and Tourism', 'Banking and Education'], answer: 'Energy and agricultural' },
                    { q: 'What is Zelenskyy\'s top priority for any potential deal?', options: ['Building a new mall', 'Full withdrawal of Russian troops', 'Lowering gas prices', 'Free trade with China'], answer: 'Full withdrawal of Russian troops' },
                    { q: 'What other requirement did Zelenskyy mention besides troop withdrawal?', options: ['A clear mechanism for war reparations', 'A statue in Vienna', 'More Western loans', 'A new language law'], answer: 'A clear mechanism for war reparations' },
                    { q: 'Zelenskyy emphasized that ______ must come before trade agreements.', options: ['Money', 'Security', 'Farming', 'Sports'], answer: 'Security' },
                    { q: 'The term "floated a proposal" means ______.', options: ['A proposal was put in the ocean', 'A proposal was suggested for consideration', 'A proposal was rejected', 'A proposal was lost'], answer: 'A proposal was suggested for consideration' },
                    { q: 'What are "sanctions"?', options: ['Gifts given between nations', 'Penalties imposed by one country on another', 'Trade deals', 'Military treaties'], answer: 'Penalties imposed by one country on another' },
                    { q: 'The word "sovereign" describes territory that is ______.', options: ['Independent and self-governing', 'Owned by Russia', 'Under common use', 'Boring'], answer: 'Independent and self-governing' },
                    { q: 'What are "war reparations"?', options: ['Winning rewards', 'Payments made to compensate for war damage', 'New weapons', 'Victory parades'], answer: 'Payments made to compensate for war damage' },
                    { q: 'The word "gradual" means ______.', options: ['Sudden and fast', 'Happening slowly over a period of time', 'Never happening', 'Secret'], answer: 'Happening slowly over a period of time' },
                    { q: 'Who responded that economic cooperation is a future goal?', options: ['Vladimir Putin', 'Volodymyr Zelenskyy', 'Donald Trump', 'Kevin Hassett'], answer: 'Volodymyr Zelenskyy' },
                    { q: 'Is the "Black Sea Free Trade Zone" currently established?', options: ['Yes', 'No, it is a proposal', 'Only in part', 'The text doesn\'t say'], answer: 'No, it is a proposal' }
                ]
            },
            'nvidia-ai-meteorologist': {
                title: 'è¼é”æ¨å‡ºã€ŒAI æ°£è±¡å“¡ã€',
                english: `NVIDIA CEO Jensen Huang unveiled "Project Earth-2" on Tuesday, a specialized AI platform designed to predict catastrophic weather events with unprecedented precision. The system utilizes generative physical models and can reportedly forecast hurricane paths and heatwave intensities with 80% greater accuracy than traditional methods. Governments across the Global South are already moving to integrate this technology into their disaster response frameworks, marking NVIDIAâ€™s shift from consumer AI to life-saving infrastructure. This technology could significantly reduce the humanitarian and economic toll of climate change.`,
                chinese: `è¼é”ï¼ˆNVIDIAï¼‰å®£ä½ˆæ¨å‡ºã€ŒAI æ°£è±¡å“¡ã€ï¼šé æ¸¬æ¥µç«¯å¤©æ°£æº–ç¢ºåº¦æå‡ 80%ã€‚è¼é”åŸ·è¡Œé•·é»ƒä»å‹³é€±äºŒæ­æ›‰äº†ã€ŒEarth-2 è¨ˆç•«ã€ï¼Œé€™æ˜¯ä¸€å€‹å°ˆé–€çš„ AI å¹³å°ï¼Œæ—¨åœ¨ä»¥å‰æ‰€æœªæœ‰çš„ç²¾ç¢ºåº¦é æ¸¬ç½é›£æ€§å¤©æ°£äº‹ä»¶ã€‚è©²ç³»çµ±åˆ©ç”¨ç”Ÿæˆå¼ç‰©ç†æ¨¡å‹ï¼Œæ“šå ±å°é æ¸¬é¢¶é¢¨è·¯å¾‘èˆ‡ç†±æµªå¼·åº¦çš„æº–ç¢ºåº¦æ¯”å‚³çµ±æ–¹æ³•é«˜å‡º 80%ã€‚å…¨çƒå—æ–¹ï¼ˆGlobal Southï¼‰å„åœ‹æ”¿åºœå·²é–‹å§‹è‘—æ‰‹å°‡æ­¤æŠ€è¡“æ•´åˆè‡³å…¶ç½é›£æ‡‰è®Šæ¡†æ¶ä¸­ï¼Œæ¨™èªŒè‘—è¼é”æ­£å¾æ¶ˆè²»å‹ AI è½‰å‘æ•‘ç”ŸåŸºç¤è¨­æ–½ã€‚é€™é …æŠ€è¡“å¯é¡¯è‘—é™ä½æ°£å€™è®Šé·æ‰€å¸¶ä¾†çš„äººé“èˆ‡ç¶“æ¿Ÿæå¤±ã€‚`,
                vocabulary: [
                    'Meteorologist (n.): æ°£è±¡å­¸å®¶/æ°£è±¡å“¡', 'Unveiled (v.pt.): æ­æ›‰/å…¬å¸ƒ', 'Project Earth-2 (n. proper): Earth-2 è¨ˆç•«', 'Precision (n.): ç²¾ç¢ºåº¦',
                    'Catastrophic (adj.): ç½é›£æ€§çš„', 'Unprecedented (adj.): å‰æ‰€æœªæœ‰çš„', 'Generative physical models (n.phr.): ç”Ÿæˆå¼ç‰©ç†æ¨¡å‹', 'Forecast (v./n.): é æ¸¬',
                    'Hurricane paths (n.phr.): é¢¶é¢¨è·¯å¾‘', 'Heatwave intensities (n.phr.): ç†±æµªå¼·åº¦', 'Global South (n. proper): å…¨çƒå—æ–¹ (é–‹ç™¼ä¸­åœ‹å®¶)', 'Integrate (v.): æ•´åˆ',
                    'Disaster response (n.phr.): ç½é›£æ‡‰è®Š', 'Frameworks (n.): æ¡†æ¶/é«”ç³»', 'Life-saving infrastructure (n.phr.): æ•‘ç”ŸåŸºç¤è¨­æ–½', 'Humanitarian toll (n.phr.): äººé“ä»£åƒ¹/æå¤±',
                    'Meteorological (adj.): æ°£è±¡çš„', 'Unprecedented (adj.): å²ç„¡å‰ä¾‹çš„', 'Precision (n.): æº–ç¢º', 'Catastrophe (n.): å¤§ç½é›£',
                    'Model (n.): æ¨¡å‹', 'Hurricane (n.): é¢¶é¢¨', 'Infrastructure (n.): åŸºç¤å»ºè¨­', 'Platform (n.): å¹³å°',
                    'Shift (n.): è½‰ç§»', 'Consumer (n.): æ¶ˆè²»è€…', 'Climate change (n.phr.): æ°£å€™è®Šé·', 'Toll (n.): æå¤±/ä»£åƒ¹',
                    'Generative (adj.): ç”Ÿæˆçš„', 'Physical (adj.): ç‰©ç†çš„', 'Predict (v.): é æ¸¬', 'Accuracy (n.): æº–ç¢ºåº¦'
                ],
                quiz: [
                    { q: 'What is the name of NVIDIAâ€™s new AI weather project?', options: ['Project Sky', 'Project Earth-2', 'Project Storm', 'Project Wind'], answer: 'Project Earth-2' },
                    { q: 'How much more accurate is the new system compared to traditional methods?', options: ['10%', '50%', '80%', '100%'], answer: '80%' },
                    { q: 'What specific weather events can the system forecast more accurately?', options: ['Hurricane paths and heatwave intensities', 'Snowfall in New York only', 'Daily rain in London', 'The phases of the moon'], answer: 'Hurricane paths and heatwave intensities' },
                    { q: 'Which region of governments is moving to integrate this technology?', options: ['European Union', 'Global South', 'North America only', 'Russia'], answer: 'Global South' },
                    { q: 'Project Earth-2 marks NVIDIAâ€™s shift from consumer AI to ______.', options: ['Video games', 'Life-saving infrastructure', 'Fashion design', 'Cooking apps'], answer: 'Life-saving infrastructure' },
                    { q: 'The system utilizes "generative ______ models."', options: ['Economic', 'Social', 'Physical', 'Chemical'], answer: 'Physical' },
                    { q: 'What is a major potential benefit of this technology mentioned in the text?', options: ['Faster smartphones', 'Reducing humanitarian and economic toll of climate change', 'Cheaper gaming cards', 'Better music'], answer: 'Reducing humanitarian and economic toll of climate change' },
                    { q: 'The term "Global South" generally refers to ______.', options: ['The bottom part of the map', 'Developed nations', 'Developing or emerging nations', 'Antarctica'], answer: 'Developing or emerging nations' },
                    { q: 'What does "unprecedented" mean?', options: ['Very old', 'Never happened or seen before', 'A minor update', 'Happening daily'], answer: 'Never happened or been seen before' },
                    { q: 'The word "precision" is a synonym for ______.', options: ['Speed', 'Accuracy', 'Color', 'Wealth'], answer: 'Accuracy' },
                    { q: 'What is a "heatwave"?', options: ['A cold storm', 'A period of abnormally hot weather', 'A large sea wave', 'A type of cloud'], answer: 'A period of abnormally hot weather' },
                    { q: 'The term "infrastructure" refers to ______.', options: ['Only people', 'Basic physical and organizational structures', 'Only software', 'Toys'], answer: 'Basic physical and organizational structures' },
                    { q: 'Who unveiled Project Earth-2 on Tuesday?', options: ['Elon Musk', 'Jensen Huang', 'Donald Trump', 'The UN'], answer: 'Jensen Huang' },
                    { q: 'A "catastrophic" event is one that causes ______.', options: ['Joy', 'Minor delay', 'Great damage or suffering', 'A small noise'], answer: 'Great damage or suffering' },
                    { q: 'Is this technology aimed at individual consumers or governments/infrastructure?', options: ['Individual consumers', 'Governments and infrastructure', 'Only school children', 'Only athletes'], answer: 'Governments and infrastructure' }
                ]
            },
            'un-carbon-tax': {
                title: 'è¯åˆåœ‹ï¼šå…¨çƒæµ·é‹ç¢³æ’ç¨… 2026 ç”Ÿæ•ˆ',
                english: `The International Maritime Organization (IMO) confirmed on Tuesday that a new global carbon levy on shipping will be implemented in 2026. The tax is designed to fund the transition to zero-emission fuels. Logistics experts predict that this "green tax" will lead to a 5% increase in global shipping rates, adding further inflationary pressure to the prices of imported consumer goods and energy across Europe and Asia. The revenue will be managed by a UN-led climate fund to support green shipping technology in developing nations.`,
                chinese: `è¯åˆåœ‹ï¼š2026 å¹´å…¨çƒæµ·é‹ç¢³æ’ç¨…å°‡æ­£å¼ç”Ÿæ•ˆï¼Œé‹è²»é è¨ˆå¢åŠ  5%ã€‚åœ‹éš›æµ·äº‹çµ„ç¹”ï¼ˆIMOï¼‰é€±äºŒè­‰å¯¦ï¼Œæ–°çš„å…¨çƒèˆªé‹ç¢³ç¨…å°‡æ–¼ 2026 å¹´å¯¦æ–½ã€‚é€™é …ç¨…æ”¶æ—¨åœ¨ç‚ºè½‰å‘é›¶æ’æ”¾ç‡ƒæ–™æä¾›è³‡é‡‘ã€‚ç‰©æµå°ˆå®¶é æ¸¬ï¼Œé€™é …ã€Œç¶ è‰²ç¨…ã€å°‡å°è‡´å…¨çƒæµ·é‹è²»ç”¨ä¸Šæ¼² 5%ï¼Œé€²è€Œç‚ºæ­æ´²èˆ‡äºæ´²çš„é€²å£æ¶ˆè²»å“åŠèƒ½æºåƒ¹æ ¼å¢åŠ é€šè†¨å£“åŠ›ã€‚ç¨…æ”¶æ‰€å¾—å°‡ç”±è¯åˆåœ‹é ˜å°çš„æ°£å€™åŸºé‡‘ç®¡ç†ï¼Œç”¨æ–¼æ”¯æŒé–‹ç™¼ä¸­åœ‹å®¶çš„ç¶ è‰²èˆªé‹æŠ€è¡“ã€‚`,
                vocabulary: [
                    'International Maritime Organization (IMO) (n. proper): åœ‹éš›æµ·äº‹çµ„ç¹”', 'Carbon levy (n.phr.): ç¢³ç¨…/ç¢³è²»', 'Implemented (v.pp.): å¯¦æ–½çš„/åŸ·è¡Œçš„',
                    'Zero-emission fuels (n.phr.): é›¶æ’æ”¾ç‡ƒæ–™', 'Logistics experts (n.phr.): ç‰©æµå°ˆå®¶', 'Shipping rates (n.phr.): æµ·é‹è²»ç”¨/é‹è²»',
                    'Imported consumer goods (n.phr.): é€²å£æ¶ˆè²»å“', 'Inflationary pressure (n.phr.): é€šè†¨å£“åŠ›', 'Climate fund (n.phr.): æ°£å€™åŸºé‡‘', 'Developing nations (n.phr.): é–‹ç™¼ä¸­åœ‹å®¶',
                    'Green technology (n.phr.): ç¶ è‰²æŠ€è¡“', 'Revenue (n.): ç¨…æ”¶/æ”¶å…¥', 'Maritime (adj.): æµ·äº‹çš„', 'Emission (n.): æ’æ”¾',
                    'Inflation (n.): é€šè†¨', 'Levy (n.): å¾µæ”¶/ç¨…æ¬¾', 'Logistics (n.): ç‰©æµ', 'Transition (n.): è½‰å‹',
                    'Imported (adj.): é€²å£çš„', 'Confirmed (v.pp.): è­‰å¯¦çš„', 'Global (adj.): å…¨çƒçš„', 'Expert (n.): å°ˆå®¶',
                    'Tax (n.): ç¨…', 'Rate (n.): è²»ç‡/æ¯”ç‡', 'Revenue (n.): æ­²å…¥', 'Manage (v.): ç®¡ç†'
                ],
                quiz: [
                    { q: 'Which international organization confirmed the new carbon levy?', options: ['WHO', 'WTO', 'IMO', 'UNESCO'], answer: 'IMO' },
                    { q: 'When will the global carbon tax on shipping take effect?', options: ['2024', '2025', '2026', '2030'], answer: '2026' },
                    { q: 'What is the purpose of the new "green tax"?', options: ['To buy more ships', 'To fund the transition to zero-emission fuels', 'To build a new canal', 'To lower consumer prices'], answer: 'To fund the transition to zero-emission fuels' },
                    { q: 'What is the predicted increase in global shipping rates due to this tax?', options: ['1%', '5%', '15%', '50%'], answer: '5%' },
                    { q: 'Which two regions are expected to see higher prices for consumer goods?', options: ['USA and Canada', 'Europe and Asia', 'South America and Africa', 'Australia and New Zealand'], answer: 'Europe and Asia' },
                    { q: 'Who will manage the revenue from the carbon tax?', options: ['The US government', 'A UN-led climate fund', 'Private shipping companies', 'Individual banks'], answer: 'A UN-led climate fund' },
                    { q: 'The fund will support green shipping technology in which nations?', options: ['Wealthy nations', 'Developing nations', 'Only Russia', 'Only small islands'], answer: 'Developing nations' },
                    { q: 'What does "maritime" refer to?', options: ['Air travel', 'Sea and shipping', 'Space exploration', 'Underground mining'], answer: 'Sea and shipping' },
                    { q: 'A "levy" is a synonym for ______.', options: ['Gift', 'Tax or fee', 'Problem', 'Secret'], answer: 'Tax or fee' },
                    { q: 'What are "zero-emission" fuels?', options: ['Fuels that cause a lot of smoke', 'Fuels that release no greenhouse gases', 'Cheap gasoline', 'Traditional coal'], answer: 'Fuels that release no greenhouse gases' },
                    { q: 'What is "inflationary pressure"?', options: ['Pressure that leads to higher prices', 'Pressure that lowers prices', 'Pressure from water', 'Pressure on a machine'], answer: 'Pressure that leads to higher prices' },
                    { q: 'Logistics involves the management of ______.', options: ['Only people', 'The flow of things between origin and consumption', 'Only money', 'Only weather'], answer: 'The flow of things between origin and consumption' },
                    { q: 'The news refers to "imported consumer goods." What does "imported" mean?', options: ['Grown locally', 'Brought in from another country', 'Very expensive', 'Electronic only'], answer: 'Brought in from another country' },
                    { q: 'The term "zero-emission" targets which environmental issue?', options: ['Plastic waste', 'Climate change/Global warming', 'Noise pollution', 'Space debris'], answer: 'Climate change/Global warming' },
                    { q: 'On which day was the IMO announcement confirmed?', options: ['Monday', 'Tuesday', 'Wednesday', 'Friday'], answer: 'Tuesday' }
                ]
            }
        };

        // --- STATE MANAGEMENT ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        // --- CORE RENDERING ---
        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title.split('ï¼š')[0]}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº« (${data.vocabulary.length})</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ ¸å¿ƒå–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    const escapedOption = option.replace(/'/g, "\\'");
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${escapedOption}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å…§å®¹æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>