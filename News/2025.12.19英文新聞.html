<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2025 å¹´ 12 æœˆ 19 æ—¥é ­æ¢</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for a clean, professional interface */
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; /* Soft light blue/grey background */
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; /* Larger border radius for softness */
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); /* Deeper, softer shadow */
        }
        /* Main News Tabs Styling (Primary Navigation) */
        .main-tabs-container {
            background-color: #f8fafc; /* Very light background for the tab bar */
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; /* Overlap border with content area */
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; /* Gray text for inactive */
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .main-tab-button.active {
            color: #2b6cb0; /* Blue text for active */
            border-bottom-color: #3182ce; /* Active blue border */
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        /* Sub-Tabs Styling (Secondary Navigation) */
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; /* Indigo for active sub-tab */
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        /* Quiz specific styles */
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover {
            background-color: #e2e8f0;
        }
        .quiz-option.selected {
            border-color: #4c51bf;
            background-color: #e0e7ff;
        }
        .quiz-option.correct {
            background-color: #c6f6d5; /* Green */
            border-color: #38a169;
            font-weight: 700;
        }
        .quiz-option.incorrect {
            background-color: #fed7d7; /* Red */
            border-color: #e53e3e;
            font-weight: 700;
        }
        /* Article text formatting for readability */
        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        /* Scrollbar styling for cleanliness */
        ::-webkit-scrollbar {
            height: 8px;
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2025 å¹´ 12 æœˆ 19 æ—¥é ­æ¢æ–°è - æ²‰æµ¸å¼å­¸ç¿’é«”é©—</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs for News Topics (ä¸»åˆ†é ) -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200">
                <!-- Tabs will be rendered here by JavaScript -->
            </div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <!-- Content (Article, Translation, Vocab, Quiz) will be rendered here -->
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for an immersive English news learning experience. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE: NEWS CONTENT ---
        const NEWS_DATA = {
            'taiwan-local-news-dec19': {
                title: 'å°ç£æœ¬åœ°æ–°èï¼šæ°´æ³¥å‚¾éŠ·ã€å·´é»èŒ¶çå¹²æ“¾èˆ‡å›åœ‹ç½ªä¿®æ³•', 
                english: `Imported Low-Cost Cement Poses Threat to Taiwan's Industry. In local news, the issue of imported cement dumping is raising concerns in Taiwan. TCC Chairman Chang An-ping warned that chasing unfair low-priced imports could turn Taiwan into a dumping ground for foreign excess capacity, threatening local cement jobs. He called on the government to decide whether it still values domestic industries, rather than focusing solely on semiconductors and artificial intelligence. Chinese Embassy Staff Interfere with Tea Awards in Paris. Taiwanese tea has received international recognition, winning a special prize at a tea competition in Paris. However, the awards ceremony was interrupted by Chinese embassy staff shouting political slogans. When the organizers clearly displayed "Taiwanese nationality" on the screen, guests at the venue stood up to voice their support for Taiwan. Taiwan Plans to Increase Penalties for Military Treason. The Executive Yuan is set to review four amendments to national security laws to counter threats of foreign infiltration. The proposed amendment to the "Military Criminal Code" will increase penalties for defecting to the enemy or pledging allegiance to the enemy while in service. This move is in response to President Lai Ching-te's call for national unity to face growing security and influence threats.`,
                chinese: `é€²å£ä½åƒ¹æ°´æ³¥å¨è„…å°ç£ç”¢æ¥­ã€‚åœ¨æœ¬åœ°æ–°èä¸­ï¼Œé€²å£æ°´æ³¥å‚¾éŠ·å•é¡Œæ­£å¼•èµ·å°ç£é—œæ³¨ã€‚å°æ³¥è‘£äº‹é•·å¼µå®‰å¹³è­¦å‘Šï¼Œè¿½æ±‚ä¸å…¬å¹³çš„ä½åƒ¹é€²å£ç”¢å“å¯èƒ½ä½¿å°ç£æˆç‚ºå¤–åœ‹éå‰©ç”¢èƒ½çš„å‚¾éŠ·å ´ï¼Œå¨è„…æœ¬åœ°æ°´æ³¥æ¥­å·¥ä½œã€‚ä»–å‘¼ç±²æ”¿åºœæ±ºå®šæ˜¯å¦ä»é‡è¦–åœ‹å…§ç”¢æ¥­ï¼Œè€Œéåƒ…åƒ…å°ˆæ³¨æ–¼åŠå°é«”å’Œäººå·¥æ™ºæ…§ã€‚ä¸­åœ‹å¤§ä½¿é¤¨å·¥ä½œäººå“¡å¹²æ“¾å·´é»èŒ¶è‘‰çã€‚å°ç£èŒ¶è‘‰ç²å¾—åœ‹éš›èªå¯ï¼Œåœ¨å·´é»çš„ä¸€å ´èŒ¶è‘‰ç«¶è³½ä¸­ç²å¾—ç‰¹åˆ¥çã€‚ç„¶è€Œï¼Œé ’çå…¸ç¦®é­åˆ°ä¸­åœ‹å¤§ä½¿é¤¨å·¥ä½œäººå“¡å¤§å–Šæ”¿æ²»å£è™Ÿçš„å¹²æ“¾ã€‚ç•¶ä¸»è¾¦æ–¹åœ¨è¢å¹•ä¸Šæ¸…æ™°é¡¯ç¤ºã€Œå°ç£ç±ã€æ™‚ï¼Œæœƒå ´å˜‰è³“ç´›ç´›èµ·ç«‹è¡¨é”å°å°ç£çš„æ”¯æŒã€‚å°ç£è¨ˆåŠƒåŠ é‡è»äº‹å›åœ‹ç½ªè™•ç½°ã€‚è¡Œæ”¿é™¢å°‡å¯©è­°å››é …åœ‹å®‰æ³•ä¿®æ­£æ¡ˆï¼Œä»¥æ‡‰å°å¤–åœ‹æ»²é€å¨è„…ã€‚æ“¬è­°çš„ã€Œé™¸æµ·ç©ºè»åˆ‘æ³•ã€ä¿®æ­£æ¡ˆå°‡åŠ é‡æœå½¹æœŸé–“æŠ•æ•µæˆ–å‘æ•µäººæ•ˆå¿ çš„è™•ç½°ã€‚æ­¤èˆ‰æ˜¯ç‚ºäº†éŸ¿æ‡‰è³´æ¸…å¾·ç¸½çµ±å‘¼ç±²å…¨æ°‘åœ˜çµï¼Œä»¥é¢å°æ—¥ç›Šåš´å³»çš„å®‰å…¨èˆ‡å½±éŸ¿åŠ›å¨è„…ã€‚`,
                vocabulary: [
                    'Imported (adj.): é€²å£çš„', 'Low-Cost (adj.): ä½æˆæœ¬çš„', 'Cement (n.): æ°´æ³¥', 'Poses Threat (phr.): æ§‹æˆå¨è„…', 'Industry (n.): ç”¢æ¥­', 
                    'Dumping (n.): å‚¾éŠ·', 'Raising concerns (phr.): å¼•èµ·é—œæ³¨', 'TCC (n. proper): å°ç£æ°´æ³¥å…¬å¸', 'Chairman (n.): è‘£äº‹é•·/ä¸»å¸­', 
                    'Excess capacity (n.phr.): éå‰©ç”¢èƒ½', 'Domestic industries (n.phr.): åœ‹å…§ç”¢æ¥­', 'Solely (adv.): åƒ…åƒ…ï¼Œå”¯ä¸€', 'Semiconductors (n.): åŠå°é«”', 
                    'Artificial intelligence (n.): äººå·¥æ™ºæ…§', 'Embassy staff (n.phr.): å¤§ä½¿é¤¨å·¥ä½œäººå“¡', 'Interfere (v.): å¹²æ“¾', 'Recognition (n.): èªå¯/æ‰¿èª', 
                    'Special prize (n.phr.): ç‰¹åˆ¥ç', 'Awards ceremony (n.phr.): é ’çå…¸ç¦®', 'Interrupted (v.): ä¸­æ–·', 'Political slogans (n.phr.): æ”¿æ²»å£è™Ÿ', 
                    'Nationality (n.): åœ‹ç±', 'Voice support (phr.): è¡¨é”æ”¯æŒ', 'Penalties (n.): è™•ç½°', 'Military Treason (n.phr.): è»äº‹å›åœ‹', 
                    'Executive Yuan (n. proper): è¡Œæ”¿é™¢', 'Amendments (n.): ä¿®æ­£æ¡ˆ', 'Infiltration (n.): æ»²é€', 'Defecting (v.ger.): æŠ•æ•µ/å›é€ƒ', 
                    'Pledging allegiance (phr.): å®£èª“æ•ˆå¿ ', 'In response to (phr.): éŸ¿æ‡‰/å›æ‡‰', 'National unity (n.phr.): å…¨æ°‘åœ˜çµ', 
                    'Influence threats (n.phr.): å½±éŸ¿åŠ›å¨è„…', 'Unfair (adj.): ä¸å…¬å¹³çš„', 'Capacity (n.): ç”¢èƒ½/å®¹é‡'
                ],
                quiz: [
                    { q: 'Who warned about Taiwan becoming a "dumping ground" for cement?', options: ['President Lai', 'Chairman Chang An-ping', 'TCC Employees', 'The French Embassy'], answer: 'Chairman Chang An-ping' },
                    { q: 'What industries does Chang An-ping suggest the government focuses too much on?', options: ['Cement and Steel', 'Semiconductors and AI', 'Tea and Agriculture', 'Tourism and Shipping'], answer: 'Semiconductors and AI' },
                    { q: 'Where did the tea competition take place?', options: ['Taipei', 'Beijing', 'Paris', 'London'], answer: 'Paris' },
                    { q: 'What did Chinese embassy staff do at the tea awards?', options: ['They won the first prize.', 'They shouted political slogans.', 'They displayed the Taiwanese flag.', 'They congratulated the winners.'], answer: 'shouted political slogans.' },
                    { q: 'What was displayed on the screen that led to guest support?', options: ['Chinese tea history', 'The French flag', '"Taiwanese nationality"', 'The price of cement'], answer: '"Taiwanese nationality"' },
                    { q: 'What is the goal of the four amendments to national security laws?', options: ['To lower taxes', 'To counter foreign infiltration', 'To increase tea exports', 'To build more AI centers'], answer: 'To counter foreign infiltration' },
                    { q: 'Which specific code will be amended to increase penalties for military treason?', options: ['Civil Code', 'Criminal Code', 'Military Criminal Code', 'National Security Act'], answer: 'Military Criminal Code' },
                    { q: 'The term "defecting to the enemy" refers to what?', options: ['Fighting the enemy', 'Joining or escaping to the enemy side', 'Capturing an enemy soldier', 'Negotiating a peace treaty'], answer: 'Joining or escaping to the enemy side' },
                    { q: 'Why is the government increasing penalties for pledging allegiance to the enemy?', options: ['To save money', 'To respond to threats and President Lai\'s call for unity', 'To encourage foreign investment', 'To comply with French law'], answer: 'To respond to threats and President Lai\'s call for unity' },
                    { q: 'What does TCC stand for in the context of the article?', options: ['Taiwan Cement Corporation', 'Taiwan Construction Company', 'Tea Competition Committee', 'Treason Control Center'], answer: 'Taiwan Cement Corporation' },
                    { q: 'The term "excess capacity" in the text refers to what?', options: ['High demand for cement', 'Foreign countries producing more cement than they need', 'Lack of factory workers', 'Empty shipping containers'], answer: 'Foreign countries producing more cement than they need' },
                    { q: 'What action did guests at the tea awards take?', options: ['They walked out.', 'They stood up to voice support for Taiwan.', 'They joined the Chinese staff.', 'They complained about the tea.'], answer: 'They stood up to voice support for Taiwan.' },
                    { q: 'The Executive Yuan is part of which government?', options: ['French', 'Chinese', 'Taiwanese', 'International'], answer: 'Taiwanese' },
                    { q: 'The term "infiltration" implies what kind of activity?', options: ['Open trade', 'Secretly entering or influencing an organization', 'Building new infrastructure', 'Translating laws'], answer: 'Secretly entering or influencing an organization' },
                    { q: 'Chang An-ping warned against "chasing unfair" what?', options: ['Political power', 'Low-priced imports', 'National recognition', 'High-tech jobs'], answer: 'Low-priced imports' }
                ]
            },
            'sudan-crisis-row': {
                title: 'è˜‡ä¸¹é€£çºŒç¬¬ä¸‰å¹´ä½å±…å…¨çƒäººé“å±æ©Ÿä¹‹é¦–', 
                english: `Sudan tops the International Rescue Committeeâ€™s (IRC) global humanitarian crisis â€œEmergency Watchlistâ€ for the third year in a row, as the country remains trapped in a devastating war. The list covers 20 countries at risk of worsening humanitarian crises in 2026. The IRC called for expanded global humanitarian funding, noting that aid funding dropped by 50% over the past year, and current trends could make this the deadliest year for humanitarian workers. The Occupied Palestinian Territory and South Sudan ranked second and third, respectively, due to extreme humanitarian conditions. Other countries on the list include Ethiopia, Haiti, the DRC, Lebanon, Ukraine, Syria, and Yemen. The organization predicts that by 2029, these countries will house over half of the worldâ€™s extreme poor, describing the situation as a â€œNew World Disorderâ€ replacing the postâ€“World War II rules-based system.`,
                chinese: `è˜‡ä¸¹é€£çºŒç¬¬ä¸‰å¹´ä½å±…åœ‹éš›æ•‘æ´å§”å“¡æœƒ (IRC) å…¨çƒäººé“å±æ©Ÿã€Œç·Šæ€¥è§€å¯Ÿåå–®ã€ä¹‹é¦–ï¼Œè©²åœ‹ä»æ·±é™·æ¯€æ»…æ€§çš„æˆ°çˆ­ä¹‹ä¸­ã€‚è©²åå–®æ¶µè“‹äº† 2026 å¹´äººé“å±æ©Ÿé¢è‡¨æƒ¡åŒ–é¢¨éšªçš„ 20 å€‹åœ‹å®¶ã€‚IRC å‘¼ç±²æ“´å¤§å…¨çƒäººé“ä¸»ç¾©è³‡é‡‘ï¼ŒæŒ‡å‡ºéå»ä¸€å¹´æ´åŠ©è³‡é‡‘ä¸‹é™äº† 50%ï¼Œè€Œç›®å‰çš„è¶¨å‹¢å¯èƒ½ä½¿ä»Šå¹´æˆç‚ºäººé“ä¸»ç¾©å·¥ä½œè€…æ­»äº¡äººæ•¸æœ€å¤šçš„ä¸€å¹´ã€‚å·´å‹’æ–¯å¦è¢«ä½”é ˜åœŸå’Œå—è˜‡ä¸¹åˆ†åˆ¥ä½å±…ç¬¬äºŒå’Œç¬¬ä¸‰ï¼ŒåŸå› æ˜¯æ¥µç«¯çš„äººé“ä¸»ç¾©ç‹€æ³ã€‚åå–®ä¸Šçš„å…¶ä»–åœ‹å®¶åŒ…æ‹¬è¡£ç´¢æ¯”äºã€æµ·åœ°ã€å‰›æœæ°‘ä¸»å…±å’Œåœ‹ã€é»å·´å«©ã€çƒå…‹è˜­ã€æ•˜åˆ©äºå’Œè‘‰é–€ã€‚è©²çµ„ç¹”é æ¸¬ï¼Œåˆ° 2029 å¹´ï¼Œé€™äº›åœ‹å®¶å°‡å®¹ç´å…¨çƒä¸€åŠä»¥ä¸Šçš„æ¥µç«¯è²§å›°äººå£ï¼Œä¸¦å°‡é€™ç¨®æƒ…æ³æè¿°ç‚ºä¸€ç¨®å–ä»£äºŒæˆ°å¾ŒåŸºæ–¼è¦å‰‡ç³»çµ±çš„ã€Œæ–°ä¸–ç•Œæ··äº‚ã€ã€‚`,
                vocabulary: [
                    'Sudan (n. proper): è˜‡ä¸¹', 'Tops (v.): ä½å±…...ä¹‹é¦–', 'International Rescue Committee (IRC) (n. proper): åœ‹éš›æ•‘æ´å§”å“¡æœƒ', 'Humanitarian crisis (n.phr.): äººé“å±æ©Ÿ', 
                    'Emergency Watchlist (n.phr.): ç·Šæ€¥è§€å¯Ÿåå–®', 'In a row (phr.): é€£çºŒ', 'Trapped (adj.): å—å›°çš„', 'Devastating (adj.): æ¯€æ»…æ€§çš„', 
                    'Worsening (adj.): æƒ¡åŒ–çš„', 'Funding (n.): è³‡é‡‘', 'Deadliest (adj.): æœ€è‡´å‘½çš„', 'Humanitarian workers (n.phr.): äººé“å·¥ä½œè€…', 
                    'Occupied Palestinian Territory (n. proper): å·´å‹’æ–¯å¦è¢«ä½”é ˜åœŸ', 'Respectively (adv.): åˆ†åˆ¥åœ°', 'Extreme poor (n.phr.): æ¥µç«¯è²§å›°äººå£', 
                    'New World Disorder (n.phr.): æ–°ä¸–ç•Œæ··äº‚', 'Postâ€“World War II (adj.): äºŒæˆ°å¾Œçš„', 'Rules-based system (n.phr.): åŸºæ–¼è¦å‰‡çš„ç³»çµ±', 
                    'Shortfall (n.): çŸ­ç¼º', 'Aid (n.): æ´åŠ©', 'Trends (n.): è¶¨å‹¢', 'Worsening (v.ger.): æƒ¡åŒ–', 'Predicts (v.): é æ¸¬', 
                    'House (v.): å®¹ç´/å±…ä½', 'Condition (n.): ç‹€æ³', 'Devastating war (n.phr.): æ¯€æ»…æ€§æˆ°çˆ­', 'Global (adj.): å…¨çƒçš„', 
                    'Expand (v.): æ“´å±•', 'Significant (adj.): é‡å¤§çš„', 'Situation (n.): æƒ…æ³', 'Ranked (v.): æ’å', 'Risk (n.): é¢¨éšª'
                ],
                quiz: [
                    { q: 'For how many years has Sudan topped the IRC\'s Emergency Watchlist?', options: ['One year', 'Two years', 'Three years', 'Five years'], answer: 'Three years' },
                    { q: 'Which organization released the "Emergency Watchlist"?', options: ['United Nations', 'Red Cross', 'International Rescue Committee (IRC)', 'World Health Organization'], answer: 'International Rescue Committee (IRC)' },
                    { q: 'The list covers how many countries at risk of worsening crises in 2026?', options: ['10', '20', '50', '100'], answer: '20' },
                    { q: 'By what percentage did aid funding drop over the past year?', options: ['10%', '25%', '50%', '75%'], answer: '50%' },
                    { q: 'Which region ranked second on the 2026 list?', options: ['Ukraine', 'South Sudan', 'Occupied Palestinian Territory', 'Haiti'], answer: 'Occupied Palestinian Territory' },
                    { q: 'Which country ranked third on the list?', options: ['Syria', 'Yemen', 'South Sudan', 'Lebanon'], answer: 'South Sudan' },
                    { q: 'By which year does the IRC predict these countries will house half of the world\'s extreme poor?', options: ['2026', '2027', '2029', '2035'], answer: '2029' },
                    { q: 'The phrase "New World Disorder" is used to describe a replacement of what?', options: ['The internet', 'Postâ€“World War II rules-based system', 'Global currency', 'Modern technology'], answer: 'Postâ€“World War II rules-based system' },
                    { q: 'What is the current primary cause of the crisis in Sudan?', options: ['Earthquake', 'Devastating war', 'Oil shortage', 'Economic boom'], answer: 'Devastating war' },
                    { q: 'What did the IRC call for globally?', options: ['Increased taxes', 'Expanded global humanitarian funding', 'New military alliances', 'Closing borders'], answer: 'Expanded global humanitarian funding' },
                    { q: 'Which of the following countries is NOT mentioned as being on the list?', options: ['Ukraine', 'Haiti', 'Japan', 'Syria'], answer: 'Japan' },
                    { q: 'The current trends could make this the deadliest year for whom?', options: ['Soldiers', 'Humanitarian workers', 'Politicians', 'Bankers'], answer: 'Humanitarian workers' },
                    { q: 'The situation in Sudan is described as being "trapped" in what?', options: ['A legal battle', 'A financial debt', 'A devastating war', 'A traffic jam'], answer: 'A devastating war' },
                    { q: 'What type of crises does the IRC list focus on?', options: ['Financial', 'Environmental', 'Humanitarian', 'Technological'], answer: 'Humanitarian' },
                    { q: 'What does "respectively" mean in the sentence about rankings?', options: ['With great respect', 'In the order mentioned', 'Very quickly', 'Repeatedly'], answer: 'In the order mentioned' }
                ]
            },
            'british-man-sentenced': {
                title: 'ç”·å­é§•è»Šè¡æ’è‹±åœ‹è¶³çƒè¿·é­åˆ¤å…¥ç„ï¼š21 å¹´åŠé‡åˆ‘', 
                english: `A British man has been sentenced to 21 and a half years in prison for driving a car into a crowd of Liverpool football fans during Premier League title celebrations in May, injuring over 130 people. Paul Doyle pleaded guilty to 31 criminal charges related to the incident. He drove into the crowd, striking adults and childrenâ€”some were thrown into the air, while others were trapped under the vehicleâ€”simply because he â€œlost his temper.â€ He admitted to 9 counts of wounding with intent and 17 counts of attempting to cause grievous bodily harm. Prosecutors said Doyle was â€œconsumed by rageâ€ and acted like someone who had â€œlost his mind.â€ Victims described the long-term impact, including the inability to work or attend crowded events.`,
                chinese: `ä¸€åè‹±åœ‹ç”·å­å› åœ¨ 5 æœˆçš„è‹±è¶…å† è»æ…¶ç¥æ´»å‹•æœŸé–“ï¼Œé–‹è»Šè¡æ’åˆ©ç‰©æµ¦è¶³çƒè¿·äººç¾¤ï¼Œé€ æˆ 130 å¤šäººå—å‚·ï¼Œè¢«åˆ¤è™• 21 å¹´åŠç›£ç¦ã€‚ä¿ç¾…Â·å¤šä¼Šçˆ¾ (Paul Doyle) å°èˆ‡è©²äº‹ä»¶æœ‰é—œçš„ 31 é …åˆ‘äº‹æŒ‡æ§è¡¨ç¤ºèªç½ªã€‚ä»–é–‹è»Šè¡é€²äººç¾¤ï¼Œæ’æ“Šå¤§äººå’Œå°å­©â€”â€”æœ‰äº›äººè¢«æ‹‹åˆ°ç©ºä¸­ï¼Œè€Œå¦ä¸€äº›äººå‰‡è¢«å›°åœ¨è»Šåº•â€”â€”åŸå› ç«Ÿç„¶åªæ˜¯å› ç‚ºä»–ã€Œç™¼è„¾æ°£ã€ã€‚ä»–æ‰¿èª 9 é …è“„æ„å‚·äººç½ªå’Œ 17 é …ä¼åœ–é€ æˆåš´é‡èº«é«”å‚·å®³ç½ªã€‚æª¢å¯Ÿå®˜è¡¨ç¤ºï¼Œå¤šä¼Šçˆ¾è¢«ã€Œæ†¤æ€’åå™¬ã€ï¼Œè¡¨ç¾å¾—å°±åƒä¸€å€‹ã€Œå¤±å»ç†æ™ºã€çš„äººã€‚å—å®³è€…æè¿°äº†é•·æœŸå½±éŸ¿ï¼ŒåŒ…æ‹¬ç„¡æ³•å·¥ä½œæˆ–åƒåŠ æ“æ“ çš„æ´»å‹•ã€‚`,
                vocabulary: [
                    'British man (n.phr.): è‹±åœ‹ç”·å­', 'Sentenced to (phr.): è¢«åˆ¤è™•', 'Prison (n.): ç›£ç„', 'Crowd (n.): äººç¾¤', 'Liverpool (n. proper): åˆ©ç‰©æµ¦', 
                    'Premier League (n. proper): è‹±è¶…è¯è³½', 'Title celebrations (n.phr.): å¥ªå† æ…¶ç¥æ´»å‹•', 'Injuring (v.ger.): ä½¿å—å‚·', 'Pleaded guilty (phr.): èªç½ª', 
                    'Criminal charges (n.phr.): åˆ‘äº‹æŒ‡æ§', 'Related to (phr.): èˆ‡...æœ‰é—œ', 'Incident (n.): äº‹ä»¶', 'Striking (v.ger.): æ’æ“Š', 
                    'Adults and children (n.phr.): æˆäººèˆ‡å­©ç«¥', 'Thrown into the air (phr.): è¢«æ‹‹å‘ç©ºä¸­', 'Trapped under the vehicle (phr.): è¢«å›°åœ¨è»Šåº•', 
                    'Lost his temper (phr.): ç™¼è„¾æ°£', 'Counts (n.): (æ³•å¾‹æŒ‡æ§çš„) é …æ•¸', 'Wounding with intent (n.phr.): è“„æ„å‚·äºº', 
                    'Attempting to (phr.): ä¼åœ–', 'Grievous bodily harm (n.phr.): åš´é‡èº«é«”å‚·å®³', 'Prosecutors (n.): æª¢å¯Ÿå®˜', 'Consumed by rage (phr.): è¢«æ†¤æ€’åå™¬', 
                    'Lost his mind (phr.): å¤±å»ç†æ™º', 'Victims (n.): å—å®³è€…', 'Long-term impact (n.phr.): é•·æœŸå½±éŸ¿', 'Inability (n.): ç„¡æ³•/ç„¡èƒ½åŠ›', 
                    'Attend (v.): åƒåŠ ', 'Crowded events (n.phr.): æ“æ“ çš„æ´»å‹•', 'May (n. proper): äº”æœˆ', 'Criminal (adj.): çŠ¯ç½ªçš„', 'Bodily (adj.): èº«é«”çš„'
                ],
                quiz: [
                    { q: 'What was Paul Doyleâ€™s sentence?', options: ['10 years', '15 years', '21 and a half years', 'Life in prison'], answer: '21 and a half years' },
                    { q: 'Why was he sentenced?', options: ['For stealing a car', 'For drug possession', 'For driving a car into a crowd of football fans', 'For a financial scam'], answer: 'For driving a car into a crowd of football fans' },
                    { q: 'Which football teamâ€™s fans were targeted?', options: ['Manchester United', 'Liverpool', 'Chelsea', 'Arsenal'], answer: 'Liverpool' },
                    { q: 'When did the incident occur?', options: ['January', 'March', 'May', 'December'], answer: 'May' },
                    { q: 'Over how many people were injured?', options: ['30', '100', '130', '200'], answer: '130' },
                    { q: 'To how many criminal charges did Doyle plead guilty?', options: ['9', '17', '31', '50'], answer: '31' },
                    { q: 'What reason did Doyle give for his actions?', options: ['He was drunk.', 'He was late for work.', 'He lost his temper.', 'The car brakes failed.'], answer: 'He lost his temper.' },
                    { q: 'How many counts of "wounding with intent" did he admit to?', options: ['5', '9', '17', '31'], answer: '9' },
                    { q: 'What did prosecutors say Doyle was "consumed by"?', options: ['Grief', 'Rage', 'Guilt', 'Fear'], answer: 'Rage' },
                    { q: 'How did victims describe the impact of the incident?', options: ['A minor setback', 'Long-term impact, including inability to work', 'A lucky escape', 'Completely recovered'], answer: 'Long-term impact, including inability to work' },
                    { q: 'What specific league title were the fans celebrating?', options: ['Champions League', 'World Cup', 'Premier League', 'FA Cup'], answer: 'Premier League' },
                    { q: 'Some victims were trapped where?', options: ['Inside a building', 'In a tree', 'Under the vehicle', 'In a shop'], answer: 'Under the vehicle' },
                    { q: 'What does "pleaded guilty" mean?', options: ['To claim innocence', 'To admit to a crime in court', 'To pay a fine', 'To hire a lawyer'], answer: 'To admit to a crime in court' },
                    { q: 'The term "grievous bodily harm" refers to what level of injury?', options: ['Very minor', 'Temporary', 'Serious', 'No injury'], answer: 'Serious' },
                    { q: 'What kind of events are some victims now unable to attend?', options: ['Small dinners', 'Crowded events', 'Online meetings', 'Family gatherings'], answer: 'Crowded events' }
                ]
            },
            'arctic-record-high': {
                title: 'åŒ—æ¥µå†æ¬¡å‰µä¸‹ 125 å¹´ä¾†æœ€é«˜æº«ç´€éŒ„ï¼šNOAA å¹´åº¦å ±å‘Š', 
                english: `The Arctic recorded its highest temperatures in 125 years last season. Sea ice extent, which usually peaks in March, dropped to its lowest level in 47 years of satellite records. Vegetation greening in the North American tundra reached its most significant level on record. These findings were released in NOAAâ€™s annual â€œArctic Report Card,â€ showing the region is transforming rapidly and profoundly due to global warming. As temperatures rise, thawing permafrost is altering ecosystems. Iron and other elements are released into rivers, turning over 200 watersheds in Arctic Alaska orange, with higher acidity and toxic metal concentrations.`,
                chinese: `åŒ—æ¥µä¸Šä¸€å­£è¨˜éŒ„äº† 125 å¹´ä¾†çš„æœ€é«˜æº«ã€‚æµ·å†°ç¯„åœï¼ˆé€šå¸¸åœ¨ 3 æœˆé”åˆ°å³°å€¼ï¼‰ä¸‹é™åˆ° 47 å¹´è¡›æ˜Ÿç´€éŒ„ä»¥ä¾†çš„æœ€ä½æ°´æº–ã€‚åŒ—ç¾è‹”åŸçš„æ¤è¢«ç¶ åŒ–é”åˆ°äº†æœ‰ç´€éŒ„ä»¥ä¾†çš„æœ€é¡¯è‘—æ°´æº–ã€‚é€™äº›ç™¼ç¾ç™¼ä½ˆåœ¨ç¾åœ‹åœ‹å®¶æµ·æ´‹æš¨å¤§æ°£ç¸½ç½² (NOAA) çš„å¹´åº¦ã€ŒåŒ—æ¥µå ±å‘Šå¡ã€ä¸­ï¼Œé¡¯ç¤ºè©²åœ°å€ç”±æ–¼å…¨çƒè®Šæš–æ­£åœ¨ç™¼ç”Ÿè¿…é€Ÿè€Œæ·±åˆ»çš„è®ŠåŒ–ã€‚éš¨è‘—æ°£æº«å‡é«˜ï¼Œå‡åœŸèåŒ–æ­£åœ¨æ”¹è®Šç”Ÿæ…‹ç³»çµ±ã€‚éµå’Œå…¶ä»–å…ƒç´ è¢«é‡‹æ”¾åˆ°æ²³æµä¸­ï¼Œä½¿é˜¿æ‹‰æ–¯åŠ åŒ—æ¥µåœ°å€ 200 å¤šå€‹æµåŸŸè®Šæˆæ©˜è‰²ï¼Œä¸”å…·æœ‰æ›´é«˜çš„é…¸åº¦å’Œæœ‰æ¯’é‡‘å±¬æ¿ƒåº¦ã€‚`,
                vocabulary: [
                    'The Arctic (n. proper): åŒ—æ¥µ', 'Highest temperatures (n.phr.): æœ€é«˜æº«', 'Season (n.): å­£ç¯€', 'Sea ice extent (n.phr.): æµ·å†°ç¯„åœ', 
                    'Peaks (v.): é”åˆ°å³°å€¼', 'Satellite records (n.phr.): è¡›æ˜Ÿç´€éŒ„', 'Vegetation greening (n.phr.): æ¤è¢«ç¶ åŒ–', 
                    'North American tundra (n. proper): åŒ—ç¾è‹”åŸ', 'On record (phr.): æœ‰ç´€éŒ„ä»¥ä¾†', 'Findings (n.): ç™¼ç¾/ç ”ç©¶çµæœ', 
                    'Released (v.): ç™¼ä½ˆ', 'NOAA (n. proper): ç¾åœ‹åœ‹å®¶æµ·æ´‹æš¨å¤§æ°£ç¸½ç½²', 'Arctic Report Card (n. proper): åŒ—æ¥µå ±å‘Šå¡', 
                    'Transforming (v.ger.): è½‰åŒ–/è®Šé©', 'Rapidly and profoundly (adv.phr.): è¿…é€Ÿè€Œæ·±åˆ»åœ°', 'Global warming (n.phr.): å…¨çƒè®Šæš–', 
                    'Thawing (v.ger.): èåŒ–', 'Permafrost (n.): å‡åœŸ (æ°¸ä¹…å‡åœŸ)', 'Altering ecosystems (phr.): æ”¹è®Šç”Ÿæ…‹ç³»çµ±', 'Iron (n.): éµ', 
                    'Elements (n.): å…ƒç´ ', 'Watersheds (n.): æµåŸŸ', 'Orange (adj.): æ©˜è‰²çš„', 'Acidity (n.): é…¸åº¦', 
                    'Toxic metal concentrations (n.phr.): æœ‰æ¯’é‡‘å±¬æ¿ƒåº¦', 'Extent (n.): ç¯„åœ', 'Profoundly (adv.): æ·±åˆ»åœ°', 
                    'Thawing (adj.): èåŒ–çš„', 'Acidity (n.): é…¸åº¦', 'Element (n.): å…ƒç´ ', 'Release (v.): é‡‹æ”¾', 'Annual (adj.): å¹´åº¦çš„'
                ],
                quiz: [
                    { q: 'What was recorded as the highest in 125 years in the Arctic?', options: ['Snowfall', 'Temperatures', 'Animal population', 'Tourist numbers'], answer: 'Temperatures' },
                    { q: 'In which month does sea ice extent usually peak?', options: ['January', 'March', 'June', 'September'], answer: 'March' },
                    { q: 'Sea ice dropped to its lowest level in how many years of satellite records?', options: ['10', '25', '47', '125'], answer: '47' },
                    { q: 'What kind of vegetation change was noted in the North American tundra?', options: ['Dying out', 'Vegetation greening', 'Turning brown', 'No change'], answer: 'Vegetation greening' },
                    { q: 'What is the name of the annual report mentioned?', options: ['Global Warming Update', 'Arctic Report Card', 'Nature Review', 'Climate Crisis News'], answer: 'Arctic Report Card' },
                    { q: 'Which agency released the report?', options: ['NASA', 'UN', 'NOAA', 'Greenpeace'], answer: 'NOAA' },
                    { q: 'The region is transforming profoundly due to what?', options: ['Economic development', 'Global warming', 'New shipping routes', 'Volcanic activity'], answer: 'Global warming' },
                    { q: 'What is "permafrost"?', options: ['A new kind of ice', 'Ground that remains frozen', 'A type of plant', 'Artificial snow'], answer: 'Ground that remains frozen' },
                    { q: 'What happens to permafrost as temperatures rise?', options: ['It gets thicker.', 'It turns into stone.', 'It thaws (melts).', 'It disappears into the sky.'], answer: 'It thaws (melts).' },
                    { q: 'What color are the watersheds turning in Arctic Alaska?', options: ['Blue', 'Green', 'Orange', 'Black'], answer: 'Orange' },
                    { q: 'How many watersheds have turned this color?', options: ['Over 10', 'Over 50', 'Over 100', 'Over 200'], answer: 'Over 200' },
                    { q: 'The change in river color is accompanied by higher levels of what?', options: ['Oxygen', 'Acidity and toxic metal concentrations', 'Sugar', 'Clean water'], answer: 'Acidity and toxic metal concentrations' },
                    { q: 'What element specifically is mentioned as being released into rivers?', options: ['Gold', 'Iron', 'Silver', 'Carbon'], answer: 'Iron' },
                    { q: 'Vegetation greening occurred in the tundra of which continent?', options: ['Asia', 'Europe', 'North America', 'Africa'], answer: 'North America' },
                    { q: 'The report describes the transformation as "rapid and" what?', options: ['Slow', 'Boring', 'Profound', 'Invisible'], answer: 'Profound' }
                ]
            },
            'dinosaur-footprints-italy': {
                title: 'æ”å½±å¸«å¶ç„¶ç™¼ç¾æ•¸åƒå€‹æé¾è…³å°ï¼šç¾©å¤§åˆ©ä¸‰ç–Šç´€éºè·¡', 
                english: `A wildlife photographer has accidentally discovered one of the oldest and largest sets of dinosaur footprints known to date near Bormio, in northern Italy. Dating back to the Triassic period around 210 million years ago, the discovery in Stelvio National Park includes up to 20,000 footprints spread over 5 kilometers. The tracks are believed to have been left by long-necked, bipedal herbivores, similar to Plateosaurus, measuring up to 10 meters long and weighing about 4 tons. Some footprints are up to 40 centimeters wide with clear claw marks. The tracks suggest the animals moved in herds and sometimes stopped in circular formations, possibly for defense. The discovery was made by photographer Della Ferrera in September while photographing wildlife, finding the tracks on a vertical rock face about 600 meters from the nearest road.`,
                chinese: `ä¸€ä½é‡ç”Ÿå‹•ç‰©æ”å½±å¸«åœ¨ç¾©å¤§åˆ©åŒ—éƒ¨çš„åšçˆ¾ç±³å¥§ (Bormio) é™„è¿‘ï¼Œæ„å¤–ç™¼ç¾äº†è¿„ä»Šç‚ºæ­¢å·²çŸ¥æœ€å¤è€ã€è¦æ¨¡æœ€å¤§çš„æé¾è…³å°ç¾¤ä¹‹ä¸€ã€‚é€™é …ç™¼ç¾åœ¨æ–¯æ³°çˆ¾ç¶­å¥§åœ‹å®¶å…¬åœ’ (Stelvio National Park)ï¼Œå¯è¿½æº¯åˆ°ç´„ 2.1 å„„å¹´å‰çš„ä¸‰ç–Šç´€æ™‚æœŸï¼ŒåŒ…å«åˆ†ä½ˆåœ¨ 5 å…¬é‡Œç¯„åœå…§çš„ 2 è¬å¤šå€‹è…³å°ã€‚é€™äº›è¶³è·¡è¢«èªç‚ºæ˜¯ç”±é¡ä¼¼æ–¼æ¿é¾ (Plateosaurus) çš„é•·é ¸é›™è¶³è‰é£Ÿæ€§æé¾ç•™ä¸‹çš„ï¼Œç‰ å€‘é«”é•·å¯é” 10 å…¬å°ºï¼Œé«”é‡ç´„ 4 å™¸ã€‚æœ‰äº›è…³å°å¯¬é” 40 å…¬åˆ†ï¼Œå¸¶æœ‰æ¸…æ™°çš„çˆªç—•ã€‚è¶³è·¡é¡¯ç¤ºé€™äº›å‹•ç‰©æˆç¾¤ç§»å‹•ï¼Œæœ‰æ™‚æœƒåœä¸‹ä¾†æ’æˆåœ“å½¢é™£å‹ï¼Œå¯èƒ½æ˜¯ç‚ºäº†é˜²ç¦¦ã€‚é€™é …ç™¼ç¾æ˜¯ç”±æ”å½±å¸«å¾·æ‹‰Â·è²»é›·æ‹‰ (Della Ferrera) æ–¼ 9 æœˆåœ¨æ‹æ”é‡ç”Ÿå‹•ç‰©æ™‚ç™¼ç¾çš„ï¼Œä»–åœ¨è·é›¢æœ€è¿‘é“è·¯ç´„ 600 å…¬å°ºè™•çš„ä¸€é¢å‚ç›´å²©å£ä¸Šç™¼ç¾äº†é€™äº›è¶³è·¡ã€‚`,
                vocabulary: [
                    'Wildlife photographer (n.phr.): é‡ç”Ÿå‹•ç‰©æ”å½±å¸«', 'Accidentally (adv.): æ„å¤–åœ°/å¶ç„¶åœ°', 'Discovered (v.): ç™¼ç¾', 'Dinosaur footprints (n.phr.): æé¾è…³å°', 
                    'Known to date (phr.): è¿„ä»Šå·²çŸ¥', 'Northern Italy (n. proper): ç¾©å¤§åˆ©åŒ—éƒ¨', 'Dating back to (phr.v.): è¿½æº¯åˆ°', 'Triassic period (n. proper): ä¸‰ç–Šç´€æ™‚æœŸ', 
                    '210 million years ago (phr.): 2.1 å„„å¹´å‰', 'National Park (n. proper): åœ‹å®¶å…¬åœ’', 'Spread over (phr.v.): åˆ†ä½ˆæ–¼', 'Tracks (n.): è¶³è·¡/è»Œè·¡', 
                    'Long-necked (adj.): é•·é ¸çš„', 'Bipedal (adj.): é›™è¶³çš„', 'Herbivores (n.): è‰é£Ÿæ€§å‹•ç‰©', 'Plateosaurus (n. proper): æ¿é¾', 
                    'Measuring (v.ger.): æ¸¬é‡/é•·åº¦ç‚º', 'Weighing (v.ger.): é‡é‡ç‚º', 'Claw marks (n.phr.): çˆªç—•', 'Herds (n.): ç¸ç¾¤', 
                    'Circular formations (n.phr.): åœ“å½¢é™£å‹', 'Defense (n.): é˜²ç¦¦', 'Vertical rock face (n.phr.): å‚ç›´å²©å£', 'Nearest road (n.phr.): æœ€è¿‘çš„é“è·¯', 
                    'Discovery (n.): ç™¼ç¾', 'Accidental (adj.): æ„å¤–çš„', 'Bipedal (adj.): é›™è¶³æ­¥è¡Œçš„', 'Known (adj.): å·²çŸ¥çš„', 'Large (adj.): å¤§å‹çš„', 
                    'Distance (n.): è·é›¢', 'Ancient (adj.): å¤è€çš„', 'Formation (n.): å½¢æˆ/é™£å‹'
                ],
                quiz: [
                    { q: 'Who discovered the dinosaur footprints?', options: ['A geologist', 'A wildlife photographer', 'A construction worker', 'A tourist'], answer: 'A wildlife photographer' },
                    { q: 'Where were the footprints discovered?', options: ['Southern France', 'Northern Italy', 'Western Spain', 'Central Greece'], answer: 'Northern Italy' },
                    { q: 'To which geological period do the footprints date back?', options: ['Jurassic', 'Cretaceous', 'Triassic', 'Permian'], answer: 'Triassic' },
                    { q: 'Approximately how many years ago was the Triassic period mentioned?', options: ['65 million', '150 million', '210 million', '500 million'], answer: '210 million' },
                    { q: 'How many footprints are estimated to be in the set?', options: ['2,000', '10,000', '20,000', '100,000'], answer: '20,000' },
                    { q: 'Over what distance are the footprints spread?', options: ['500 meters', '1 kilometer', '5 kilometers', '10 kilometers'], answer: '5 kilometers' },
                    { q: 'What type of animals left the tracks?', options: ['Meat-eating birds', 'Long-necked herbivores', 'Sea monsters', 'Flying insects'], answer: 'Long-necked herbivores' },
                    { q: 'What dinosaur is mentioned as being similar to the track-makers?', options: ['T-Rex', 'Velociraptor', 'Plateosaurus', 'Stegosaurus'], answer: 'Plateosaurus' },
                    { q: 'How wide are some of the footprints?', options: ['10 cm', '20 cm', '40 cm', '100 cm'], answer: '40 cm' },
                    { q: 'What marks were visible in the footprints?', options: ['Feather marks', 'Claw marks', 'Tail marks', 'Egg marks'], answer: 'Claw marks' },
                    { q: 'The tracks suggest the animals moved in what kind of groups?', options: ['Alone', 'Pairs', 'Herds', 'Families'], answer: 'Herds' },
                    { q: 'The animals sometimes stopped in what shape, possibly for defense?', options: ['Square', 'Line', 'Circular formation', 'Triangle'], answer: 'Circular formation' },
                    { q: 'What was the photographer doing when he found the footprints?', options: ['Mining for gold', 'Building a road', 'Photographing wildlife', 'Camping'], answer: 'Photographing wildlife' },
                    { q: 'Where exactly were the tracks found?', options: ['In a cave', 'Under a lake', 'On a vertical rock face', 'In a forest'], answer: 'On a vertical rock face' },
                    { q: 'How far was the discovery from the nearest road?', options: ['100 meters', '600 meters', '5 kilometers', 'Across the country'], answer: '600 meters' }
                ]
            }
        };

        // --- STATE MANAGEMENT ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 


        // --- CORE RENDERING FUNCTIONS ---

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            if (Object.keys(NEWS_DATA).length === 0) {
                tabsContainer.innerHTML = '<p class="p-4 text-center text-red-500 font-semibold">ç„¡æ–°èè³‡æ–™å¯é¡¯ç¤ºã€‚</p>';
                return;
            }

            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const tabTitle = data.title.split('ï¼š')[0]; 
                const isActive = id === currentTopicId ? 'active' : '';
                return `
                    <button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">
                        ${tabTitle}
                    </button>
                `;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            
            if (!data) {
                contentArea.innerHTML = '<h2 class="text-3xl font-bold text-gray-800 mb-6">éŒ¯èª¤ï¼šæ‰¾ä¸åˆ°æ–°èå…§å®¹</h2>';
                return;
            }
            
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº«</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }

            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `
                <h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2>
                <div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100">
                    <p>${text.trim()}</p>
                </div>
                <div class="mt-6 text-center">
                    <button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">
                        ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯
                    </button>
                </div>
            `;
        }

        function renderTranslation(text, title) {
            return `
                <h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2>
                <div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner">
                    <p>${text.trim()}</p>
                </div>
                <div class="mt-6 text-center">
                    <button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">
                        ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’
                    </button>
                </div>
            `;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100">
                    <span class="font-semibold text-indigo-700">${parts[0]}</span> 
                    <span class="text-gray-500 text-sm italic">${parts[1]}</span>
                </li>`;
            }).join('');

            return `
                <h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2>
                <ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    ${listItems}
                </ul>
                <div class="mt-8 text-center">
                    <button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">
                        ğŸ“ é–‹å§‹æ¸¬é©—
                    </button>
                </div>
            `;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            if (!quizQuestions) return 'ç„¡æ¸¬é©—ã€‚';

            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const correctAnswer = q.answer;
                
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === correctAnswer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';

                    const escapedOption = option.replace(/'/g, "\\'");
                    return `
                        <div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" 
                             onclick="selectOption('${topicId}', ${index}, '${escapedOption}')">
                            <span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}
                            ${isSubmitted && option === correctAnswer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}
                        </div>
                    `;
                }).join('');

                return `
                    <div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500">
                        <p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>
                        ${optionsHTML}
                    </div>
                `;
            }).join('');

            const resultHTML = result ? `
                <div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500">
                    <h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3>
                    <p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p>
                    <button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button>
                </div>
            ` : '';

            const submitButton = result === undefined ? `
                <button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50"
                        onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>
            ` : '';

            return `
                <h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>
                ${resultHTML}
                <div id="quiz-questions">${questionsHTML}</div>
                <div class="mt-8 text-center">${submitButton}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>
            `;
        }

        // --- QUIZ LOGIC ---
        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');

            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            if (Object.keys(NEWS_DATA).length > 0) {
                renderTabs();
                renderContent();
            }
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>