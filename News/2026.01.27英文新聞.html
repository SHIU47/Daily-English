<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 1 æœˆ 27 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 1 æœˆ 27 æ—¥ï¼šç§‘æŠ€çªç ´ã€è²¿æ˜“é¢¨é›²èˆ‡ç¤¾æœƒè¦ºé†’</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for persistent professional English learning. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] TSMC Confirms 2nm Mass Production Ahead of Schedule for Mid-2026 Launch\nTaiwan Semiconductor Manufacturing Co. (TSMC) announced on Monday that its cutting-edge 2-nanometer process technology has reached "higher-than-expected" yield rates during trial production. Consequently, the company is pulling forward its mass production schedule to mid-2026. This announcement has reinforced investor confidence in Taiwanâ€™s technological leadership.\n\n[2] MOTC Issues Lunar New Year Traffic Forecast: Congestion to Peak on Day 3 and 4\nThe Ministry of Transportation and Communications (MOTC) released its official traffic forecast for the upcoming 2026 Lunar New Year holiday. Data suggests that northbound highway traffic will reach its maximum capacity on the third and fourth days of the holiday. To manage the surge, the government will implement high-occupancy vehicle (HOV) restrictions and toll-free periods during midnight hours.\n\n[3] Magnitude 5.0 Earthquake Rattles Pingtung; No Casualties Reported\nA magnitude 5.0 earthquake struck Pingtung County at 2:15 p.m. on Monday, sending tremors across southern Taiwan. While the earthquake triggered automatic safety shutdowns for high-speed rail and certain industrial facilities, the National Fire Agency confirmed no immediate reports of significant structural damage.`,
                chinese: `ã€1ã€‘å°ç©é›»è­‰å¯¦ 2 å¥ˆç±³é‡ç”¢é€²åº¦æå‰ï¼Œé è¨ˆ 2026 å¹´ä¸­å…¨é¢ä¾›æ‡‰\nå°ç©é›»ï¼ˆTSMCï¼‰é€±ä¸€å®£å¸ƒï¼Œå…¶å°–ç«¯çš„ 2 å¥ˆç±³è£½ç¨‹æŠ€è¡“åœ¨è©¦ç”¢æœŸé–“é”åˆ°äº†ã€Œé«˜æ–¼é æœŸã€çš„è‰¯ç‡ã€‚å› æ­¤ï¼Œå…¬å¸å°‡é‡ç”¢æ™‚ç¨‹æå‰è‡³ 2026 å¹´ä¸­ã€‚é€™ä¸€æ¶ˆæ¯å¼·åŒ–äº†æŠ•è³‡è€…å°å°ç£æŠ€è¡“é ˜å…ˆåœ°ä½çš„ä¿¡å¿ƒï¼Œç‰¹åˆ¥æ˜¯åœ¨å…¨çƒå° AI å°ˆç”¨åŠå°é«”çš„éœ€æ±‚æŒçºŒè¶…éç›®å‰ç”¢æ¥­ä¾›æ‡‰èƒ½åŠ›çš„æƒ…æ³ä¸‹ã€‚\n\nã€2ã€‘äº¤é€šéƒ¨å®£å¸ƒæ˜¥ç¯€é€£å‡åœ‹é“è»Šæµé æ¸¬ï¼Œåˆä¸‰è‡³åˆå››å°‡è¿æœ€é«˜å³°\näº¤é€šéƒ¨ï¼ˆMOTCï¼‰é€±ä¸€ç™¼å¸ƒäº†å³å°‡åˆ°ä¾†çš„ 2026 å¹´æ˜¥ç¯€é€£å‡å®˜æ–¹äº¤é€šé æ¸¬ã€‚æ•¸æ“šé¡¯ç¤ºï¼ŒåŒ—å‘åœ‹é“è»Šæµå°‡åœ¨é€£å‡ç¬¬ä¸‰å¤©ï¼ˆåˆä¸‰ï¼‰å’Œç¬¬å››å¤©ï¼ˆåˆå››ï¼‰é”åˆ°é£½å’Œã€‚ç‚ºäº†å› æ‡‰è»Šæ½®ï¼Œæ”¿åºœå°‡å¯¦æ–½é«˜ä¹˜è¼‰ç®¡åˆ¶ï¼ˆHOVï¼‰åŠæ·±å¤œå…æ”¶è²»æ™‚æ®µã€‚å®˜å“¡ä¿ƒè«‹ç”¨è·¯äººåˆ©ç”¨å³æ™‚äº¤é€šè³‡è¨Š App ä»¥é¿é–‹é‡å¤§ç“¶é ¸è·¯æ®µã€‚\n\nã€3ã€‘å±æ±é©šå‚³ 5 ç´šåœ°éœ‡ï¼Œç„¡é‡å¤§ç½æƒ…ä½†å¼•ç™¼å—éƒ¨æ°‘çœ¾ææ…Œ\nå±æ±ç¸£æ–¼é€±äºŒä¸‹åˆ 2 é» 15 åˆ†ç™¼ç”Ÿè¦æ¨¡ 5.0 åœ°éœ‡ï¼Œéœ‡å‹•å‚³éå—å°ç£ã€‚é›–ç„¶åœ°éœ‡è§¸ç™¼äº†é«˜éµåŠéƒ¨åˆ†å·¥æ¥­è¨­æ–½çš„è‡ªå‹•å®‰å…¨åœæ©Ÿï¼Œä½†å…§æ”¿éƒ¨æ¶ˆé˜²ç½²è­‰å¯¦ç›®å‰å°šç„¡é‡å¤§çµæ§‹æå£æˆ–äººå“¡å‚·äº¡çš„å ±å‘Šã€‚ä¸­å¤®æ°£è±¡ç½²æé†’å…¬çœ¾åœ¨æœªä¾† 48 å°æ™‚å…§ä¿æŒè­¦è¦ºï¼Œç•™æ„é¤˜éœ‡ã€‚`,
                vocabulary: [
                    'Mass production (n.phr.): é‡ç”¢', 'Ahead of schedule (phr.): æå‰', 'Cutting-edge (adj.): å°–ç«¯çš„/æœ€å…ˆé€²çš„', 'Yield rates (n.phr.): è‰¯ç‡',
                    'Trial production (n.phr.): è©¦ç”¢', 'Reinforced (v.pt.): å¼·åŒ–/éå›º', 'Outpace (v.): è¶…é/é ˜å…ˆ', 'Supply capabilities (n.phr.): ä¾›æ‡‰èƒ½åŠ›',
                    'Traffic forecast (n.phr.): äº¤é€šé æ¸¬', 'Congestion (n.): æ“å µ', 'Peak (n./v.): é«˜å³°/é”åˆ°é ‚å³°', 'Maximum capacity (n.phr.): æœ€å¤§å®¹é‡/é£½å’Œ',
                    'High-occupancy vehicle (HOV) (n.phr.): é«˜ä¹˜è¼‰è»Šè¼›', 'Restrictions (n.): é™åˆ¶', 'Toll-free periods (n.phr.): å…æ”¶è²»æ™‚æ®µ', 'Bottlenecks (n.): ç“¶é ¸',
                    'Rattles (v.): éœ‡å‹•/ä½¿é©šæ', 'Casualties (n.): å‚·äº¡äººæ•¸', 'Tremors (n.): é¡«å‹•/å°åœ°éœ‡', 'Safety shutdowns (n.phr.): å®‰å…¨åœæ©Ÿ',
                    'Aftershocks (n.): é¤˜éœ‡', 'Yield (n.): è‰¯ç‡/ç”¢é‡', 'Forecast (v./n.): é æ¸¬', 'Implement (v.): åŸ·è¡Œ/å¯¦æ–½',
                    'Industrial facilities (n.phr.): å·¥æ¥­è¨­æ–½', 'National Fire Agency (n. proper): æ¶ˆé˜²ç½²', 'Alert (adj./n.): è­¦è¦º/è­¦å ±', 'Vigilance (n.): è­¦è¦º',
                    'Outpace (v.): ç™¼å±•è¶…é', 'Consolidated (adj.): ç¶œåˆçš„/éå›ºçš„', 'Asymmetric (adj.): ä¸å°ç¨±çš„', 'Transit (n.): é€šé/é‹è¼¸'
                ],
                quiz: [
                    { q: 'When is TSMC\'s 2nm mass production now scheduled to begin?', options: ['Late 2026', 'Mid-2026', 'Early 2027', 'January 2026'], answer: 'Mid-2026' },
                    { q: 'What reason did TSMC give for pulling forward the production schedule?', options: ['High demand from Apple', 'Higher-than-expected yield rates', 'New government subsidies', 'Lower electricity costs'], answer: 'Higher-than-expected yield rates' },
                    { q: 'On which days of the Lunar New Year is traffic expected to peak?', options: ['Day 1 and 2', 'Day 3 and 4', 'Day 5 and 6', 'The last day only'], answer: 'Day 3 and 4' },
                    { q: 'What measure will be implemented for highway traffic during the holiday?', options: ['Total road closures', 'High-occupancy vehicle (HOV) restrictions', 'Mandatory parking', 'Free gas'], answer: 'High-occupancy vehicle (HOV) restrictions' },
                    { q: 'What was the magnitude of the earthquake in Pingtung?', options: ['4.5', '5.0', '6.0', '7.0'], answer: '5.0' },
                    { q: 'Did the Pingtung earthquake result in immediate reports of major structural damage?', options: ['Yes, many buildings collapsed', 'Only in northern Taiwan', 'No immediate reports of significant damage', 'The news did not mention damage'], answer: 'No immediate reports of significant damage' },
                    { q: 'The MOTC advised travelers to use what to avoid bottlenecks?', options: ['Paper maps', 'Real-time traffic apps', 'Local radio only', 'Taxis only'], answer: 'Real-time traffic apps' },
                    { q: 'What triggered automatic safety shutdowns after the earthquake?', options: ['The wind', 'The tremor/earthquake', 'A power surge', 'Human error'], answer: 'The tremor/earthquake' },
                    { q: 'The term "pulling forward" a schedule means ______.', options: ['Delaying it', 'Cancelling it', 'Moving it to an earlier time', 'Publishing it'], answer: 'Moving it to an earlier time' },
                    { q: 'The word "yield" in semiconductors refers to the percentage of ______.', options: ['Electricity used', 'Usable or functional chips', 'Workers on strike', 'Money invested'], answer: 'Usable or functional chips' },
                    { q: 'Which agency confirmed the lack of casualties in Pingtung?', options: ['The National Fire Agency', 'The Ministry of Finance', 'The Labor Union', 'NVIDIA'], answer: 'The National Fire Agency' },
                    { q: 'HOV restrictions stand for what?', options: ['Heavy Oil Vehicle', 'High-Occupancy Vehicle', 'Highway Only Venture', 'Hazardous Object Vessel'], answer: 'High-Occupancy Vehicle' }
                ]
            },
            'trump-canada-tariffs': {
                title: 'å·æ™®å¨è„…å°åŠ å¾µæ”¶ 100% é—œç¨…',
                english: `President Donald Trump sent shockwaves through the North American markets on Monday by formally threatening to impose 100% tariffs on all Canadian imports. The ultimatum follows Canadaâ€™s decision to lower duties on Chinese electric vehicles and agricultural products, a move Trump characterized as an "unacceptable betrayal" of the US-led economic order. While Canadian Prime Minister Justin Trudeau argued the deal was necessary for agricultural survival, the White House maintained that Canada is "subsidizing our enemies." This potential trade war has sent the Canadian dollar to its lowest level in years and raised fears of a permanent fracture in the USMCA trade agreement, potentially disrupting critical automotive and energy supply chains across the continent.`,
                chinese: `å·æ™®æ­£å¼å¨è„…å°åŠ æ‹¿å¤§èª²å¾µ 100% é—œç¨…ï¼Œå› å…¶èˆ‡ä¸­åœ‹é”æˆè¾²æ¥­èˆ‡é›»å‹•è»Šå”è­°ã€‚ç¾åœ‹ç¸½çµ±å·æ™®é€±ä¸€æ­£å¼å¨è„…è¦å°æ‰€æœ‰åŠ æ‹¿å¤§é€²å£å•†å“å¾µæ”¶ 100% çš„é—œç¨…ï¼Œé€™çµ¦åŒ—ç¾å¸‚å ´å¸¶ä¾†äº†å·¨å¤§è¡æ“Šã€‚é€™ä¸€æœ€å¾Œé€šç‰’æ˜¯åœ¨åŠ æ‹¿å¤§æ±ºå®šé™ä½å°ä¸­åœ‹é›»å‹•è»ŠåŠè¾²ç”¢å“çš„é—œç¨…å¾Œç™¼å‡ºçš„ï¼Œå·æ™®å°‡æ­¤èˆ‰æè¿°ç‚ºå°ç¾åœ‹é ˜å°ä¹‹ç¶“æ¿Ÿç§©åºã€Œä¸å¯æ¥å—çš„èƒŒå›ã€ã€‚é›–ç„¶åŠ æ‹¿å¤§ç¸½ç†æœé­¯é“è¾¯ç¨±è©²å”è­°å°è¾²æ¥­ç”Ÿå­˜è‡³é—œé‡è¦ï¼Œä½†ç™½å®®å …ç¨±åŠ æ‹¿å¤§æ˜¯åœ¨ã€Œè£œè²¼æˆ‘å€‘çš„æ•µäººã€ã€‚é€™å ´æ½›åœ¨çš„è²¿æ˜“æˆ°å·²ä½¿åŠ å¹£è·Œè‡³å¤šå¹´ä¾†çš„æœ€ä½é»ï¼Œä¸¦å¼•ç™¼äº†äººå€‘å°ã€Šç¾å¢¨åŠ å”å®šã€‹ï¼ˆUSMCAï¼‰æ°¸ä¹…ç ´è£‚çš„æ“”æ†‚ï¼Œé€™å¯èƒ½æ“¾äº‚æ•´å€‹å¤§é™¸é—œéµçš„æ±½è»Šå’Œèƒ½æºä¾›æ‡‰éˆã€‚`,
                vocabulary: [
                    'Shockwaves (n.): è¡æ“Šæ³¢/éœ‡æ’¼', 'Impose (v.): å¾µæ”¶/å¼·åŠ ', 'Tariffs (n.): é—œç¨…', 'Ultimatum (n.): æœ€å¾Œé€šç‰’',
                    'Duties (n.): é—œç¨…/ç¨…', 'Betrayal (n.): èƒŒå›', 'Economic order (n.phr.): ç¶“æ¿Ÿç§©åº', 'Agricultural survival (n.phr.): è¾²æ¥­ç”Ÿå­˜',
                    'Subsidizing (v.ger.): è£œè²¼', 'Potential trade war (n.phr.): æ½›åœ¨è²¿æ˜“æˆ°', 'Canadian dollar (n.): åŠ å¹£', 'Lowest level (n.phr.): æœ€ä½é»',
                    'Permanent fracture (n.phr.): æ°¸ä¹…æ€§ç ´è£‚', 'USMCA (n. proper): ç¾å¢¨åŠ å”å®š', 'Disrupting (v.ger.): æ“¾äº‚/ä¸­æ–·', 'Supply chains (n.phr.): ä¾›æ‡‰éˆ',
                    'Ultimatum (n.): æœ€å¾Œé€šç‰’', 'Betrayal (n.): èƒŒå›è¡Œç‚º', 'Subsidize (v.): è³‡åŠ©/è£œè²¼', 'Fracture (n./v.): æ–·è£‚/ç ´è£‚',
                    'Strategic (adj.): æˆ°ç•¥çš„', 'Conflict (n.): è¡çª', 'Sovereignty (n.): ä¸»æ¬Š', 'Retaliation (n.): å ±å¾©',
                    'Exemption (n.): è±å…', 'Unacceptable (adj.): ä¸å¯æ¥å—çš„', 'Characterized (v.pp.): æè¿°/å®šæ€§', 'Enemies (n.): æ•µäºº'
                ],
                quiz: [
                    { q: 'What percentage of tariff did Trump threaten to impose on Canada?', options: ['10%', '25%', '50%', '100%'], answer: '100%' },
                    { q: 'What triggered Trump\'s ultimatum to Canada?', options: ['Canada\'s decision to lower duties on Chinese products', 'A border dispute', 'A disagreement over climate policy', 'The capture of a US citizen'], answer: 'Canada\'s decision to lower duties on Chinese products' },
                    { q: 'How did Trump characterize Canada\'s trade deal with China?', options: ['A good partnership', 'An "unacceptable betrayal"', 'A necessary step', 'A technical error'], answer: 'An "unacceptable betrayal"' },
                    { q: 'What specific products did Canada lower duties on?', options: ['Smartphones and toys', 'Electric vehicles and agricultural products', 'Oil and gas', 'Lumber and steel'], answer: 'Electric vehicles and agricultural products' },
                    { q: 'How has the Canadian dollar reacted to this threat?', options: ['It reached an all-time high', 'It remained stable', 'It fell to its lowest level in years', 'It became more valuable than the US dollar'], answer: 'It fell to its lowest level in years' },
                    { q: 'The term "USMCA" refers to a trade agreement between which three nations?', options: ['US, Canada, and Mexico', 'US, China, and Australia', 'US, UK, and Canada', 'Canada, Mexico, and China'], answer: 'US, Canada, and Mexico' },
                    { q: 'What does "subsidizing" mean in the context of the White House\'s claim?', options: ['Fighting against', 'Providing financial support to', 'Ignoring', 'Taxing'], answer: 'Providing financial support to' },
                    { q: 'Which industries are most at risk of disruption across the continent?', options: ['Farming and Fishing', 'Automotive and energy', 'Retail and Fashion', 'Education and Medicine'], answer: 'Automotive and energy' },
                    { q: 'Who is the Prime Minister of Canada?', options: ['Justin Trudeau', 'Emmanuel Macron', 'Keir Starmer', 'Pedro SÃ¡nchez'], answer: 'Justin Trudeau' },
                    { q: 'What is an "ultimatum"?', options: ['A friendly gift', 'A final demand with a threat of action', 'A secret meeting', 'A new law'], answer: 'A final demand with a threat of action' },
                    { q: 'The word "fracture" implies what for the trade agreement?', options: ['Improvement', 'Breaking or splitting', 'Strengthening', 'Renewing'], answer: 'Breaking or splitting' },
                    { q: 'What does "betrayal" mean?', options: ['Loyalty', 'An act of breaking trust', 'A type of tax', 'Success'], answer: 'An act of breaking trust' }
                ]
            },
            'us-canada-storm': {
                title: 'ç¾åŠ é‚Šå¢ƒå› å†°é›ªé¢¨æš´é—œé–‰',
                english: `The catastrophic winter storm that has gripped North America for three days worsened on Monday, forcing the closure of several major border crossings between the U.S. and Canada due to extreme icing and whiteout conditions. Over 2 million people are currently without power across the Midwest and Ontario, with temperatures plummeting to record lows. Emergency services in Minneapolis and Toronto are struggling to reach stranded motorists, and officials warn that the recovery effort could take weeks as more freezing rain is forecasted for the Northeast corridor by Tuesday morning.`,
                chinese: `ä¸–ç´€å†°é›ªé¢¨æš´é€ æˆç¾ã€åŠ é‚Šå¢ƒé—œé–‰ï¼Œé€¾ 200 è¬äººæ–·é›»ã€‚ä¸€å ´æ©«è·¨åŒ—ç¾ä¸‰å¤©çš„ç½é›£æ€§å†¬å­£é¢¨æš´åœ¨é€±ä¸€é€²ä¸€æ­¥æƒ¡åŒ–ï¼Œç”±æ–¼æ¥µç«¯çµå†°èˆ‡ã€Œç™½çŸ‡å¤©ï¼ˆwhiteoutï¼‰ã€ç‹€æ³ï¼Œè¢«è¿«é—œé–‰äº†ç¾åŠ ä¹‹é–“çš„æ•¸å€‹ä¸»è¦é‚Šå¢ƒå£å²¸ã€‚ç›®å‰ç¾åœ‹ä¸­è¥¿éƒ¨åŠåŠ æ‹¿å¤§å®‰å¤§ç•¥çœæœ‰è¶…é 200 è¬äººæ–·é›»ï¼Œæ°£æº«é©Ÿé™è‡³æ­·å²ä½é»ã€‚æ˜å°¼é˜¿æ³¢åˆ©æ–¯èˆ‡å¤šå€«å¤šçš„ç·Šæ€¥æ•‘æ´éƒ¨é–€æ­£åŠªåŠ›ç‡Ÿæ•‘å—å›°çš„é§•é§›äººï¼Œå®˜å“¡è­¦å‘Šï¼Œéš¨è‘—é€±äºŒæ¸…æ™¨æ±åŒ—èµ°å»Šé è¨ˆå°‡æœ‰æ›´å¤šå‡é›¨ï¼Œå¾©åŸå·¥ä½œå¯èƒ½éœ€è¦æ•¸é€±æ™‚é–“ã€‚`,
                vocabulary: [
                    'Catastrophic (adj.): ç½é›£æ€§çš„', 'Grip (v.): ç± ç½©/ç·Šæ¡', 'Worsened (v.pt.): æƒ¡åŒ–', 'Border crossings (n.phr.): é‚Šå¢ƒå£å²¸',
                    'Extreme icing (n.phr.): æ¥µç«¯çµå†°', 'Whiteout conditions (n.phr.): ç™½çŸ‡å¤©ç‹€æ³ (èƒ½è¦‹åº¦æ¥µä½)', 'Midwest (n. proper): (ç¾åœ‹) ä¸­è¥¿éƒ¨', 'Ontario (n. proper): (åŠ æ‹¿å¤§) å®‰å¤§ç•¥çœ',
                    'Record lows (n.phr.): æ­·å²ä½é»', 'Plummeting (adj.): æš´è·Œçš„', 'Emergency services (n.phr.): ç·Šæ€¥æ•‘æ´éƒ¨é–€', 'Stranded motorists (n.phr.): å—å›°çš„é§•é§›',
                    'Recovery effort (n.phr.): å¾©åŸå·¥ä½œ', 'Freezing rain (n.phr.): å‡é›¨', 'Northeast corridor (n. proper): æ±åŒ—èµ°å»Š', 'Paralyzes (v.): ä½¿ç™±ç˜“',
                    'Catastrophic (adj.): å¤§ç½é›£çš„', 'Worsen (v.): è®Šç³Ÿ', 'Closure (n.): é—œé–‰', 'Conditions (n.): æ¢ä»¶/ç‹€æ³',
                    'Struggle (v.): æ™æ‰', 'Motorist (n.): æ±½è»Šé§•é§›', 'Forecast (v.pp.): é æ¸¬', 'Corridor (n.): èµ°å»Š'
                ],
                quiz: [
                    { q: 'How long has the winter storm gripped North America?', options: ['One day', 'Two days', 'Three days', 'One week'], answer: 'Three days' },
                    { q: 'Why were the border crossings between the US and Canada closed?', options: ['Protests', 'Extreme icing and whiteout conditions', 'Tariff disputes', 'Political elections'], answer: 'Extreme icing and whiteout conditions' },
                    { q: 'How many people are currently without power?', options: ['10,000', '100,000', 'Over 2 million', '10 million'], answer: 'Over 2 million' },
                    { q: 'Which Canadian province was specifically mentioned as having power outages?', options: ['Quebec', 'British Columbia', 'Ontario', 'Alberta'], answer: 'Ontario' },
                    { q: 'Which two cities\' emergency services are mentioned as struggling?', options: ['New York and London', 'Minneapolis and Toronto', 'Los Angeles and Vancouver', 'Chicago and Montreal'], answer: 'Minneapolis and Toronto' },
                    { q: 'What is a "whiteout condition"?', options: ['A sunny day with clouds', 'A situation where visibility is near zero due to snow', 'A type of clean energy', 'A political protest'], answer: 'A situation where visibility is near zero due to snow' },
                    { q: 'Officials warn that recovery could take how long?', options: ['A few hours', 'One day', 'Weeks', 'Months'], answer: 'Weeks' },
                    { q: 'What kind of rain is forecasted for the Northeast corridor on Tuesday?', options: ['Tropical rain', 'Freezing rain', 'Acid rain', 'Light drizzle'], answer: 'Freezing rain' },
                    { q: 'The term "catastrophic" means which of the following?', options: ['Minor and unimportant', 'Extremely unfortunate or disastrous', 'Planned and successful', 'Fast and loud'], answer: 'Extremely unfortunate or disastrous' },
                    { q: 'What does "stranded" mean?', options: ['Moving fast', 'Left in a helpless position', 'Rich and famous', 'Underground'], answer: 'Left in a helpless position' },
                    { q: 'The word "plummeting" describes temperatures that are ______.', options: ['Rising quickly', 'Dropping steeply and suddenly', 'Staying exactly the same', 'Comfortable'], answer: 'Dropping steeply and suddenly' },
                    { q: 'The "Midwest" refers to a region in which country?', options: ['Canada', 'USA', 'Mexico', 'UK'], answer: 'USA' }
                ]
            },
            'nvidia-sovereign-ai': {
                title: 'è¼é”å°‡ç™¼å¸ƒã€Œä¸»æ¬Š AIã€è¨ˆç•«',
                english: `NVIDIA CEO Jensen Huang announced on Monday that the company will launch a new initiative in February aimed at helping "sovereign nations" build their own independent AI infrastructure. The program will provide specialized hardware and software packages to countries looking to reduce their reliance on U.S. or Chinese cloud providers for critical government and defense AI applications. Industry analysts suggest this move is a strategic attempt to diversify NVIDIAâ€™s revenue streams while navigating increasingly complex export controls and the growing global demand for "digital sovereignty."`,
                chinese: `è¼é”ï¼ˆNVIDIAï¼‰é è¨ˆäºŒæœˆç™¼å¸ƒã€Œä¸»æ¬Š AIã€è¨ˆç•«ï¼Œå”åŠ©ä¸­ç­‰åœ‹å®¶å»ºç«‹ç¨ç«‹ç®—åŠ›ã€‚è¼é”åŸ·è¡Œé•·é»ƒä»å‹³é€±ä¸€å®£å¸ƒï¼Œå…¬å¸å°‡æ–¼äºŒæœˆæ¨å‡ºä¸€é …æ–°å€¡è­°ï¼Œæ—¨åœ¨å¹«åŠ©ã€Œä¸»æ¬Šåœ‹å®¶ã€å»ºç«‹è‡ªå·±çš„ç¨ç«‹ AI åŸºç¤è¨­æ–½ã€‚è©²è¨ˆç•«å°‡ç‚ºå¸Œæœ›æ¸›å°‘åœ¨é—œéµæ”¿åºœå’Œåœ‹é˜² AI æ‡‰ç”¨ä¸Šä¾è³´ç¾åœ‹æˆ–ä¸­åœ‹é›²ç«¯æœå‹™å•†çš„åœ‹å®¶ï¼Œæä¾›å°ˆé–€çš„ç¡¬é«”å’Œè»Ÿé«”åŒ…ã€‚ç”¢æ¥­åˆ†æå¸«æŒ‡å‡ºï¼Œæ­¤èˆ‰æ˜¯è¼é”å¤šå…ƒåŒ–ç‡Ÿæ”¶ä¾†æºçš„ç­–ç•¥æ€§å˜—è©¦ï¼ŒåŒæ™‚ä¹Ÿèƒ½æ‡‰å°æ—¥ç›Šè¤‡é›œçš„å‡ºå£ç®¡åˆ¶ä»¥åŠå…¨çƒå°ã€Œæ•¸ä½ä¸»æ¬Šã€ä¸æ–·å¢é•·çš„éœ€æ±‚ã€‚`,
                vocabulary: [
                    'Sovereign AI (n.phr.): ä¸»æ¬Š AI', 'Initiative (n.): å€¡è­°/è¨ˆç•«', 'Independent (adj.): ç¨ç«‹çš„', 'Infrastructure (n.): åŸºç¤è¨­æ–½',
                    'Specialized (adj.): å°ˆé–€çš„', 'Software packages (n.phr.): è»Ÿé«”åŒ…', 'Reliance (n.): ä¾è³´', 'Cloud providers (n.phr.): é›²ç«¯ä¾›æ‡‰å•†',
                    'Critical (adj.): é—œéµçš„/è‡³é—œé‡è¦çš„', 'Defense applications (n.phr.): åœ‹é˜²æ‡‰ç”¨', 'Strategic attempt (n.phr.): ç­–ç•¥æ€§å˜—è©¦', 'Diversify (v.): å¤šå…ƒåŒ–',
                    'Revenue streams (n.phr.): ç‡Ÿæ”¶ä¾†æº', 'Navigating (v.ger.): æ‡‰å°/å°èˆª', 'Export controls (n.phr.): å‡ºå£ç®¡åˆ¶', 'Digital sovereignty (n.phr.): æ•¸ä½ä¸»æ¬Š',
                    'Middle-power nations (n.phr.): ä¸­ç­‰æ¬ŠåŠ›åœ‹å®¶', 'Sovereign (adj.): æœ‰ä¸»æ¬Šçš„', 'Hardware (n.): ç¡¬é«”', 'Package (n.): å¥—ä»¶',
                    'Reliance on (phr.): å°...çš„ä¾è³´', 'Application (n.): æ‡‰ç”¨/æ‡‰ç”¨ç¨‹å¼', 'Complexity (n.): è¤‡é›œæ€§', 'Sovereignty (n.): ä¸»æ¬Š'
                ],
                quiz: [
                    { q: 'Who is the CEO of NVIDIA?', options: ['Elon Musk', 'Jensen Huang', 'Shou Zi Chew', 'Bill Gates'], answer: 'Jensen Huang' },
                    { q: 'What is the name of the new NVIDIA initiative?', options: ['Global AI', 'Sovereign AI', 'Cloud AI', 'Alliance AI'], answer: 'Sovereign AI' },
                    { q: 'When is the NVIDIA initiative set to launch?', options: ['Immediately', 'January', 'February', 'December'], answer: 'February' },
                    { q: 'What is the main goal of "Sovereign AI"?', options: ['To build bigger data centers in the US', 'To help nations build independent AI infrastructure', 'To lower the price of gaming cards', 'To replace the internet'], answer: 'To help nations build independent AI infrastructure' },
                    { q: 'Why do countries want independent AI infrastructure?', options: ['To increase taxes', 'To reduce reliance on U.S. or Chinese cloud providers', 'To store more photos', 'To play games faster'], answer: 'To reduce reliance on U.S. or Chinese cloud providers' },
                    { q: 'In which sectors is the initiative particularly helpful for countries?', options: ['Farming and Arts', 'Government and defense', 'Cooking and Sports', 'Music and Fashion'], answer: 'Government and defense' },
                    { q: 'NVIDIA wants to "diversify" its revenue streams. What does "diversify" mean?', options: ['To keep only one source', 'To enlarge a single stream', 'To branch out or create more varied sources', 'To lose money'], answer: 'To branch out or create more varied sources' },
                    { q: 'What global demand is growing according to the analysts?', options: ['Demand for "digital sovereignty"', 'Demand for oil', 'Demand for manual labor', 'Demand for older computers'], answer: 'Demand for "digital sovereignty"' },
                    { q: 'What kind of "controls" is NVIDIA navigating?', options: ['Traffic controls', 'Export controls', 'Remote controls', 'Temperature controls'], answer: 'Export controls' },
                    { q: 'What does "sovereign" mean in this context?', options: ['Very expensive', 'Relating to a nation with its own independent power', 'A type of coin', 'A high building'], answer: 'Relating to a nation with its own independent power' },
                    { q: 'NVIDIA will provide "packages" of ______.', options: ['Food and water', 'Hardware and software', 'Stocks and bonds', 'Clothes and shoes'], answer: 'Hardware and software' },
                    { q: 'The move is seen as a "strategic ______."', options: ['Mistake', 'Attempt', 'Failure', 'Celebration'], answer: 'Attempt' }
                ]
            },
            'barcelona-strike': {
                title: 'å·´å¡éš†ç´å¤§ç½·å·¥ï¼šåéåº¦è§€å…‰',
                english: `Massive Strike Paralyzes Barcelona as Residents Protest Overtourism and Housing Costs\nTens of thousands of workers and residents in Barcelona went on strike on Monday to protest the negative impacts of "overtourism" on the cityâ€™s housing market. Protesters blocked major tourist routes and demonstrated outside the city hall, demanding a total ban on short-term rentals and a cap on cruise ship arrivals. The strike highlights the growing tension in European cities where local residents are being priced out of their neighborhoods, forcing governments to consider radical new regulations on the tourism industry.`,
                chinese: `è¥¿ç­ç‰™å·´å¡éš†ç´ç™¼ç”Ÿå¤§è¦æ¨¡ç½·å·¥ï¼ŒæŠ—è­°éåº¦è§€å…‰èˆ‡ä½æˆ¿æˆæœ¬é£†å‡ã€‚é€±ä¸€ï¼Œå·´å¡éš†ç´æ•¸è¬åå·¥äººå’Œå±…æ°‘ç™¼èµ·ç½·å·¥ï¼ŒæŠ—è­°ã€Œéåº¦è§€å…‰ï¼ˆovertourismï¼‰ã€å°è©²å¸‚ä½æˆ¿å¸‚å ´ç”¢ç”Ÿçš„è² é¢å½±éŸ¿ã€‚æŠ—è­°è€…å°é–äº†ä¸»è¦çš„æ—…éŠè·¯ç·šï¼Œä¸¦åœ¨å¸‚æ”¿å»³å¤–ç¤ºå¨ï¼Œè¦æ±‚å…¨é¢ç¦æ­¢çŸ­æœŸç§Ÿè³ƒä¸¦å°éƒµè¼ªåˆ°æ¸¯äººæ•¸è¨­å®šä¸Šé™ã€‚é€™å ´ç½·å·¥å‡¸é¡¯äº†æ­æ´²åŸå¸‚æ—¥ç›Šç·Šå¼µçš„å±€å‹¢ï¼Œç•¶åœ°å±…æ°‘æ­£å› é«˜æ˜‚çš„ç”Ÿæ´»æˆæœ¬è€Œè¢«æ’æ“ å‡ºåŸæœ‰çš„ç¤¾å€ï¼Œé€™è¿«ä½¿å„åœ‹æ”¿åºœè€ƒæ…®å°è§€å…‰ç”¢æ¥­å¯¦æ–½å¾¹åº•çš„æ–°è¦ç¯„ã€‚`,
                vocabulary: [
                    'Massive strike (n.phr.): å¤§è¦æ¨¡ç½·å·¥', 'Paralyzes (v.): ä½¿ç™±ç˜“', 'Residents (n.): å±…æ°‘', 'Protest (v./n.): æŠ—è­°',
                    'Overtourism (n.): éåº¦è§€å…‰', 'Housing costs (n.phr.): ä½æˆ¿æˆæœ¬', 'Negative impacts (n.phr.): è² é¢å½±éŸ¿', 'Housing market (n.phr.): ä½æˆ¿å¸‚å ´',
                    'Tourist routes (n.phr.): æ—…éŠè·¯ç·š', 'City hall (n. proper): å¸‚æ”¿å»³', 'Short-term rentals (n.phr.): çŸ­æœŸç§Ÿè³ƒ', 'Cap (n.): ä¸Šé™',
                    'Cruise ship (n.phr.): éƒµè¼ª', 'Arrivals (n.): æŠµé”äººæ•¸', 'Tension (n.): ç·Šå¼µå±€å‹¢', 'Priced out (phr.v.): (å› åƒ¹æ ¼å¤ªé«˜è€Œ) è¢«æ“ å‡º/è²·ä¸èµ·',
                    'Neighborhoods (n.): ç¤¾å€', 'Radical (adj.): å¾¹åº•çš„/æ¿€é€²çš„', 'Regulations (n.): è¦ç« /è¦ç¯„', 'Tourism industry (n.phr.): è§€å…‰ç”¢æ¥­',
                    'Protester (n.): æŠ—è­°è€…', 'Paralyze (v.): ä½¿ç—²ç—¹', 'Housing (n.): ä½æˆ¿', 'Rental (n.): å‡ºç§Ÿ/ç§Ÿé‡‘'
                ],
                quiz: [
                    { q: 'In which city did the massive strike occur?', options: ['Madrid', 'Barcelona', 'Paris', 'London'], answer: 'Barcelona' },
                    { q: 'What is the primary reason for the protest in Barcelona?', options: ['Bad weather', 'Overtourism and high housing costs', 'Lack of jobs', 'Low quality of food'], answer: 'Overtourism and high housing costs' },
                    { q: 'What specific demand did the protesters make regarding rentals?', options: ['Lower tax on rentals', 'A total ban on short-term rentals', 'More rentals for tourists', 'Rentals should be free'], answer: 'A total ban on short-term rentals' },
                    { q: 'What else did they want a "cap" on?', options: ['The price of coffee', 'Cruise ship arrivals', 'The number of cars', 'The height of buildings'], answer: 'Cruise ship arrivals' },
                    { q: 'Where did the protesters demonstrate?', options: ['At the airport', 'Outside the city hall', 'In a local forest', 'On the beach only'], answer: 'Outside the city hall' },
                    { q: 'What has happened to local residents in their neighborhoods?', options: ['They have become richer', 'They are being "priced out"', 'They all moved to the US', 'They are ignoring the tourists'], answer: 'Being "priced out"' },
                    { q: 'The strike highlights "growing tension" in which continent?', options: ['Asia', 'Africa', 'Europe', 'South America'], answer: 'Europe' },
                    { q: 'Governments are considering "radical new ______" on tourism.', options: ['Gifts', 'Tours', 'Regulations', 'Prices'], answer: 'Regulations' },
                    { q: 'The term "overtourism" refers to ______.', options: ['Not enough tourists', 'Too many tourists causing harm to a destination', 'Tourists who stay too long', 'High-quality tourism'], answer: 'Too many tourists causing harm to a destination' },
                    { q: 'What does "priced out" mean?', options: ['Getting a discount', 'Being unable to afford something that was once affordable', 'Selling something at a high price', 'Finding a lower price'], answer: 'Being unable to afford something that was once affordable' },
                    { q: 'The word "paralyzes" in this news means ______.', options: ['Heals', 'Brings to a complete stop or standstill', 'Starts quickly', 'Makes louder'], answer: 'Brings to a complete stop or standstill' },
                    { q: 'The protesters blocked "major tourist ______."', options: ['Routes', 'Hotels', 'Posters', 'Menus'], answer: 'Routes' }
                ]
            }
        };

        // --- STATE MANAGEMENT ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        // --- CORE RENDERING ---
        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº« (${data.vocabulary.length})</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ ¸å¿ƒå–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å…§å®¹æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢º)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>