<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 2 æœˆ 4 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 2 æœˆ 4 æ—¥ï¼šèƒ½æºéŸŒæ€§ã€åŠå°é«”å°–ç«¯ä½ˆå±€èˆ‡å…¨çƒç¤¾ç¶“è®Šé©</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for persistent professional English learning. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] Taiwan and U.S. Sign Clean Energy Pact; U.S. to License Geothermal Technology\nIn a move to bolster Taiwan's energy security, Taipei and Washington signed a "Clean Energy Cooperation Agreement" on Wednesday. Under the deal, the U.S. will license advanced deep-earth geothermal technology to Taiwan, with the goal of constructing several new power plants by 2028. Premier Cho Jung-tai stated that this partnership supports Taiwanâ€™s net-zero transition and reduces reliance on imported LNG.\n\n[2] TSMC Confirms A14 (1.4nm) Plant Location in Taichung; Groundbreaking in Mid-2026\nEnding months of speculation, TSMC officially confirmed that its first production facility for the A14 (1.4-nanometer) node will be built in the Taichung Science Park. The expansion is expected to create over 5,000 high-tech jobs and solidify central Taiwanâ€™s role in the global AI supply chain. Selection of Taichung highlights the governmentâ€™s commitment to "balanced regional development."\n\n[3] Taipei Lantern Festival Ends: "Dragon" Main Installation Hits 10M Digital Views\nThe Taipei City Government announced that the 2026 Lantern Festival has reached a conclusion with record-breaking engagement. The main installation, "Dragon Leaping Over Clouds," leveraged 5G and AR technology to attract over 10 million digital views worldwide. Mayor Chiang Wan-an stated that the festivalâ€™s success demonstrates how traditional culture can be revitalized through technological innovation.`,
                chinese: `ã€1ã€‘å°ç¾ç°½ç½²ã€Œæ½”æ·¨èƒ½æºåˆä½œå”è­°ã€ï¼šç¾æ–¹å°‡æˆæ¬Šåœ°ç†±æŠ€è¡“çµ¦å°ç£\nç‚ºåŠ å¼·å°ç£çš„èƒ½æºå®‰å…¨ï¼Œå°åŒ—èˆ‡è¯ç››é “é€±ä¸‰ç°½ç½²äº†ã€Šæ½”æ·¨èƒ½æºåˆä½œå”è­°ã€‹ã€‚æ ¹æ“šå”è­°ï¼Œç¾åœ‹å°‡å‘å°ç£æˆæ¬Šå…ˆé€²çš„æ·±å±¤åœ°ç†±æŠ€è¡“ï¼Œç›®æ¨™æ˜¯åœ¨ 2028 å¹´å‰å»ºè¨­æ•¸åº§æ–°é›»å» ã€‚è¡Œæ”¿é™¢é•·å“æ¦®æ³°è¡¨ç¤ºï¼Œé€™é …å¤¥ä¼´é—œä¿‚ä¸åƒ…æ”¯æŒå°ç£çš„æ·¨é›¶è½‰å‹ï¼Œé‚„èƒ½æ¸›å°‘å°é€²å£æ¶²åŒ–å¤©ç„¶æ°£ï¼ˆLNGï¼‰çš„ä¾è³´ï¼Œé€²ä¸€æ­¥å°‡ã€ŒçŸ½ç›¾ã€èˆ‡è¥¿æ–¹æ°¸çºŒèƒ½æºæ± æ•´åˆã€‚\n\nã€2ã€‘å°ç©é›»è­‰å¯¦ A14ï¼ˆ1.4 å¥ˆç±³ï¼‰å» å€è½è…³å°ä¸­ï¼Œé è¨ˆ 2026 å¹´ä¸­å‹•å·¥\nçµæŸäº†æ•¸æœˆçš„æ£æ¸¬ï¼Œå°ç©é›»ï¼ˆTSMCï¼‰é€±ä¸‰æ­£å¼è­‰å¯¦ï¼Œå…¶ A14ï¼ˆ1.4 å¥ˆç±³ï¼‰è£½ç¨‹çš„é¦–åº§ç”Ÿç”¢è¨­æ–½å°‡å»ºæ–¼å°ä¸­ç§‘å­¸åœ’å€ã€‚æ­¤æ¬¡æ“´å¼µé è¨ˆå°‡å‰µé€ è¶…é 5,000 å€‹é«˜ç§‘æŠ€è·ç¼ºï¼Œä¸¦éå›ºä¸­å°ç£åœ¨å…¨çƒ AI ä¾›æ‡‰éˆä¸­çš„è§’è‰²ã€‚åˆ†æå¸«æŒ‡å‡ºï¼Œé¸æ“‡å°ä¸­å‡¸é¡¯äº†è©²åœ°å€å¼·å¤§çš„åŸºç¤è¨­æ–½åŠæ”¿åºœå°ã€Œå€åŸŸå‡è¡¡ç™¼å±•ã€çš„æ‰¿è«¾ï¼ŒåŒæ™‚ç¶­æŒå°ç£çš„æŠ€è¡“é ˜å…ˆåœ°ä½ã€‚\n\nã€3ã€‘å°åŒ—ç‡ˆç¯€é€²å…¥å°¾è²ï¼šä¸»ç‡ˆã€Œé¾èºé›²ç«¯ã€çµåˆ 5G æŠ€è¡“å‰µä¸‹åƒè¬ç´šæ•¸ä½ç€è¦½\nå°åŒ—å¸‚æ”¿åºœé€±ä¸‰å®£å¸ƒï¼Œ2026 å°åŒ—ç‡ˆç¯€åœ“æ»¿è½å¹•ï¼Œåƒèˆ‡åº¦å‰µä¸‹ç´€éŒ„ã€‚ä¸»ç‡ˆã€Œé¾èºé›²ç«¯ã€åˆ©ç”¨ 5G å’Œ AR æŠ€è¡“ï¼Œåœ¨å…¨çƒå¸å¼•äº†è¶…é 1,000 è¬æ¬¡æ•¸ä½è§€çœ‹ã€‚å¸‚é•·è”£è¬å®‰è¡¨ç¤ºï¼Œç‡ˆç¯€çš„æˆåŠŸè­‰æ˜äº†å‚³çµ±æ–‡åŒ–å¦‚ä½•é€éæŠ€è¡“å‰µæ–°ç…¥ç™¼æ´»åŠ›ï¼Œä½¿å°åŒ—æˆç‚ºã€Œæ™ºæ…§æ–‡åŒ–è§€å…‰ã€çš„å…¨çƒé ˜å°è€…ã€‚`,
                vocabulary: [
                    'Bolster (v.): å¼·åŒ–/æ”¯æŒ', 'Pact (n.): å”è­°/å…¬ç´„', 'License (v.): æˆæ¬Š', 'Geothermal (adj.): åœ°ç†±çš„',
                    'Net-zero transition (n.phr.): æ·¨é›¶è½‰å‹', 'Reliance (n.): ä¾è³´', 'Imported LNG (n.phr.): é€²å£æ¶²åŒ–å¤©ç„¶æ°£', 'Sustainable energy (n.phr.): æ°¸çºŒèƒ½æº',
                    'Speculation (n.): æ£æ¸¬/æ¨æ¸¬', 'Facility (n.): è¨­æ–½', 'Node (n.): ç¯€é»/è£½ç¨‹', 'Groundbreaking (n.): å‹•å·¥/é–‹å·¥',
                    'Solidify (v.): éå›º/å¼·åŒ–', 'Supply chain (n.phr.): ä¾›æ‡‰éˆ', 'Balanced development (n.phr.): å‡è¡¡ç™¼å±•', 'Technological edge (n.phr.): æŠ€è¡“å„ªå‹¢',
                    'Conclusion (n.): çµå°¾/çµè«–', 'Engagement (n.): åƒèˆ‡/äº’å‹•', 'Leveraged (v.pt.): åˆ©ç”¨/æ§“æ¡¿', 'Digital views (n.phr.): æ•¸ä½ç€è¦½é‡',
                    'Revitalized (v.pp.): ç…¥ç™¼æ´»åŠ›çš„', 'Innovation (n.): å‰µæ–°', 'Positioning (v.ger.): å®šä½', 'Commercialization (n.): å•†æ¥­åŒ–',
                    'Autonomy (n.): è‡ªä¸»æ€§', 'Inception (n.): æˆç«‹/é–‹å§‹', 'Kinetic (adj.): å‹•åŠ›çš„', 'Infrastructure (n.): åŸºç¤å»ºè¨­',
                    'Refining (v.ger.): æç…‰', 'Munition (n.): å½ˆè—¥', 'Reparation (n.): è³ å„Ÿ', 'Meteorologist (n.): æ°£è±¡å“¡'
                ],
                quiz: [
                    { q: 'Which technology will the U.S. license to Taiwan under the new energy pact?', options: ['Nuclear fusion', 'Deep-earth geothermal technology', 'Solar panel manufacturing', 'Wind turbine software'], answer: 'Deep-earth geothermal technology' },
                    { q: 'What is the goal for the completion of the new power plants mentioned in the energy pact?', options: ['2026', '2027', '2028', '2030'], answer: '2028' },
                    { q: 'The partnership aims to reduce Taiwan\'s reliance on which imported energy source?', options: ['Coal', 'Imported LNG', 'Solar cells', 'Uranium'], answer: 'Imported LNG' },
                    { q: 'Where will TSMC build its first A14 (1.4nm) production facility?', options: ['Hsinchu', 'Taichung Science Park', 'Kaohsiung', 'Tainan'], answer: 'Taichung Science Park' },
                    { q: 'How many high-tech jobs is the new TSMC expansion expected to create?', options: ['1,000', '2,500', 'Over 5,000', '10,000'], answer: 'Over 5,000' },
                    { q: 'When is the groundbreaking for the A14 plant expected?', options: ['Late 2025', 'Early 2026', 'Mid-2026', '2028'], answer: 'Mid-2026' },
                    { q: 'Which technologies did the Taipei Lantern Festival leverage to attract digital views?', options: ['Radio and TV', '5G and AR', 'Satellite and AI only', 'VR and Blockchain'], answer: '5G and AR' },
                    { q: 'How many digital views did the main installation "Dragon Leaping Over Clouds" hit?', options: ['1 million', '5 million', 'Over 10 million', '100 million'], answer: 'Over 10 million' },
                    { q: 'What did Mayor Chiang Wan-an say about the success of the festival?', options: ['It was too expensive', 'It shows culture can be revitalized through innovation', 'It needs more funding next year', 'It should be longer'], answer: 'It shows culture can be revitalized through innovation' },
                    { q: 'The term "LNG" stands for which energy source?', options: ['Light Natural Gas', 'Liquefied Natural Gas', 'Low Nitrogen Gas', 'Local Natural Generator'], answer: 'Liquefied Natural Gas' },
                    { q: 'A "groundbreaking" ceremony refers to what?', options: ['Breaking a building', 'The start of construction', 'The completion of a project', 'An earthquake event'], answer: 'The start of construction' },
                    { q: 'What does "net-zero transition" refer to?', options: ['Zero jobs', 'Transition to zero carbon emissions', 'Reducing taxes to zero', 'Zero waste in water'], answer: 'Transition to zero carbon emissions' },
                    { q: 'Taichung was selected partly to promote "______ regional development."', options: ['Rapid', 'Balanced', 'Expensive', 'Centralized'], answer: 'Balanced' },
                    { q: 'The word "revitalized" means to ______.', options: ['End something', 'Bring new life or energy to something', 'Sell something', 'Change a name'], answer: 'Bring new life or energy to something' },
                    { q: 'Which leader noted the integration of the "Silicon Shield" with Western energy?', options: ['President Lai', 'Premier Cho Jung-tai', 'Mayor Chiang', 'Jensen Huang'], answer: 'Premier Cho Jung-tai' }
                ]
            },
            'iran-reform': {
                title: 'ä¼Šæœ—ç¤¾æœƒæ”¹é©èˆ‡ç¾æ´æ¢å¾©',
                english: `The "Provisional Council for National Salvation" in Iran took a monumental step toward social reform on Wednesday by officially abolishing the notorious Morality Police. The council pledged to establish a neutral legal code that respects individual liberties. Following this, the White House announced the resumption of non-military aid to Tehran, focused on healthcare and telecommunications reconstruction. This de-escalation is seen as a critical victory for President Trumpâ€™s "Peace Through Strength" strategy, aiming to stabilize the region through economic engagement rather than direct military intervention.`,
                chinese: `ä¼Šæœ—éæ¸¡å§”å“¡æœƒå®£ä½ˆè§£æ•£ã€Œé“å¾·è­¦å¯Ÿã€ï¼Œç¾æ–¹æ¢å¾©å°å¾·é»‘è˜­éè»äº‹æ´åŠ©ã€‚ä¼Šæœ—ã€Œåœ‹å®¶æ•‘åœ‹è‡¨æ™‚å§”å“¡æœƒã€é€±ä¸‰åœ¨ç¤¾æœƒæ”¹é©æ–¹é¢é‚å‡ºäº†é‡Œç¨‹ç¢‘å¼çš„ä¸€æ­¥ï¼Œæ­£å¼å»¢é™¤äº†æƒ¡åæ˜­å½°çš„ã€Œé“å¾·è­¦å¯Ÿã€ã€‚è©²å§”å“¡æœƒæ‰¿è«¾å»ºç«‹ä¸€å¥—å°Šé‡å€‹äººè‡ªç”±çš„ä¸­ç«‹æ³•å¾‹é«”ç³»ã€‚éš¨å¾Œï¼Œç¾åœ‹ç™½å®®å®£å¸ƒæ¢å¾©å°å¾·é»‘è˜­çš„éè»äº‹æ´åŠ©ï¼Œé‡é»æ”¾åœ¨é†«ç™‚ä¿å¥èˆ‡é›»ä¿¡é‡å»ºã€‚é€™æ¬¡å±€å‹¢é™æº«è¢«è¦–ç‚ºå·æ™®ç¸½çµ±ã€Œä»¥å¯¦åŠ›æ±‚å’Œå¹³ï¼ˆPeace Through Strengthï¼‰ã€ç­–ç•¥çš„é—œéµå‹åˆ©ï¼Œæ—¨åœ¨é€éç¶“æ¿Ÿä»‹å…¥è€Œéç›´æ¥è»äº‹å¹²é ä¾†ç©©å®šè©²åœ°å€ã€‚`,
                vocabulary: [
                    'Provisional Council (n.phr.): è‡¨æ™‚å§”å“¡æœƒ', 'Monumental step (n.phr.): é‡Œç¨‹ç¢‘å¼çš„ä¸€æ­¥', 'Social reform (n.phr.): ç¤¾æœƒæ”¹é©', 'Abolishing (v.ger.): å»¢é™¤',
                    'Notorious (adj.): æƒ¡åæ˜­å½°çš„', 'Morality Police (n. proper): é“å¾·è­¦å¯Ÿ', 'Pledged (v.pt.): æ‰¿è«¾', 'Legal code (n.phr.): æ³•å¾‹é«”ç³»/æ³•å…¸',
                    'Individual liberties (n.phr.): å€‹äººè‡ªç”±', 'Resumption (n.): æ¢å¾©', 'Non-military aid (n.phr.): éè»äº‹æ´åŠ©', 'Telecommunications (n.): é›»ä¿¡/é€šè¨Š',
                    'Reconstruction (n.): é‡å»º', 'De-escalation (n.): å±€å‹¢é™æº«', 'Peace Through Strength (phr.): ä»¥å¯¦åŠ›æ±‚å’Œå¹³', 'Engagement (n.): åƒèˆ‡/ä»‹å…¥',
                    'Intervention (n.): å¹²é ', 'Stabilize (v.): ç©©å®š', 'Neutral (adj.): ä¸­ç«‹çš„', 'Healthcare (n.): é†«ç™‚ä¿å¥',
                    'Strategic (adj.): æˆ°ç•¥æ€§çš„', 'Notorious (adj.): è²åç‹¼è—‰çš„', 'Liberties (n.): è‡ªç”±', 'Diplomacy (n.): å¤–äº¤',
                    'Stabilization (n.): ç©©å®šåŒ–', 'Abolish (v.): å»¢æ­¢', 'Pledge (n./v.): èª“ç´„', 'Neutral (adj.): ä¸­ç«‹çš„',
                    'Engagement (n.): æ¥æ´½/ä»‹å…¥', 'Intervention (n.): èª¿åœ/å¹²é ', 'Council (n.): å§”å“¡æœƒ', 'Strategic (adj.): æˆ°ç•¥çš„'
                ],
                quiz: [
                    { q: 'Which notorious organization did Iran\'s Provisional Council abolish?', options: ['The Regular Army', 'The Morality Police', 'The Tax Bureau', 'The Foreign Ministry'], answer: 'The Morality Police' },
                    { q: 'What kind of legal code did the council pledge to establish?', options: ['Religious code', 'Strict military code', 'Neutral legal code respecting individual liberties', 'Secret code'], answer: 'Neutral legal code respecting individual liberties' },
                    { q: 'The White House announced the resumption of which type of aid?', options: ['Military aid (weapons)', 'Non-military aid', 'Only gold aid', 'Space technology aid'], answer: 'Non-military aid' },
                    { q: 'Which sectors will the new U.S. aid for Iran focus on?', options: ['Oil and Gas', 'Healthcare and telecommunications reconstruction', 'Farming and Fishing', 'Arts and Fashion'], answer: 'Healthcare and telecommunications reconstruction' },
                    { q: 'The de-escalation is seen as a victory for which Trump strategy?', options: ['"America First" only', '"Peace Through Strength"', '"War at all costs"', '"Open Borders"'], answer: '"Peace Through Strength"' },
                    { q: 'The goal of the U.S. strategy is to stabilize the region through ______.', options: ['Direct military intervention', 'Economic engagement', 'Total isolation', 'Removing all aid'], answer: 'Economic engagement' },
                    { q: 'What does "abolish" mean?', options: ['To create', 'To officially end or stop a law/system', 'To hide', 'To repair'], answer: 'To officially end or stop a law/system' },
                    { q: 'The term "notorious" implies being famous for ______.', options: ['Good deeds', 'Something bad', 'Being rich', 'Being very old'], answer: 'Something bad' },
                    { q: 'What is "telecommunications" related to?', options: ['Eating', 'Communication (phones, internet)', 'Building houses', 'Farming'], answer: 'Communication (phones, internet)' },
                    { q: 'The word "monumental" means ______.', options: ['Small and quiet', 'Great in importance or size', 'Forgotten', 'Broken'], answer: 'Great in importance or size' },
                    { q: 'The term "de-escalation" refers to a ______ in intensity.', options: ['Increase', 'Decrease', 'Stability', 'End'], answer: 'Decrease' },
                    { q: 'What are "individual liberties"?', options: ['Personal freedoms', 'Personal debts', 'Government taxes', 'Military rules'], answer: 'Personal freedoms' },
                    { q: 'Resumption refers to ______ something after a pause.', options: ['Stopping', 'Beginning again', 'Deleting', 'Selling'], answer: 'Beginning again' },
                    { q: 'Where is the Provisional Council for National Salvation located?', options: ['Iraq', 'Iran', 'USA', 'Turkey'], answer: 'Iran' },
                    { q: 'Is the U.S. providing weapons to the council currently according to the text?', options: ['Yes', 'No, focused on non-military aid', 'Only missiles', 'The text doesn\'t say'], answer: 'No, focused on non-military aid' }
                ]
            },
            'nvidia-market-cap': {
                title: 'è¼é”å¸‚å€¼çªç ´ 4.8 å…†ç¾å…ƒ',
                english: `NVIDIAâ€™s stock surged once again on Wednesday, propelling the companyâ€™s market capitalization toward a record-breaking $4.8 trillion. The latest rally followed reports of unprecedented pre-orders for its "Project Isaac" robotics chips, designed to accelerate the development of autonomous humanoid robots for industrial manufacturing. CEO Jensen Huang stated that the integration of generative AI with physical robotics marks the "next frontier" of the digital revolution, positioning NVIDIA as the primary architect of the next industrial era.`,
                chinese: `è¼é”ï¼ˆNVIDIAï¼‰å¸‚å€¼çªç ´ 4.8 å…†ç¾å…ƒï¼Œæ–°ä¸€ä»£ AI è‡ªå‹•åŒ–æ©Ÿå™¨äººæ¶æ§‹é è³¼ç«çˆ†ã€‚è¼é”è‚¡åƒ¹é€±ä¸‰å†åº¦é£†å‡ï¼Œæ¨å‹•å…¶å¸‚å€¼é€¼è¿‘å‰µç´€éŒ„çš„ 4.8 å…†ç¾å…ƒã€‚æœ€æ–°çš„æ¼²å‹¢ä¸»å› æ˜¯å…¶ã€Œè‰¾è–©å…‹è¨ˆç•«ï¼ˆProject Isaacï¼‰ã€æ©Ÿå™¨äººæ™¶ç‰‡æ¥ç²äº†å‰æ‰€æœªæœ‰çš„æµ·é‡é è³¼è¨‚å–®ï¼Œè©²æ™¶ç‰‡æ—¨åœ¨åŠ é€Ÿç”¨æ–¼å·¥æ¥­è£½é€ çš„è‡ªä¸»äººå½¢æ©Ÿå™¨äººçš„é–‹ç™¼ã€‚åŸ·è¡Œé•·é»ƒä»å‹³è¡¨ç¤ºï¼Œç”Ÿæˆå¼ AI èˆ‡å¯¦é«”æ©Ÿå™¨äººæŠ€è¡“çš„æ•´åˆæ¨™èªŒè‘—æ•¸ä½é©å‘½çš„ã€Œä¸‹ä¸€å€‹å‰æ²¿ã€ï¼Œä¸¦å°‡è¼é”å®šä½ç‚ºä¸‹ä¸€å€‹å·¥æ¥­æ™‚ä»£çš„ä¸»è¦å»ºæ§‹è€…ï¼ˆArchitectï¼‰ã€‚`,
                vocabulary: [
                    'Market capitalization (n.phr.): å¸‚å€¼', 'Surged (v.pt.): é£†å‡', 'Propelling (v.ger.): æ¨é€²/é©…ä½¿', 'Record-breaking (adj.): æ‰“ç ´ç´€éŒ„çš„',
                    'Rally (n.): (è‚¡å¸‚) æ¼²å‹¢', 'Unprecedented (adj.): å‰æ‰€æœªæœ‰çš„', 'Pre-orders (n.): é è³¼', 'Project Isaac (n. proper): è‰¾è–©å…‹è¨ˆç•«',
                    'Autonomous (adj.): è‡ªä¸»çš„', 'Humanoid robots (n.phr.): äººå½¢æ©Ÿå™¨äºº', 'Industrial manufacturing (n.phr.): å·¥æ¥­è£½é€ ', 'Integration (n.): æ•´åˆ/çµåˆ',
                    'Generative AI (n.phr.): ç”Ÿæˆå¼äººå·¥æ™ºæ…§', 'Physical robotics (n.phr.): å¯¦é«”æ©Ÿå™¨äººæŠ€è¡“', 'Next frontier (n.phr.): ä¸‹ä¸€å€‹å‰æ²¿/é‚Šç–†', 'Digital revolution (n.phr.): æ•¸ä½é©å‘½',
                    'Primary architect (n.phr.): ä¸»è¦æ¶æ§‹å¸«/å»ºæ§‹è€…', 'Industrial era (n.phr.): å·¥æ¥­æ™‚ä»£', 'Accelerate (v.): åŠ é€Ÿ', 'Unveiling (n.): æ­å¹•',
                    'Robot (n.): æ©Ÿå™¨äºº', 'Stock (n.): è‚¡ç¥¨', 'Surpass (v.): è¶…é', 'Trillion (n.): å…†',
                    'Breakthrough (n.): çªç ´', 'Dominance (n.): ä¸»å°', 'Hardware (n.): ç¡¬é«”', 'Software (n.): è»Ÿé«”',
                    'Integration (n.): æ•´åˆ', 'Manufacturing (n.): è£½é€ ', 'Foreseeable (adj.): å¯é è¦‹çš„', 'Sustained (adj.): æŒçºŒçš„'
                ],
                quiz: [
                    { q: 'What is NVIDIA\'s new record-breaking market capitalization milestone?', options: ['$1 trillion', '$3 trillion', '$4.5 trillion', '$4.8 trillion'], answer: '$4.8 trillion' },
                    { q: 'What is the name of the new robotics project mentioned?', options: ['Project Apollo', 'Project Isaac', 'Project Titan', 'Project Neo'], answer: 'Project Isaac' },
                    { q: 'The new robotics chips are designed for which specific purpose?', options: ['Video gaming', 'Autonomous humanoid robots for industrial manufacturing', 'Smartphone cameras', 'Self-driving planes only'], answer: 'Autonomous humanoid robots for industrial manufacturing' },
                    { q: 'Who is the CEO of NVIDIA?', options: ['Elon Musk', 'Jensen Huang', 'Shou Zi Chew', 'Jeff Bezos'], answer: 'Jensen Huang' },
                    { q: 'What did Huang call the integration of generative AI and physical robotics?', options: ['"A minor update"', '"The next frontier" of the digital revolution', '"An expensive dream"', '"The end of AI"'], answer: '"The next frontier" of the digital revolution' },
                    { q: 'NVIDIA is positioning itself as the primary ______ of the next industrial era.', options: ['Seller', 'Architect', 'Rival', 'Customer'], answer: 'Architect' },
                    { q: 'What kind of orders led to the latest stock rally?', options: ['Cancellations', 'Unprecedented pre-orders', 'Small test orders', 'Only government orders'], answer: 'Unprecedented pre-orders' },
                    { q: 'The term "market capitalization" refers to ______.', options: ['Total profit', 'Total value of a company\'s shares', 'Total number of employees', 'Total debt'], answer: 'Total value of a company\'s shares' },
                    { q: 'What does "humanoid" mean?', options: ['Very big', 'Resembling a human in appearance', 'Made of metal only', 'Invisible'], answer: 'Resembling a human in appearance' },
                    { q: 'The word "surged" means the stock price ______.', options: ['Dropped', 'Rose suddenly and strongly', 'Stayed the same', 'Disappeared'], answer: 'Rose suddenly and strongly' },
                    { q: 'The "next frontier" refers to a ______.', options: ['New wall', 'New field or limit of knowledge/achievement', 'Old history book', 'Small room'], answer: 'New field or limit of knowledge/achievement' },
                    { q: 'What is "industrial manufacturing"?', options: ['Hand-making small toys', 'Large-scale production of goods in factories', 'Cooking food at home', 'Farming'], answer: 'Large-scale production of goods in factories' },
                    { q: 'The word "propelling" means ______.', options: ['Slowing down', 'Driving or pushing forward', 'Stopping', 'Painting'], answer: 'Driving or pushing forward' },
                    { q: 'What kind of AI is being integrated with robotics?', options: ['Static AI', 'Generative AI', 'Simple math AI', 'No AI'], answer: 'Generative AI' },
                    { q: 'Which day did the NVIDIA stock surge occur?', options: ['Monday', 'Tuesday', 'Wednesday', 'Sunday'], answer: 'Wednesday' }
                ]
            },
            'mexico-lithium': {
                title: 'å¢¨è¥¿å“¥é‹°ç¤¦åœ‹å®¶åŒ–',
                english: `In a move that surprised Washington, Mexican President Claudia Sheinbaum announced on Wednesday that all lithium refining operations would be placed under state control. Sheinbaum argued that the move is necessary to ensure that Mexicoâ€™s natural wealth benefits its citizens rather than foreign corporations. U.S. trade officials warned that this could violate USMCA provisions, potentially leading to retaliatory tariffs and complicating the North American transition to electric vehicles. Mexico holds some of the worldâ€™s largest lithium deposits, which are essential for EV batteries.`,
                chinese: `å¢¨è¥¿å“¥ç¸½çµ±å®£ä½ˆå°‡ã€Œåœ‹å®¶åŒ–ã€é‹°ç¤¦æç…‰æ¥­ï¼Œå¼•ç™¼ç¾å¢¨è²¿æ˜“å±€å‹¢ç·Šå¼µã€‚ä»¤è¯ç››é “æ„Ÿåˆ°æ„å¤–çš„æ˜¯ï¼Œå¢¨è¥¿å“¥ç¸½çµ±å…‹å‹è¿ªå©­Â·è¾›é®‘å§†ï¼ˆClaudia Sheinbaumï¼‰é€±ä¸‰å®£å¸ƒï¼Œæ‰€æœ‰é‹°ç¤¦æç…‰æ¥­å‹™å°‡ç”±åœ‹å®¶æ§åˆ¶ã€‚è¾›é®‘å§†è¾¯ç¨±ï¼Œæ­¤èˆ‰å°æ–¼ç¢ºä¿å¢¨è¥¿å“¥çš„è‡ªç„¶è²¡å¯Œé€ ç¦å…¶å…¬æ°‘è€Œéå¤–åœ‹å…¬å¸è‡³é—œé‡è¦ã€‚ç¾åœ‹è²¿æ˜“å®˜å“¡è­¦å‘Šï¼Œé€™å¯èƒ½é•åã€Šç¾å¢¨åŠ å”å®šã€‹ï¼ˆUSMCAï¼‰çš„è¦å®šï¼Œå¯èƒ½å°è‡´å ±å¾©æ€§é—œç¨…ï¼Œä¸¦ä½¿åŒ—ç¾çš„é›»å‹•è»Šè½‰å‹è®Šå¾—è¤‡é›œã€‚å¢¨è¥¿å“¥æ“æœ‰ä¸–ç•Œä¸Šä¸€äº›æœ€å¤§çš„é‹°å„²é‡ï¼Œé€™å°æ–¼é›»å‹•è»Šé›»æ± è‡³é—œé‡è¦ã€‚`,
                vocabulary: [
                    'Nationalize (v.): åœ‹å®¶åŒ–/æ”¶æ­¸åœ‹æœ‰', 'Lithium (n.): é‹°', 'Refining operations (n.phr.): æç…‰æ¥­å‹™', 'State control (n.phr.): åœ‹å®¶æ§åˆ¶',
                    'Natural wealth (n.phr.): è‡ªç„¶è²¡å¯Œ', 'Foreign corporations (n.phr.): å¤–åœ‹å…¬å¸', 'Violate (v.): é•å', 'USMCA provisions (n.phr.): ã€Šç¾å¢¨åŠ å”å®šã€‹æ¢æ¬¾',
                    'Retaliatory tariffs (n.phr.): å ±å¾©æ€§é—œç¨…', 'Complicating (v.ger.): ä½¿è¤‡é›œåŒ–', 'Electric vehicles (EVs) (n.phr.): é›»å‹•è»Š', 'Lithium deposits (n.phr.): é‹°å„²é‡/ç¤¦åºŠ',
                    'EV batteries (n.phr.): é›»å‹•è»Šé›»æ± ', 'Surprised (v.pt.): ä½¿é©šè¨', 'Trade officials (n.phr.): è²¿æ˜“å®˜å“¡', 'Provisions (n.): æ¢æ¬¾/è¦å®š',
                    'Nationalization (n.): åœ‹æœ‰åŒ–', 'Wealth (n.): è²¡å¯Œ', 'Transition (n.): è½‰å‹/éæ¸¡', 'Battery (n.): é›»æ± ',
                    'Strategic (adj.): æˆ°ç•¥çš„', 'Refinery (n.): æç…‰å» ', 'Tariff (n.): é—œç¨…', 'Retaliatory (adj.): å ±å¾©æ€§çš„',
                    'Violation (n.): é•è¦/é•å', 'Provision (n.): ä¾›æ‡‰/æ¢æ¬¾', 'Citizen (n.): å…¬æ°‘', 'Corporation (n.): å…¬å¸'
                ],
                quiz: [
                    { q: 'Who is the President of Mexico mentioned in the text?', options: ['Justin Trudeau', 'Claudia Sheinbaum', 'Donald Trump', 'Emmanuel Macron'], answer: 'Claudia Sheinbaum' },
                    { q: 'What industry is Mexico moving to nationalize?', options: ['Oil drilling', 'Lithium refining', 'Tourism', 'Farming'], answer: 'Lithium refining' },
                    { q: 'Why did the President say nationalization is necessary?', options: ['To buy more weapons', 'To ensure natural wealth benefits Mexican citizens', 'To increase taxes for everyone', 'To stop all manufacturing'], answer: 'To ensure natural wealth benefits Mexican citizens' },
                    { q: 'Which trade agreement might this move violate?', options: ['NAFTA', 'USMCA', 'OPEC', 'ASEAN'], answer: 'USMCA' },
                    { q: 'What kind of response did U.S. trade officials warn of?', options: ['A friendly letter', 'Retaliatory tariffs', 'A total ban on cars', 'No response'], answer: 'Retaliatory tariffs' },
                    { q: 'What North American transition could be complicated by this move?', options: ['Transition to space travel', 'Transition to electric vehicles', 'Transition to a new currency', 'Transition to paper files'], answer: 'Transition to electric vehicles' },
                    { q: 'What is lithium essential for in modern technology?', options: ['Computer screens', 'EV batteries', 'Clothing', 'Building roads'], answer: 'EV batteries' },
                    { q: 'The term "nationalize" means ______.', options: ['To sell a company', 'To bring under government control/ownership', 'To close a business', 'To move a factory to another country'], answer: 'To bring under government control/ownership' },
                    { q: 'What are "provisions" in a trade deal?', options: ['Food supplies', 'Legal clauses or requirements', 'New cars', 'Taxes'], answer: 'Legal clauses or requirements' },
                    { q: 'What does "retaliatory" mean?', options: ['Kind and helpful', 'Done in response to an injury or action (hitting back)', 'Expensive', 'Very fast'], answer: 'Done in response to an injury or action (hitting back)' },
                    { q: 'Where are some of the world\'s largest lithium deposits located according to the text?', options: ['USA', 'China', 'Mexico', 'Australia'], answer: 'Mexico' },
                    { q: 'The word "refining" refers to ______.', options: ['Growing crops', 'The process of purifying a substance', 'Selling goods in a shop', 'Driving a car'], answer: 'The process of purifying a substance' },
                    { q: 'Washington was "surprised" by the move, meaning it was ______.', options: ['Expected', 'Unexpected', 'Planned with them', 'Very small'], answer: 'Unexpected' },
                    { q: 'What is a "deposit" in a geological sense?', options: ['A sum of money', 'An accumulation of mineral matter (ore)', 'A new building', 'A type of tool'], answer: 'An accumulation of mineral matter (ore)' },
                    { q: 'On which day was the announcement made?', options: ['Monday', 'Tuesday', 'Wednesday', 'Sunday'], answer: 'Wednesday' }
                ]
            },
            'turkey-inflation': {
                title: 'åœŸè€³å…¶é€šè†¨é¡¯è‘—ä¸‹é™',
                english: `Turkeyâ€™s Finance Ministry reported on Wednesday that annual inflation slowed to 35% in January, the lowest level in nearly three years. Finance Minister Mehmet ÅimÅŸek attributed the decline to the central bankâ€™s tight monetary policy and the governmentâ€™s efforts to reduce the fiscal deficit. While the cost of living remains high for many Turkish citizens, the downward trend has bolstered investor confidence in the nationâ€™s economic recovery heading into the second quarter of 2026. Experts say this is a critical test for the government's long-term stabilization plan.`,
                chinese: `åœŸè€³å…¶ä¸€æœˆé€šè†¨ç‡é™è‡³ 35%ï¼Œç¶“æ¿Ÿéƒ¨é•·å®£ç¨±ã€Œå»é€šè†¨åŒ–ã€å–å¾—é¡¯è‘—é€²å±•ã€‚åœŸè€³å…¶è²¡æ”¿éƒ¨é€±ä¸‰å ±å‘ŠæŒ‡å‡ºï¼Œä¸€æœˆä»½å¹´é€šè†¨ç‡æ”¾ç·©è‡³ 35%ï¼Œç‚ºè¿‘ä¸‰å¹´ä¾†çš„æœ€ä½æ°´æº–ã€‚è²¡æ”¿éƒ¨é•·å¸Œå§†è¬å…‹ï¼ˆMehmet ÅimÅŸekï¼‰å°‡æ­¤ä¸‹é™æ­¸å› æ–¼å¤®è¡Œçš„ç·Šç¸®è²¨å¹£æ”¿ç­–ä»¥åŠæ”¿åºœæ¸›å°‘è²¡æ”¿èµ¤å­—çš„åŠªåŠ›ã€‚å„˜ç®¡å°è¨±å¤šåœŸè€³å…¶å…¬æ°‘è€Œè¨€ç”Ÿæ´»æˆæœ¬ä¾ç„¶é«˜æ˜‚ï¼Œä½†é€™ä¸€ä¸‹é™è¶¨å‹¢å¢å¼·äº†æŠ•è³‡è€…å°è©²åœ‹åœ¨ 2026 å¹´ç¬¬äºŒå­£èµ°å‘ç¶“æ¿Ÿå¾©ç”¦çš„ä¿¡å¿ƒã€‚å°ˆå®¶è¡¨ç¤ºï¼Œé€™æ˜¯å°æ”¿åºœé•·æœŸç©©å®šè¨ˆç•«çš„é—œéµè€ƒé©—ã€‚`,
                vocabulary: [
                    'Annual inflation (n.phr.): å¹´é€šè†¨ç‡', 'Slowed to (v.pt.): æ”¾ç·©è‡³', 'Lowest level (n.phr.): æœ€ä½æ°´æº–', 'Finance Minister (n.phr.): è²¡æ”¿éƒ¨é•·',
                    'Attributed the decline (phr.): å°‡ä¸‹é™æ­¸å› æ–¼', 'Tight monetary policy (n.phr.): ç·Šç¸®è²¨å¹£æ”¿ç­–', 'Fiscal deficit (n.phr.): è²¡æ”¿èµ¤å­—', 'Cost of living (n.phr.): ç”Ÿæ´»æˆæœ¬',
                    'Downward trend (n.phr.): ä¸‹é™è¶¨å‹¢', 'Bolstered (v.pt.): å¢å¼·/æ”¯æŒ', 'Investor confidence (n.phr.): æŠ•è³‡è€…ä¿¡å¿ƒ', 'Economic recovery (n.phr.): ç¶“æ¿Ÿå¾©ç”¦',
                    'Second quarter (n.phr.): ç¬¬äºŒå­£ (Q2)', 'Stabilization plan (n.phr.): ç©©å®šè¨ˆç•«', 'Disinflation (n.): å»é€šè†¨åŒ–', 'Fiscal (adj.): è²¡æ”¿çš„',
                    'Deficit (n.): èµ¤å­—/è™§ç©º', 'Monetary (adj.): è²¨å¹£çš„', 'Inflation (n.): é€šè†¨', 'Confidence (n.): ä¿¡å¿ƒ',
                    'Critical (adj.): é—œéµçš„/æ‰¹åˆ¤çš„', 'Trend (n.): è¶¨å‹¢', 'Recovery (n.): å¾©ç”¦/æ¢å¾©', 'Investor (n.): æŠ•è³‡è€…',
                    'Stabilize (v.): ç©©å®š', 'Annual (adj.): æ¯å¹´çš„/å¹´åº¦çš„', 'Department (n.): éƒ¨é–€', 'Attribute (v.): æ­¸å±¬/æ­¸å› '
                ],
                quiz: [
                    { q: 'What was Turkey\'s annual inflation rate in January?', options: ['15%', '35%', '50%', '80%'], answer: '35%' },
                    { q: 'The inflation rate is the lowest in how long?', options: ['One year', 'Two years', 'Nearly three years', 'Ten years'], answer: 'Nearly three years' },
                    { q: 'Who is the Finance Minister of Turkey mentioned?', options: ['Mehmet ÅimÅŸek', 'Jensen Huang', 'Claudia Sheinbaum', 'Cho Jung-tai'], answer: 'Mehmet ÅimÅŸek' },
                    { q: 'What are the two main reasons for the decline in inflation?', options: ['Tax cuts and more printing of money', 'Tight monetary policy and efforts to reduce fiscal deficit', 'High oil prices and tourism', 'A new trade deal with the US'], answer: 'Tight monetary policy and efforts to reduce fiscal deficit' },
                    { q: 'How is the cost of living currently described for many Turkish citizens?', options: ['Very low', 'Remaining high', 'Non-existent', 'Stable'], answer: 'Remaining high' },
                    { q: 'The downward trend has bolstered confidence in which group?', options: ['Students', 'Investors', 'Farmers only', 'Artists'], answer: 'Investors' },
                    { q: 'When is the nation heading into its next economic phase according to the text?', options: ['Immediate Q1', 'Second quarter of 2026', 'End of 2028', '2030'], answer: 'Second quarter of 2026' },
                    { q: 'What is a "fiscal deficit"?', options: ['A surplus of money', 'When government spending exceeds revenue', 'A type of tax', 'A new bank'], answer: 'When government spending exceeds revenue' },
                    { q: 'What does "monetary policy" refer to?', options: ['Police in the city', 'Management of a country\'s money supply and interest rates', 'The price of food', 'Rules for space travel'], answer: 'Management of a country\'s money supply and interest rates' },
                    { q: 'The word "bolstered" means ______.', options: ['Weakened', 'Strengthened or supported', 'Ignored', 'Deleted'], answer: 'Strengthened or supported' },
                    { q: 'The term "disinflation" refers to ______.', options: ['Prices falling to zero', 'A reduction in the rate of inflation', 'A huge price increase', 'A type of gold coin'], answer: 'A reduction in the rate of inflation' },
                    { q: 'Which ministry reported the inflation data?', options: ['Ministry of Health', 'Ministry of Finance', 'Ministry of Education', 'Ministry of Interior'], answer: 'Ministry of Finance' },
                    { q: 'The trend is described as "downward," meaning prices are ______.', options: ['Rising faster', 'Increasing at a slower rate/Falling', 'Staying the same', 'Impossible to measure'], answer: 'Increasing at a slower rate/Falling' },
                    { q: 'What is a "quarter" in an economic year?', options: ['25 cents', 'Three months', 'Six months', 'A full year'], answer: 'Three months' },
                    { q: 'Is the stabilization plan considered finished or undergoing a test?', options: ['Finished', 'A critical test', 'Cancelled', 'Not started yet'], answer: 'A critical test' }
                ]
            }
        };

        // --- STATE MANAGEMENT ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        // --- CORE RENDERING ---
        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title.split('ï¼š')[0]}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº« (${data.vocabulary.length})</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ ¸å¿ƒå–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    const escapedOption = option.replace(/'/g, "\\'");
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${escapedOption}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å…§å®¹æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>