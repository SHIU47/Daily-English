<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è‹±æ–‡æ–°èæ·±åº¦å­¸ç¿’ï¼š2026 å¹´ 1 æœˆ 8 æ—¥</title>
    <!-- Tailwind CSS for modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #eef2f9; 
            min-height: 100vh;
            transition: background-color 0.3s;
        }
        .container-card {
            background-color: #ffffff;
            border-radius: 1.5rem; 
            box-shadow: 0 0 40px rgba(45, 55, 72, 0.15); 
        }
        .main-tabs-container {
            background-color: #f8fafc; 
            border-radius: 1.5rem 1.5rem 0 0;
            padding: 1rem 1.5rem 0 1.5rem;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        .main-tab-button {
            padding: 0.75rem 1.25rem;
            margin-bottom: -1px; 
            border-bottom: 3px solid transparent;
            font-weight: 600;
            color: #4a5568; 
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            display: inline-block;
        }
        .main-tab-button.active {
            color: #2b6cb0; 
            border-bottom-color: #3182ce; 
            background-color: #ffffff;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        .sub-tab-button {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: #4a5568;
            background-color: #edf2f7;
            transition: all 0.2s;
            cursor: pointer;
        }
        .sub-tab-button.active {
            color: #ffffff;
            background-color: #4c51bf; 
            box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
        }
        .quiz-option {
            transition: all 0.2s;
            cursor: pointer;
        }
        .quiz-option:hover { background-color: #e2e8f0; }
        .quiz-option.selected { border-color: #4c51bf; background-color: #e0e7ff; }
        .quiz-option.correct { background-color: #c6f6d5; border-color: #38a169; font-weight: 700; }
        .quiz-option.incorrect { background-color: #fed7d7; border-color: #e53e3e; font-weight: 700; }

        .prose p {
            white-space: pre-wrap;
            line-height: 1.8;
            margin-bottom: 1em;
        }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight">æ¯æ—¥è‹±èªæ–°èæ·±åº¦å­¸ç¿’</h1>
            <p class="mt-2 text-xl text-indigo-600 font-semibold">2026 å¹´ 1 æœˆ 8 æ—¥ï¼šå°ç£æœæ•‘ã€ç¶²æ”»èˆ‡å…¨çƒè®Šå±€</p>
        </header>

        <div class="container-card">
            <!-- Main Tabs for News Topics -->
            <div id="main-tabs" class="main-tabs-container flex border-b border-gray-200"></div>

            <!-- Content Area -->
            <div id="content-area" class="p-6 sm:p-10">
                <div class="text-center p-12 text-gray-500">
                    <p class="text-2xl font-bold mb-4">å…§å®¹è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </div>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Designed for an immersive English news learning experience. Powered by Gemini.</p>
        </footer>
    </div>

    <script>
        // --- DATA STRUCTURE ---
        const NEWS_DATA = {
            'taiwan-combined': {
                title: 'å°ç£æœ¬åœ°ç„¦é»æ–°è',
                english: `[1] Search for Missing F-16V Pilot Intensifies; Air Force Cites "Spatial Disorientation"\nThe search and rescue operation for Captain Hsin Po-yi has entered its second full day, with military and Coast Guard units scouring the waters off the Hualien coast. At a press conference on Wednesday, the Air Force revealed that preliminary radar and audio data suggest the pilot experienced "spatial disorientation" following a modular mission computer (MMC) failure. This mechanical malfunction reportedly left the pilot unable to accurately judge the aircraftâ€™s attitude and altitude against the horizon.\n\n[2] National Security Bureau Reports 4 Million Cyberattacks During PLA Drills\nTaiwanâ€™s National Security Bureau (NSB) disclosed that Chinese hacking groups launched an unprecedented wave of over four million cyberattacks during the recent â€œJustice Mission 2025â€ military exercises. These digital offensives were synchronized with the deployment of warships and aircraft, aiming to undermine public morale and disrupt critical infrastructure.\n\n[3] New Law Passed to Protect Delivery Workers' Rights, Setting Minimum Fee\nThe Legislative Yuan passed the â€œDelivery Workers' Rights Protection and Management Act.â€ The law mandates that the basic reward per delivery order must not fall below NT$45, or approximately 1.25 times the national minimum hourly wage. Platform operators warned of potential price hikes for consumers.`,
                chinese: `ã€1ã€‘é£›å®˜è¾›æŸæ¯…å¤±è¯æœæ•‘æŒçºŒï¼Œç©ºè»åˆæ­¥åˆ†æå¤±äº‹ä¸»å› ç‚ºã€Œç©ºé–“è¿·å‘ã€\nå°è¾›æŸæ¯…ä¸Šå°‰çš„æœæ•‘è¡Œå‹•å·²é€²å…¥ç¬¬äºŒå¤©ï¼Œè»æ–¹èˆ‡æµ·å·¡å–®ä½æ­£åœ¨èŠ±è“®æµ·åŸŸé€²è¡ŒæœæŸ¥ã€‚ç©ºè»åœ¨é€±ä¸‰çš„è¨˜è€…æœƒä¸Šé€éœ²ï¼Œåˆæ­¥çš„é›·é”èˆ‡éŸ³è¨Šæ•¸æ“šé¡¯ç¤ºï¼Œé£›è¡Œå“¡åœ¨æ¨¡çµ„åŒ–ä»»å‹™é›»è…¦ï¼ˆMMCï¼‰æ•…éšœå¾Œç¶“æ­·äº†ã€Œç©ºé–“è¿·å‘ã€ã€‚æ“šå ±å°ï¼Œé€™èµ·æ©Ÿæ¢°æ•…éšœä½¿é£›è¡Œå“¡ç„¡æ³•æº–ç¢ºåˆ¤æ–·é£›æ©Ÿç›¸å°æ–¼åœ°å¹³ç·šçš„å§¿æ…‹èˆ‡é«˜åº¦ã€‚è³´ç¸½çµ±å¼·èª¿æœå°‹å°‡ç„¡æœŸé™æŒçºŒã€‚\n\nã€2ã€‘åœ‹å®‰å±€ï¼šä¸­å…±åœ¨è»æ¼”æœŸé–“ç™¼å‹•é€¾ 400 è¬æ¬¡ç¶²è·¯æ”»æ“Š\nå°ç£åœ‹å®¶å®‰å…¨å±€ï¼ˆåœ‹å®‰å±€ï¼‰æ­éœ²ï¼Œä¸­åœ‹é§­å®¢çµ„ç¹”åœ¨è¿‘æœŸã€Œæ­£ç¾©ä½¿å‘½ 2025ã€è»æ¼”æœŸé–“ç™¼å‹•äº†å‰æ‰€æœªæœ‰çš„ 400 å¤šè¬æ¬¡ç¶²è·¯æ”»æ“Šã€‚é€™äº›æ•¸ä½æ”»å‹¢èˆ‡è»è‰¦ã€æˆ°æ©Ÿçš„éƒ¨ç½²åŒæ­¥ï¼Œæ—¨åœ¨ç“¦è§£æ°‘å¿ƒå£«æ°£ä¸¦å¹²æ“¾èƒ½æºåŠé†«ç™‚ç­‰é—œéµåŸºç¤è¨­æ–½ã€‚\n\nã€3ã€‘å¤–é€å“¡å°ˆæ³•ä¸‰è®€é€šéï¼Œæ˜å®šæ¯ç­†è¨‚å–®åŸºæœ¬å ±é…¬ä¸å¾—ä½æ–¼ 45 å…ƒ\nç«‹æ³•é™¢é€šéäº†ã€Šå¤–é€å¹³å°å¾æ¥­è€…æ¬Šç›Šä¿éšœæ³•ã€‹ï¼Œé€™æ¨™èªŒè‘—å°ç£é›¶å·¥ç¶“æ¿Ÿå¾æ¥­è€…çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚æ³•å¾‹è¦å®šæ¯ç­†å¤–é€è¨‚å–®çš„åŸºæœ¬å ±é…¬ä¸å¾—ä½æ–¼ 45 å…ƒï¼Œç´„ç‚ºå…¨åœ‹æœ€ä½æ™‚è–ªçš„ 1.25 å€ã€‚æ³•æ¡ˆé è¨ˆåœ¨å…­å€‹æœˆå…§å¯¦æ–½ï¼Œå¹³å°æ¥­è€…å‰‡è­¦å‘Šæ¶ˆè²»è€…ç«¯å¯èƒ½æœƒé¢è‡¨åƒ¹æ ¼èª¿æ¼²ã€‚`,
                vocabulary: [
                    'intensifies (v.): åŠ å¼·/å¼·åŒ–', 'spatial disorientation (n.phr.): ç©ºé–“è¿·å‘', 'scouring (v.ger.): æœå°‹/æœæŸ¥', 'revealed (v.): æ­éœ²',
                    'preliminary (adj.): åˆæ­¥çš„', 'modular mission computer (MMC) (n.phr.): æ¨¡çµ„åŒ–ä»»å‹™é›»è…¦', 'mechanical malfunction (n.phr.): æ©Ÿæ¢°æ•…éšœ', 'accurately (adv.): æº–ç¢ºåœ°',
                    'attitude (n.): (é£›æ©Ÿ) å§¿æ…‹', 'altitude (n.): é«˜åº¦', 'horizon (n.): åœ°å¹³ç·š', 'emergency locator beacon (n.phr.): ç·Šæ€¥å®šä½ç™¼å ±å™¨',
                    'disclosed (v.): é€éœ²/æ­éœ²', 'unprecedented (adj.): å‰æ‰€æœªæœ‰çš„', 'cyberattacks (n.): ç¶²è·¯æ”»æ“Š', 'offensives (n.): æ”»å‹¢',
                    'synchronized (v.pp.): åŒæ­¥çš„', 'undermine (v.): ç“¦è§£/å‰Šå¼±', 'public morale (n.phr.): æ°‘å¿ƒå£«æ°£', 'critical infrastructure (n.phr.): é—œéµåŸºç¤è¨­æ–½',
                    'disinformation (n.): è™›å‡è¨Šæ¯/å‡æ–°è', 'milestone (n.): é‡Œç¨‹ç¢‘', 'gig economy (n.phr.): é›¶å·¥ç¶“æ¿Ÿ', 'mandates (v.): è¦å®š/è¦æ±‚',
                    'basic reward (n.phr.): åŸºæœ¬å ±é…¬', 'minimum hourly wage (n.phr.): æœ€ä½æ™‚è–ª', 'comprehensive (adj.): å…¨é¢çš„', 'transparent (adj.): é€æ˜çš„',
                    'price hikes (n.phr.): åƒ¹æ ¼èª¿æ¼²', 'indefinitely (adv.): ç„¡æœŸé™åœ°', 'off-shore (adj.): è¿‘æµ·çš„', 'readiness (n.): æˆ’å‚™ç‹€æ…‹'
                ],
                quiz: [
                    { q: 'What did the Air Force cite as the primary cause of the pilot\'s missing status?', options: ['Engine fire', 'Spatial disorientation', 'Running out of fuel', 'A cyberattack'], answer: 'Spatial disorientation' },
                    { q: 'What device failure reportedly triggered the disorientation?', options: ['The radio', 'Modular mission computer (MMC)', 'The landing gear', 'The oxygen mask'], answer: 'Modular mission computer (MMC)' },
                    { q: 'Who is the missing captain mentioned in the report?', options: ['Captain Hsin Po-yi', 'Captain Lai Ching-te', 'Captain Chang Wen', 'Captain Jensen Huang'], answer: 'Captain Hsin Po-yi' },
                    { q: 'How many cyberattacks did the NSB report during the PLA drills?', options: ['4,000', '40,000', '400,000', 'Over 4 million'], answer: 'Over 4 million' },
                    { q: 'What was the name of the military exercises mentioned by the NSB?', options: ['Peace Mission 2026', 'Justice Mission 2025', 'Taiwan Shield', 'Strait Guardian'], answer: 'Justice Mission 2025' },
                    { q: 'The cyberattacks targeted which critical infrastructure sectors specifically?', options: ['Gaming and Social Media', 'Education and Finance', 'Energy and healthcare', 'Agriculture and Tourism'], answer: 'Energy and healthcare' },
                    { q: 'What is the minimum fee per delivery order set by the new law?', options: ['NT$30', 'NT$45', 'NT$60', 'NT$100'], answer: 'NT$45' },
                    { q: 'The new minimum fee is approximately how many times the minimum hourly wage?', options: ['1.0 times', '1.25 times', '1.5 times', '2.0 times'], answer: '1.25 times' },
                    { q: 'When is the delivery workers\' law set to be implemented?', options: ['Immediately', 'In three months', 'In six months', 'Next year'], answer: 'In six months' },
                    { q: 'What did platform operators warn about regarding the new law?', options: ['Faster delivery', 'More workers', 'Potential price hikes for consumers', 'New app features'], answer: 'Potential price hikes for consumers' },
                    { q: 'The term "scouring" the waters means what?', options: ['Polluting the water', 'Searching thoroughly', 'Swimming', 'Fishing'], answer: 'Searching thoroughly' },
                    { q: 'What is "disinformation" defined as in the context?', options: ['True facts', 'False info intended to mislead', 'Scientific data', 'Government rules'], answer: 'False info intended to mislead' },
                    { q: 'The missing pilot signal is hard to find due to the absence of what?', options: ['The plane', 'The engine', 'An emergency locator beacon signal', 'The radio antenna'], answer: 'An emergency locator beacon signal' },
                    { q: 'What was synchronized with the cyberattacks?', options: ['New Year\'s Eve', 'The deployment of warships and aircraft', 'A trade agreement', 'A space launch'], answer: 'The deployment of warships and aircraft' },
                    { q: 'The "gig economy" refers to what kind of work?', options: ['Factory work', 'Freelance or short-term contract work', 'Permanent government jobs', 'Military service'], answer: 'Freelance or short-term contract work' }
                ]
            },
            'trump-withdrawal': {
                title: 'å·æ™®é€€å‡º 66 åœ‹éš›çµ„ç¹”',
                english: `President Donald Trump signed a sweeping executive memorandum directing U.S. agencies to terminate participation in 66 international organizations, including 31 UN entities and agreements such as the World Health Organization (WHO) and the Paris Climate Agreement. The administration labeled these institutions as "contrary to U.S. national interests", marking a dramatic America First realignment. Analysts warn that the withdrawal may trigger the collapse of humanitarian and environmental initiatives, potentially allowing China to expand influence within global institutions vacated by Washington.`,
                chinese: `å·æ™®ç°½ç½²å‚™å¿˜éŒ„æŒ‡ç¤ºç¾åœ‹é€€å‡º 66 å€‹åœ‹éš›çµ„ç¹”ã€‚ç¾åœ‹ç¸½çµ±å·æ™®ç°½ç½²äº†ä¸€ä»½å»£æ³›çš„è¡Œæ”¿å‚™å¿˜éŒ„ï¼ŒæŒ‡ç¤ºç¾åœ‹æ©Ÿæ§‹åœæ­¢åƒèˆ‡ 66 å€‹åœ‹éš›çµ„ç¹”ï¼Œå…¶ä¸­åŒ…æ‹¬ 31 å€‹è¯åˆåœ‹å¯¦é«”ï¼Œä»¥åŠä¸–ç•Œè¡›ç”Ÿçµ„ç¹” (WHO) å’Œå·´é»æ°£å€™å”å®šç­‰å”è­°ã€‚å·æ™®æ”¿åºœå°‡é€™äº›æ©Ÿæ§‹æ¨™ç±¤ç‚ºã€Œé•åç¾åœ‹åœ‹å®¶åˆ©ç›Šã€ï¼Œæ¨™èªŒè‘—ã€Œç¾åœ‹å„ªå…ˆã€æ”¿ç­–çš„åŠ‡çƒˆé‡çµ„ã€‚åˆ†æäººå£«è­¦å‘Šï¼Œæ­¤èˆ‰å¯èƒ½å¼•ç™¼äººé“ä¸»ç¾©å’Œç’°å¢ƒå€¡è­°çš„å´©æ½°ï¼Œä¸¦å¯èƒ½è®“ä¸­åœ‹åœ¨ç¾åœ‹é¨°å‡ºçš„å…¨çƒæ©Ÿæ§‹ä¸­æ“´å¤§å½±éŸ¿åŠ›ã€‚`,
                vocabulary: [
                    'sweeping (adj.): å»£æ³›çš„/å¾¹åº•çš„', 'executive memorandum (n.phr.): è¡Œæ”¿å‚™å¿˜éŒ„', 'directing (v.ger.): æŒ‡ç¤º', 'terminate (v.): çµ‚æ­¢/åœæ­¢',
                    'participation (n.): åƒèˆ‡', 'entities (n.): å¯¦é«”/æ©Ÿæ§‹', 'World Health Organization (n. proper): ä¸–ç•Œè¡›ç”Ÿçµ„ç¹”', 'Paris Climate Agreement (n. proper): å·´é»æ°£å€™å”å®š',
                    'contrary to (phr.): é•å/èˆ‡...ç›¸å', 'national interests (n.phr.): åœ‹å®¶åˆ©ç›Š', 'realignment (n.): é‡çµ„/èª¿æ•´', 'America First (n. proper): ç¾åœ‹å„ªå…ˆ',
                    'trigger (v.): å¼•ç™¼', 'collapse (n.): å´©æ½°/ç“¦è§£', 'humanitarian (adj.): äººé“ä¸»ç¾©çš„', 'initiatives (n.): å€¡è­°/è¨ˆç•«',
                    'potentially (adv.): æ½›åœ¨åœ°', 'vacated (v.pp.): é¨°å‡ºçš„/ç©ºå‡ºçš„', 'terminate (v.): çµ‚æ­¢', 'administration (n.): æ”¿åºœ/è¡Œæ”¿æ©Ÿé—œ',
                    'influence (n.): å½±éŸ¿åŠ›', 'global institutions (n.phr.): å…¨çƒæ©Ÿæ§‹', 'dramatic (adj.): åŠ‡çƒˆçš„', 'withdraw (v.): é€€å‡º',
                    'warning (n.): è­¦å‘Š', 'agencies (n.): æ©Ÿæ§‹', 'realignment (n.): é‡æ–°çµç›Ÿ', 'environmental (adj.): ç’°å¢ƒçš„',
                    'realignment (n.): é‡æ–°æ’éšŠ/é‡çµ„', 'labeled (v.): è²¼ä¸Šæ¨™ç±¤/ç¨±ç‚º', 'expand (v.): æ“´å¼µ', 'influence (n.): å½±éŸ¿'
                ],
                quiz: [
                    { q: 'How many international organizations is Trump withdrawing from?', options: ['31', '45', '66', '100'], answer: '66' },
                    { q: 'How many of the organizations are UN entities?', options: ['15', '31', '66', 'None'], answer: '31' },
                    { q: 'Which famous climate agreement is the US leaving?', options: ['Kyoto Protocol', 'Paris Climate Agreement', 'Montreal Protocol', 'Green Deal'], answer: 'Paris Climate Agreement' },
                    { q: 'How did the administration label these institutions?', options: ['"Essential to peace"', '"Contrary to U.S. national interests"', '"Too expensive"', '"Outdated"'], answer: '"Contrary to U.S. national interests"' },
                    { q: 'What policy theme does this move represent?', options: ['Global Cooperation', 'America First', 'Save the Planet', 'Open Borders'], answer: 'America First' },
                    { q: 'What is one feared consequence for global initiatives?', options: ['Expansion', 'Tax reduction', 'Trigger the collapse of humanitarian/environmental initiatives', 'World peace'], answer: 'Trigger the collapse of humanitarian/environmental initiatives' },
                    { q: 'Which country is expected to potentially fill the influence gap?', options: ['Russia', 'Japan', 'China', 'Germany'], answer: 'China' },
                    { q: 'What did Trump sign to authorize this move?', options: ['A personal letter', 'A sweeping executive memorandum', 'A law in Congress', 'A social media post'], answer: 'A sweeping executive memorandum' },
                    { q: 'The term "terminate" means what?', options: ['To start', 'To finish or end something', 'To change', 'To delay'], answer: 'To finish or end something' },
                    { q: 'Which health organization is explicitly mentioned as being left?', options: ['Red Cross', 'WHO', 'UNICEF', 'CDC'], answer: 'WHO' },
                    { q: 'The term "vacated" means the US has ______ the institutions.', options: ['Left them empty or left the position', 'Destroyed them', 'Moved them to New York', 'Renovated them'], answer: 'Left them empty or left the position' },
                    { q: 'The move marks a dramatic ______ in US policy.', options: ['Success', 'Realignment', 'Failure', 'Mistake'], answer: 'Realignment' },
                    { q: 'What kind of institutions are these defined as?', options: ['Local', 'Private', 'International/Global', 'State'], answer: 'International/Global' },
                    { q: 'Trump directed which groups to terminate participation?', options: ['Individual citizens', 'U.S. agencies', 'Private banks', 'European allies'], answer: 'U.S. agencies' },
                    { q: 'What does "sweeping" describe in the text?', options: ['Cleaning the floor', 'Wide-ranging and extensive', 'Secret', 'Very small'], answer: 'Wide-ranging and extensive' }
                ]
            },
            'venezuela-oil': {
                title: 'å§”å…§ç‘æ‹‰çŸ³æ²¹å¤§è¨ˆ',
                english: `Trump announced that Venezuela would transfer 30â€“50 million barrels of crude oil to the U.S. following the recent military operation. The oil, currently stranded on tankers, will reportedly be sold at market prices, with proceeds managed by Washington. While framed as a boost to regional energy security, legal experts questioned the legality and transparency of such a transfer under international law, as Venezuelaâ€™s interim government struggles to maintain order.`,
                chinese: `å§”å…§ç‘æ‹‰çŸ³æ²¹å¤§è¨ˆï¼šå·æ™®å®£ç¨±ç²å–äº”åƒè¬æ¡¶çŸ³æ²¹ã€‚å·æ™®å®£å¸ƒï¼Œåœ¨è¿‘æœŸè»äº‹è¡Œå‹•å¾Œï¼Œå§”å…§ç‘æ‹‰å°‡å‘ç¾åœ‹è½‰ç§» 3,000 è¬è‡³ 5,000 è¬æ¡¶åŸæ²¹ã€‚æ“šå ±å°ï¼Œé€™æ‰¹ç›®å‰å—å›°æ–¼æ²¹è¼ªä¸Šçš„çŸ³æ²¹å°‡ä»¥å¸‚å ´åƒ¹æ ¼å‡ºå”®ï¼Œæ”¶ç›Šç”±è¯ç››é “ç®¡ç†ã€‚é›–ç„¶é€™è¢«å¡‘é€ ç‚ºå°å€åŸŸèƒ½æºå®‰å…¨çš„æå‡ï¼Œä½†ç”±æ–¼å§”å…§ç‘æ‹‰è‡¨æ™‚æ”¿åºœä»åŠªåŠ›ç¶­æŒç§©åºï¼Œæ³•å¾‹å°ˆå®¶è³ªç–‘æ­¤èˆ‰åœ¨åœ‹éš›æ³•ä¸‹çš„åˆæ³•æ€§èˆ‡é€æ˜åº¦ã€‚`,
                vocabulary: [
                    'barrels (n.): æ¡¶', 'crude oil (n.phr.): åŸæ²¹', 'transfer (v.): è½‰ç§»/è½‰è®“', 'stranded (adj.): å—å›°çš„/æ“±æ·ºçš„',
                    'tankers (n.): æ²¹è¼ª', 'reportedly (adv.): æ“šå ±å°', 'market prices (n.phr.): å¸‚å ´åƒ¹æ ¼', 'proceeds (n.): æ”¶ç›Š/æ”¶å…¥',
                    'managed by (phr.): ç”±...ç®¡ç†', 'boost (n.): æå‡/æ¨å‹•', 'regional (adj.): å€åŸŸçš„', 'energy security (n.phr.): èƒ½æºå®‰å…¨',
                    'legal experts (n.phr.): æ³•å¾‹å°ˆå®¶', 'legality (n.): åˆæ³•æ€§', 'transparency (n.): é€æ˜åº¦', 'international law (n.phr.): åœ‹éš›æ³•',
                    'interim government (n.phr.): è‡¨æ™‚æ”¿åºœ', 'struggles (v.): æ™æ‰/åŠªåŠ›', 'maintain order (phr.): ç¶­æŒç§©åº', 'crude (adj.): åŸç”Ÿçš„/å¤©ç„¶çš„',
                    'transfer (n.): ç§»äº¤', 'questioned (v.): è³ªç–‘', 'framed (v.pp.): å¡‘é€ /æ¡†æ¶', 'operation (n.): è¡Œå‹•',
                    'military (adj.): è»äº‹çš„', 'announce (v.): å®£å¸ƒ', 'proceeds (n.): å¯¦æ”¶æ¬¾é …', 'tanker (n.): å¤§å‹æ²¹è¼ª',
                    'security (n.): å®‰å…¨', 'regional (adj.): åœ°å€æ€§çš„', 'legal (adj.): æ³•å¾‹çš„', 'order (n.): ç§©åº'
                ],
                quiz: [
                    { q: 'How many barrels of oil did Trump claim the US would receive from Venezuela?', options: ['10 million', '30â€“50 million', '100 million', '500 million'], answer: '30â€“50 million' },
                    { q: 'What kind of oil is being transferred?', options: ['Refined gasoline', 'Cooking oil', 'Crude oil', 'Solar oil'], answer: 'Crude oil' },
                    { q: 'What is the current state of the oil mentioned?', options: ['In underground pipes', 'Stranded on tankers', 'In US gas stations', 'On the moon'], answer: 'Stranded on tankers' },
                    { q: 'At what price will the oil reportedly be sold?', options: ['Half price', 'Market prices', 'Fixed low price', 'It is free'], answer: 'Market prices' },
                    { q: 'Who will manage the proceeds (money) from the oil sales?', options: ['The UN', 'Venezuela\'s interim government', 'Washington (US)', 'A private bank'], answer: 'Washington (US)' },
                    { q: 'How is the move being "framed" or presented?', options: ['As a theft', 'As a boost to regional energy security', 'As a new tax', 'As a charity event'], answer: 'As a boost to regional energy security' },
                    { q: 'What are legal experts questioning about this transfer?', options: ['The color of the oil', 'The legality and transparency under international law', 'The weight of the barrels', 'The speed of the ships'], answer: 'The legality and transparency under international law' },
                    { q: 'What is Venezuela\'s interim government currently struggling with?', options: ['Lowering taxes', 'Maintaining order', 'Buying new planes', 'Cleaning the ocean'], answer: 'Maintaining order' },
                    { q: 'The term "stranded" means what?', options: ['Fast moving', 'Left in a helpless or stuck position', 'Very valuable', 'Secretive'], answer: 'Left in a helpless or stuck position' },
                    { q: 'The word "proceeds" refers to what?', options: ['A legal case', 'Money obtained from an event or sale', 'A travel route', 'A type of fuel'], answer: 'Money obtained from an event or sale' },
                    { q: 'What kind of government is currently in Venezuela according to the text?', options: ['Communist', 'Permanent', 'Interim (temporary)', 'Monarchy'], answer: 'Interim (temporary)' },
                    { q: 'The oil transfer follows which recent event?', options: ['A trade fair', 'A military operation', 'A space mission', 'A soccer game'], answer: 'A military operation' },
                    { q: 'The word "crude" in "crude oil" means what?', options: ['Rude', 'Natural and unprocessed', 'Highly refined', 'Black'], answer: 'Natural and unprocessed' },
                    { q: 'International ______ is the system being used by experts to question the move.', options: ['Trade', 'Science', 'Law', 'Sports'], answer: 'Law' },
                    { q: 'The term "boost" is a synonym for which word?', options: ['Decrease', 'Improvement or increase', 'Failure', 'Ending'], answer: 'Improvement or increase' }
                ]
            },
            'nvidia-ai-immigrants': {
                title: 'é»ƒä»å‹³æå‡ºã€ŒAI ç§»æ°‘ã€',
                english: `Jensen Huang introduced the concept of â€œAI immigrantsâ€, autonomous robots designed to fill global labor shortages. NVIDIA also unveiled â€œAlpamayoâ€, an open-source autonomous driving platform, challenging Teslaâ€™s FSD. The announcement reignited debate over job displacement, economic sustainability, and the need for government oversight in an automated future.`,
                chinese: `é»ƒä»å‹³æå‡ºã€ŒAI ç§»æ°‘ã€æ¦‚å¿µã€‚è¼é” (NVIDIA) åŸ·è¡Œé•·é»ƒä»å‹³æå‡ºäº†ã€ŒAI ç§»æ°‘ã€çš„æ¦‚å¿µï¼Œé€™æ˜¯ä¸€äº›æ—¨åœ¨å¡«è£œå…¨çƒå‹å‹•åŠ›çŸ­ç¼ºçš„è‡ªä¸»æ©Ÿå™¨äººã€‚è¼é”é‚„å…¬å¸ƒäº†ã€ŒAlpamayoã€ï¼Œé€™æ˜¯ä¸€å€‹é–‹æºçš„è‡ªå‹•é§•é§›å¹³å°ï¼ŒæŒ‘æˆ°äº†ç‰¹æ–¯æ‹‰çš„ FSDã€‚æ­¤å…¬å‘Šå†æ¬¡å¼•ç™¼äº†é—œæ–¼å·¥ä½œå–ä»£ã€ç¶“æ¿Ÿæ°¸çºŒæ€§ä»¥åŠåœ¨è‡ªå‹•åŒ–æœªä¾†ä¸­æ”¿åºœç›£ç®¡å¿…è¦æ€§çš„è¾¯è«–ã€‚`,
                vocabulary: [
                    'Jensen Huang (n. proper): é»ƒä»å‹³', 'AI immigrants (n.phr.): AI ç§»æ°‘', 'autonomous (adj.): è‡ªä¸»çš„/è‡ªå‹•çš„', 'robots (n.): æ©Ÿå™¨äºº',
                    'labor shortages (n.phr.): å‹å‹•åŠ›çŸ­ç¼º', 'unveiled (v.): å…¬å¸ƒ/æ­å¹•', 'open-source (adj.): é–‹æºçš„', 'autonomous driving (n.phr.): è‡ªå‹•é§•é§›',
                    'platform (n.): å¹³å°', 'challenging (v.ger.): æŒ‘æˆ°', 'Teslaâ€™s FSD (n. proper): ç‰¹æ–¯æ‹‰å…¨è‡ªå‹•é§•é§›ç³»çµ±', 'reignited (v.): å†æ¬¡å¼•ç™¼',
                    'debate (n.): è¾¯è«–', 'job displacement (n.phr.): å·¥ä½œå–ä»£/å¤±æ¥­ä½ç§»', 'economic sustainability (n.phr.): ç¶“æ¿Ÿæ°¸çºŒæ€§', 'government oversight (n.phr.): æ”¿åºœç›£ç®¡',
                    'automated (adj.): è‡ªå‹•åŒ–çš„', 'future (n.): æœªä¾†', 'concept (n.): æ¦‚å¿µ', 'designed to (phr.): æ—¨åœ¨',
                    'fill (v.): å¡«è£œ', 'platform (n.): æœˆå°/å¹³å°', 'software (n.): è»Ÿé«”', 'reignite (v.): é‡ç‡ƒ',
                    'displacement (n.): å–ä»£/ä½ç§»', 'sustainability (n.): æ°¸çºŒæ€§', 'oversight (n.): ç›£ç£', 'autonomous (adj.): è‡ªä¸»æ€§çš„',
                    'labor (n.): å‹å‹•åŠ›', 'unveil (v.): é€éœ²', 'innovative (adj.): å‰µæ–°çš„', 'industry (n.): ç”¢æ¥­'
                ],
                quiz: [
                    { q: 'What is the name of the concept introduced by Jensen Huang?', options: ['AI Soldiers', 'AI Immigrants', 'AI Citizens', 'AI Students'], answer: 'AI Immigrants' },
                    { q: 'What are "AI immigrants" according to the text?', options: ['Foreign computer programmers', 'Autonomous robots designed to fill labor shortages', 'New apps for migrants', 'Smartphones for travelers'], answer: 'Autonomous robots designed to fill labor shortages' },
                    { q: 'What is the name of NVIDIA\'s new autonomous driving platform?', options: ['FSD', 'Alpamayo', 'Apollo', 'Everest'], answer: 'Alpamayo' },
                    { q: 'What is a key feature of the Alpamayo platform?', options: ['It is expensive.', 'It is open-source.', 'It is secret.', 'It is only for trucks.'], answer: 'It is open-source.' },
                    { q: 'Which company\'s FSD system is NVIDIA challenging?', options: ['Apple', 'Microsoft', 'Tesla', 'Google'], answer: 'Tesla' },
                    { q: 'What kind of debate did this announcement reignite?', options: ['Weather debate', 'Debate over job displacement and economic sustainability', 'Space travel debate', 'Food safety debate'], answer: 'Debate over job displacement and economic sustainability' },
                    { q: 'What is needed in an automated future according to the text?', options: ['More robots', 'Government oversight', 'Higher taxes', 'Less education'], answer: 'Government oversight' },
                    { q: 'The term "autonomous" means what?', options: ['Very expensive', 'Acting independently or having the freedom to do so', 'Manual', 'Broken'], answer: 'Acting independently or having the freedom to do so' },
                    { q: 'What does "job displacement" refer to?', options: ['Moving an office', 'People losing jobs because they are replaced by technology', 'Hiring new workers', 'A type of training'], answer: 'People losing jobs because they are replaced by technology' },
                    { q: 'What does "open-source" mean in software?', options: ['The code is free for anyone to use and modify', 'The code is a secret', 'The code is only for one company', 'The code is broken'], answer: 'The code is free for anyone to use and modify' },
                    { q: 'Jensen Huang is the CEO of which company?', options: ['Tesla', 'NVIDIA', 'Apple', 'Meta'], answer: 'NVIDIA' },
                    { q: 'The announcement was said to "reignite" a debate, meaning what?', options: ['Stop it', 'Start it again', 'Ignore it', 'Finish it'], answer: 'Start it again' },
                    { q: 'What issue are the robots designed to "fill"?', options: ['Empty bottles', 'Global labor shortages', 'Parking spaces', 'New buildings'], answer: 'Global labor shortages' },
                    { q: 'What does "oversight" mean?', options: ['A mistake', 'Supervision or monitoring', 'Looking away', 'Seeing far'], answer: 'Supervision or monitoring' },
                    { q: 'Alpamayo is a platform for what?', options: ['Social media', 'Autonomous driving', 'Gaming', 'Banking'], answer: 'Autonomous driving' }
                ]
            },
            'australia-heatwave': {
                title: 'æ¾³æ´²é­é‡æ¥µç«¯ç†±æµª',
                english: `Australia issued severe heatwave warnings as temperatures surpassed 45Â°C in Victoria and South Australia. Authorities declared high-level fire bans, while health officials warned of critical heatstroke risks. The crisis has renewed debate over climate adaptation, infrastructure resilience, and protection for vulnerable populations.`,
                chinese: `æ¾³æ´²é­é‡æ¥µç«¯ç†±æµªï¼Œæ°£æº«çªç ´ 45Â°Cã€‚éš¨è‘—ç¶­å¤šåˆ©äºå·å’Œå—æ¾³å·çš„æ°£æº«çªç ´ 45Â°Cï¼Œæ¾³æ´²ç™¼å¸ƒäº†åš´é‡çš„ç†±æµªè­¦å‘Šã€‚ç•¶å±€å®£å¸ƒäº†é«˜è¦æ ¼çš„ç¦ç«ä»¤ï¼Œè€Œè¡›ç”Ÿå®˜å“¡å‰‡è­¦å‘Šå­˜åœ¨åš´é‡çš„ä¸­æš‘é¢¨éšªã€‚é€™å ´å±æ©Ÿå†æ¬¡å¼•ç™¼äº†é—œæ–¼æ°£å€™èª¿é©ã€åŸºç¤è¨­æ–½éŸŒæ€§ä»¥åŠå°è„†å¼±æ—ç¾¤ä¿è­·çš„è¾¯è«–ã€‚`,
                vocabulary: [
                    'severe (adj.): åš´é‡çš„', 'heatwave (n.): ç†±æµª', 'surpassed (v.): è¶…é/çªç ´', 'Victoria (n. proper): ç¶­å¤šåˆ©äºå· (æ¾³æ´²åœ°å)',
                    'South Australia (n. proper): å—æ¾³å·', 'authorities (n.): ç•¶å±€', 'declared (v.): å®£å¸ƒ', 'high-level (adj.): é«˜è¦æ ¼çš„/é«˜å±¤ç´šçš„',
                    'fire bans (n.phr.): ç¦ç«ä»¤', 'health officials (n.phr.): è¡›ç”Ÿå®˜å“¡', 'critical (adj.): åš´é‡çš„/é—œéµçš„', 'heatstroke (n.): ä¸­æš‘',
                    'risks (n.): é¢¨éšª', 'renewed (v.pp.): å†æ¬¡å¼•ç™¼/æ›´æ–°çš„', 'climate adaptation (n.phr.): æ°£å€™èª¿é©', 'infrastructure resilience (n.phr.): åŸºç¤è¨­æ–½éŸŒæ€§',
                    'vulnerable populations (n.phr.): è„†å¼±æ—ç¾¤', 'surpass (v.): è¶…é', 'critical (adj.): å±æ€¥çš„', 'adaptation (n.): é©æ‡‰/èª¿é©',
                    'resilience (n.): éŸŒæ€§/å½ˆæ€§', 'vulnerable (adj.): æ˜“å—å‚·çš„/è„†å¼±çš„', 'population (n.): äººå£/æ—ç¾¤', 'warning (n.): è­¦å‘Š',
                    'heat (n.): ç†±', 'temperature (n.): æ°£æº«', 'extreme (adj.): æ¥µç«¯çš„', 'official (n.): å®˜å“¡',
                    'infrastructure (n.): åŸºç¤è¨­æ–½', 'adaptation (n.): é©æ‡‰æ€§', 'resilience (n.): å¾©åŸåŠ›'
                ],
                quiz: [
                    { q: 'In which countries is the severe heatwave occurring?', options: ['USA and Canada', 'Australia', 'China and Japan', 'Brazil'], answer: 'Australia' },
                    { q: 'Temperatures surpassed which level in Victoria and South Australia?', options: ['30Â°C', '35Â°C', '40Â°C', '45Â°C'], answer: '45Â°C' },
                    { q: 'What kind of bans did authorities declare?', options: ['Water bans', 'High-level fire bans', 'Traffic bans', 'Smoking bans'], answer: 'High-level fire bans' },
                    { q: 'What specific health risk did officials warn about?', options: ['Fever', 'Heatstroke risks', 'Broken bones', 'Stomach ache'], answer: 'Heatstroke risks' },
                    { q: 'The crisis has "renewed" debate over what?', options: ['Tourism', 'Climate adaptation and infrastructure resilience', 'New car laws', 'Tax rates'], answer: 'Climate adaptation and infrastructure resilience' },
                    { q: 'Who needs special protection during this crisis?', options: ['Athletes', 'Vulnerable populations', 'Health officials', 'Pilots'], answer: 'Vulnerable populations' },
                    { q: 'The word "surpassed" is a synonym for which word?', options: ['Fell below', 'Stayed the same', 'Exceeded or went beyond', 'Matched'], answer: 'Exceeded or went beyond' },
                    { q: 'What is a "heatwave"?', options: ['A cold wind', 'A period of abnormally hot weather', 'A large wave in the ocean', 'A type of spicy food'], answer: 'A period of abnormally hot weather' },
                    { q: 'What does "resilience" mean?', options: ['Being very weak', 'The ability to recover quickly from difficulties', 'The price of a house', 'A new law'], answer: 'The ability to recover quickly from difficulties' },
                    { q: 'What does "vulnerable" mean?', options: ['Very strong', 'Safe and secure', 'Susceptible to harm or in a position of weakness', 'Very fast'], answer: 'Susceptible to harm or in a position of weakness' },
                    { q: 'Health ______ warned of the risks.', options: ['Lawyers', 'Officials', 'Drivers', 'Students'], answer: 'Officials' },
                    { q: 'The term "fire ban" means it is ______ to start a fire.', options: ['Legal', 'Necessary', 'Illegal/Forbidden', 'Easy'], answer: 'Illegal/Forbidden' },
                    { q: 'Victoria and South Australia are parts of which nation?', options: ['USA', 'Australia', 'UK', 'New Zealand'], answer: 'Australia' },
                    { q: 'The term "adaptation" refers to the process of ______.', options: ['Changing to fit new conditions', 'Staying the same', 'Fighting', 'Leaving'], answer: 'Changing to fit new conditions' },
                    { q: 'Is the heatwave considered "severe"?', options: ['Yes', 'No', 'Only at night', 'The text doesn\'t say'], answer: 'Yes' }
                ]
            }
        };

        // --- STATE & RENDERING ---
        let currentTopicId = Object.keys(NEWS_DATA)[0]; 
        let currentSubTab = 'article'; 
        let quizState = {}; 
        let quizResult = {}; 

        function renderTabs() {
            const tabsContainer = document.getElementById('main-tabs');
            tabsContainer.innerHTML = Object.entries(NEWS_DATA).map(([id, data]) => {
                const isActive = id === currentTopicId ? 'active' : '';
                return `<button class="main-tab-button ${isActive}" onclick="changeTopic('${id}')">${data.title}</button>`;
            }).join('');
        }

        function renderContent() {
            const contentArea = document.getElementById('content-area');
            const data = NEWS_DATA[currentTopicId];
            if (!data) return;
            const quizLength = data.quiz ? data.quiz.length : 0;
            const subTabsHTML = `
                <div class="mb-6 flex space-x-2 border-b pb-4 border-gray-100 overflow-x-auto">
                    <button class="sub-tab-button ${currentSubTab === 'article' ? 'active' : ''}" onclick="changeSubTab('article')">ğŸ“° è‹±æ–‡åŸæ–‡</button>
                    <button class="sub-tab-button ${currentSubTab === 'translation' ? 'active' : ''}" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç¿»è­¯</button>
                    <button class="sub-tab-button ${currentSubTab === 'vocabulary' ? 'active' : ''}" onclick="changeSubTab('vocabulary')">ğŸ“š å–®å­—åº«</button>
                    <button class="sub-tab-button ${currentSubTab === 'quiz' ? 'active' : ''}" onclick="initQuiz()">ğŸ“ æ¸¬é©— (${quizLength} é¡Œ)</button>
                </div>
            `;
            let contentHTML = '';
            switch (currentSubTab) {
                case 'article': contentHTML = renderArticle(data.english, data.title); break;
                case 'translation': contentHTML = renderTranslation(data.chinese, data.title); break;
                case 'vocabulary': contentHTML = renderVocabulary(data.vocabulary, data.title); break;
                case 'quiz': contentHTML = renderQuiz(currentTopicId, data.quiz, data.title); break;
            }
            contentArea.innerHTML = subTabsHTML + contentHTML;
            if (currentSubTab === 'quiz') updateQuizDisplay(currentTopicId, data.quiz);
        }

        function renderArticle(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title}</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-gray-50 rounded-xl shadow-inner border border-gray-100"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-indigo-500 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="changeSubTab('translation')">ğŸ‡¹ğŸ‡¼ å‰å¾€ä¸­æ–‡ç¿»è­¯</button></div>`;
        }

        function renderTranslation(text, title) {
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - ä¸­æ–‡ç¿»è­¯</h2><div class="prose max-w-none text-lg text-gray-700 leading-relaxed p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-xl shadow-inner"><p>${text.trim()}</p></div><div class="mt-6 text-center"><button class="px-6 py-3 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition" onclick="changeSubTab('vocabulary')">ğŸ“– å‰å¾€å–®å­—åº«è¤‡ç¿’</button></div>`;
        }

        function renderVocabulary(vocabArray, title) {
            const listItems = vocabArray.map(item => {
                const parts = item.split(': ');
                return `<li class="p-3 bg-white rounded-lg shadow-sm border border-gray-100"><span class="font-semibold text-indigo-700">${parts[0]}</span> <span class="text-gray-500 text-sm italic">${parts[1]}</span></li>`;
            }).join('');
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - å–®å­—èˆ‡ç‰‡èª</h2><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">${listItems}</ul><div class="mt-8 text-center"><button class="px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 transition" onclick="initQuiz()">ğŸ“ é–‹å§‹æ¸¬é©—</button></div>`;
        }

        function renderQuiz(topicId, quizQuestions, title) {
            const currentQuizState = quizState[topicId] || {};
            const result = quizResult[topicId];
            const questionsHTML = quizQuestions.map((q, index) => {
                const selected = currentQuizState[index];
                const isSubmitted = result !== undefined;
                const optionsHTML = q.options.map((option, optIndex) => {
                    let classes = 'quiz-option p-4 my-2 border border-gray-300 rounded-lg block text-left';
                    if (isSubmitted) {
                        if (option === q.answer) classes += ' correct';
                        else if (selected === option) classes += ' incorrect';
                    } else if (selected === option) classes += ' selected';
                    return `<div class="${classes} ${isSubmitted ? 'pointer-events-none' : ''}" onclick="selectOption('${topicId}', ${index}, '${option.replace(/'/g, "\\'")}')"><span class="font-bold mr-3">${String.fromCharCode(65 + optIndex)}.</span> ${option}${isSubmitted && option === q.answer ? '<span class="ml-2 text-green-700 font-bold"> (æ­£ç¢º)</span>' : ''}</div>`;
                }).join('');
                return `<div class="mb-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-500"><p class="text-xl font-bold text-gray-800 mb-4">Q${index + 1}: ${q.q}</p>${optionsHTML}</div>`;
            }).join('');
            const resultHTML = result ? `<div class="text-center p-8 bg-indigo-100 rounded-xl mb-8 border-4 border-indigo-500"><h3 class="text-3xl font-extrabold text-indigo-700 mb-2">æ¸¬é©—çµæœ</h3><p class="text-4xl font-black text-indigo-900">${result.score} / ${result.total}</p><button class="mt-4 px-6 py-2 bg-yellow-500 text-white font-semibold rounded-full" onclick="initQuiz(true)">ğŸ”„ é‡ç½®æ¸¬é©—</button></div>` : '';
            return `<h2 class="text-3xl font-bold text-gray-800 mb-6">${title} - æ¸¬é©—</h2>${resultHTML}<div id="quiz-questions">${questionsHTML}</div><div class="mt-8 text-center">${result === undefined ? `<button id="submit-quiz-button" class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white text-xl font-bold rounded-xl shadow-lg hover:bg-red-700 transition disabled:opacity-50" onclick="submitQuizAnswer('${topicId}')" disabled>é€å‡ºç­”æ¡ˆä¸¦æŸ¥çœ‹çµæœ</button>` : ''}<p id="quiz-message" class="mt-4 text-red-500 font-semibold"></p></div>`;
        }

        function initQuiz(forceReset = false) {
            const topicId = currentTopicId;
            if (!forceReset && currentSubTab === 'quiz') return;
            quizState[topicId] = {};
            quizResult[topicId] = undefined;
            currentSubTab = 'quiz';
            renderContent();
        }

        function selectOption(topicId, questionIndex, selectedOption) {
            if (quizResult[topicId] !== undefined) return;
            quizState[topicId] = quizState[topicId] || {};
            quizState[topicId][questionIndex] = selectedOption;
            updateQuizDisplay(topicId, NEWS_DATA[topicId].quiz);
        }

        function submitQuizAnswer(topicId) {
            const questions = NEWS_DATA[topicId].quiz;
            const answers = quizState[topicId] || {};
            let score = 0;
            questions.forEach((q, index) => { if (answers[index] === q.answer) score++; });
            quizResult[topicId] = { score, total: questions.length };
            renderContent();
        }

        function updateQuizDisplay(topicId, quizQuestions) {
            const currentQuizState = quizState[topicId] || {};
            const answeredCount = Object.keys(currentQuizState).length;
            const submitButton = document.getElementById('submit-quiz-button');
            const quizMessage = document.getElementById('quiz-message');
            if (submitButton) {
                submitButton.disabled = answeredCount !== quizQuestions.length;
                quizMessage.textContent = answeredCount === quizQuestions.length ? 'æ‰€æœ‰å•é¡Œå·²å›ç­”ã€‚' : `è«‹å®Œæˆæ‰€æœ‰å•é¡Œ (${answeredCount}/${quizQuestions.length})`;
            }
            if (quizResult[topicId] === undefined) {
                document.querySelectorAll('.quiz-option').forEach(element => {
                    const qIdxText = element.closest('.mb-8').querySelector('p').innerText;
                    const match = qIdxText.match(/Q(\d+):/);
                    if (match) {
                        const qIdx = parseInt(match[1]) - 1;
                        const opt = element.innerText.substring(3).replace(' (æ­£ç¢º)', '').trim();
                        element.classList.remove('selected');
                        if (currentQuizState[qIdx] === opt) element.classList.add('selected');
                    }
                });
            }
        }

        function changeTopic(id) { currentTopicId = id; currentSubTab = 'article'; renderTabs(); renderContent(); }
        function changeSubTab(tab) { currentSubTab = tab; renderContent(); }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            window.changeTopic = changeTopic;
            window.changeSubTab = changeSubTab;
            window.selectOption = selectOption;
            window.submitQuizAnswer = submitQuizAnswer;
            window.initQuiz = initQuiz;
        });
    </script>
</body>
</html>